\doxysection{/media/sf\+\_\+\+One\+Drive/\+CNRS/\+Nuball2/lib/\+Classes/\+Co\+Progress\+Bar.\+hpp}
Displays an auto-\/updating progress

\begin{DoxyVerb}   int i = 0;
   int max = 1000000;
   CoProgressBar prog(&i, max);
   for (;i<max; i++)
   {
     prog.show();
   }
\end{DoxyVerb}
 \begin{DoxyNote}{Note}

\end{DoxyNote}
The various show methods go back to the beginning of the line at the end in order to update at next iteration. If you wich to display something else in between, please consider adding an extra end-\/line character (std\+::endl, \textquotesingle{}\textbackslash{}n\textquotesingle{}) ...


\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#ifndef COPROGRESSBAR\_HPP}}
\DoxyCodeLine{\textcolor{preprocessor}{\#define COPROGRESSBAR\_HPP}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include "{}../libCo.hpp"{}}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include "{}Timer.hpp"{}}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keyword}{class} T>}
\DoxyCodeLine{\textcolor{keyword}{class }CoProgressBar}
\DoxyCodeLine{\{}
\DoxyCodeLine{\textcolor{keyword}{public}:}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{comment}{// Constructors :}}
\DoxyCodeLine{  CoProgressBar() noexcept = \textcolor{keywordflow}{default};}
\DoxyCodeLine{  CoProgressBar(T * value, \textcolor{keywordtype}{float} \textcolor{keyword}{const} \& value\_max) : m\_value(value), m\_value\_max(value\_max) \{\}}
\DoxyCodeLine{  CoProgressBar(T * value, \textcolor{keywordtype}{float} \textcolor{keyword}{const} \& value\_max, \textcolor{keywordtype}{int} width) : m\_value(value), m\_value\_max(value\_max), m\_width(width) \{\}}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{comment}{// Settings methods :}}
\DoxyCodeLine{  \textcolor{keywordtype}{bool} setValue(T * value) \{\textcolor{keywordflow}{return} (m\_value = value);\}}
\DoxyCodeLine{  \textcolor{keywordtype}{bool} setValueMax(\textcolor{keywordtype}{float} \textcolor{keyword}{const} \& value\_max) \{\textcolor{keywordflow}{return} (m\_value\_max = value\_max);\}}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{comment}{// Show methods :}}
\DoxyCodeLine{  \textcolor{keywordtype}{void} show(std::string \textcolor{keyword}{const} \& message = \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{  \textcolor{keywordtype}{void} showFast();}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{private}:}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keywordtype}{int} m\_width = 50;}
\DoxyCodeLine{}
\DoxyCodeLine{  T* m\_value = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{  T m\_value\_max = 0;}
\DoxyCodeLine{  \textcolor{keywordtype}{int} m\_last\_value = 0;}
\DoxyCodeLine{}
\DoxyCodeLine{  Timer timer;}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keywordtype}{bool} first\_time = \textcolor{keyword}{true};}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keyword}{class} T>}
\DoxyCodeLine{\textcolor{keywordtype}{void} CoProgressBar<T>::showFast()}
\DoxyCodeLine{\{}
\DoxyCodeLine{  \textcolor{keywordflow}{if} (!m\_value)              throw\_error(\textcolor{stringliteral}{"{}in CoProgressBar<T>::show() : the value has not been set !!"{}});}
\DoxyCodeLine{  \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_value\_max == 0) throw\_error(\textcolor{stringliteral}{"{}in CoProgressBar<T>::show() : the maximum value has not been set !!"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keyword}{auto} \textcolor{keyword}{const} \& real\_procentage = float\_cast(*m\_value)/m\_value\_max;}
\DoxyCodeLine{  \textcolor{keyword}{auto} \textcolor{keyword}{const} \& nb\_chars = int\_cast(real\_procentage*m\_width);}
\DoxyCodeLine{}
\DoxyCodeLine{  std::cout << \textcolor{stringliteral}{"{}|"{}};}
\DoxyCodeLine{  \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i<m\_width; i++) }
\DoxyCodeLine{  \{}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (i<nb\_chars) std::cout << \textcolor{stringliteral}{"{}."{}};}
\DoxyCodeLine{    \textcolor{keywordflow}{else}            std::cout << \textcolor{stringliteral}{"{} "{}};}
\DoxyCodeLine{  \}}
\DoxyCodeLine{  std::cout << \textcolor{stringliteral}{"{}| : "{}} << int\_cast(real\_procentage*100) << \textcolor{stringliteral}{"{}\% "{}} << std::endl << \textcolor{stringliteral}{"{}\(\backslash\)033[F"{}};}
\DoxyCodeLine{  std::cout.flush();}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keyword}{class} T>}
\DoxyCodeLine{\textcolor{keywordtype}{void} CoProgressBar<T>::show(std::string \textcolor{keyword}{const} \& message)}
\DoxyCodeLine{\{}
\DoxyCodeLine{  \textcolor{keywordflow}{if} (!m\_value)              throw\_error(\textcolor{stringliteral}{"{}in CoProgressBar<T>::show() : the value has not been set !!"{}});}
\DoxyCodeLine{  \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_value\_max == 0) throw\_error(\textcolor{stringliteral}{"{}in CoProgressBar<T>::show() : the maximum value has not been set !!"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keywordtype}{float} speed = 0.f;}
\DoxyCodeLine{  \textcolor{keywordflow}{if} (first\_time) \{timer.Restart(); speed = 0; first\_time = \textcolor{keyword}{false};\}}
\DoxyCodeLine{  \textcolor{keywordflow}{else} \{speed = 100*((*m\_value)-\/m\_last\_value)/(timer.TimeSec()*m\_value\_max);\}}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keyword}{auto} \textcolor{keyword}{const} \& real\_procentage = float\_cast(*m\_value)/m\_value\_max;}
\DoxyCodeLine{  \textcolor{keyword}{auto} \textcolor{keyword}{const} \& nb\_chars = int\_cast(real\_procentage*m\_width);}
\DoxyCodeLine{}
\DoxyCodeLine{  std::cout << \textcolor{stringliteral}{"{}|"{}};}
\DoxyCodeLine{  \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i<m\_width; i++) }
\DoxyCodeLine{  \{}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (i<nb\_chars) std::cout << \textcolor{stringliteral}{"{}."{}};}
\DoxyCodeLine{    \textcolor{keywordflow}{else}            std::cout << \textcolor{stringliteral}{"{} "{}};}
\DoxyCodeLine{  \}}
\DoxyCodeLine{  std::cout << \textcolor{stringliteral}{"{}| : "{}} << int\_cast(real\_procentage*100) << \textcolor{stringliteral}{"{}\% ("{}} << std::setprecision(3) << speed << \textcolor{stringliteral}{"{} \%/s)"{}};}
\DoxyCodeLine{  \textcolor{keywordflow}{if} (message!=\textcolor{stringliteral}{"{}"{}}) std::cout << message ;}
\DoxyCodeLine{  std::cout << std::endl << \textcolor{stringliteral}{"{}\(\backslash\)033[F"{}};\textcolor{comment}{// This code flushes the previous line}}
\DoxyCodeLine{  std::cout.flush();}
\DoxyCodeLine{  timer.Restart();}
\DoxyCodeLine{  m\_last\_value = *m\_value;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#endif }\textcolor{comment}{//COPROGRESSBAR\_HPP}}

\end{DoxyCodeInclude}
 