<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nuball2: lib/Modules/Timeshifts.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Nuball2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_timeshifts_8hpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Timeshifts.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_timeshifts_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef TIMESHIFTS_HPP</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define TIMESHIFTS_HPP</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160; </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;../libCo.hpp&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160; </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;../Classes/Detectors.hpp&quot;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;../Classes/FasterReader.hpp&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;../Classes/FilesManager.hpp&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;../Classes/Hit.hpp&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;../Classes/RF_Manager.hpp&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;../Classes/Event.hpp&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;../Classes/CoincBuilder.hpp&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;../Classes/Timer.hpp&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;../Classes/Performances.hpp&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;../MTObjects/MTObject.hpp&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;../MTObjects/MTList.hpp&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;../MTObjects/MTTHist.hpp&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">/* </span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * Author : Corentin Hiver</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * Module part of the NearLine software</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * The timestamps are in picoseconds, so are the timeshifts</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> * Goal 1 : calculate the time shifts between detectors</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * How : </span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * * Use one detector as reference, preferencially with good time resolution</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> * * Create coincidences using the CoincBuilder event builder</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> * * Calculate the difference in timestamp as follow : ref_time - detector_time</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> * * Finally, output the (.dT) file containing the time shifts of all the detectors</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> * * Also produces a .root file containing the raw and corrected time spectra.</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> * * This module includes multithreading management using MTObject::parallelise_function(function, parameters...)</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> * Goal 2 : read a timeshift file (.dT) previously calculated by this module</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> * Goal 3 : apply the timeshifts by calling the operator[] : time_correct = time_shifted + timeshifts[label];</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> * Example at the end</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;template&lt;typename T,  typename = typename std::enable_if&lt;std::is_arithmetic&lt;T&gt;::value&gt;::type&gt;</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="_timeshifts_8hpp.html#a0363984bdeb96360bcf8a0a13163f47a">   39</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="_hit_8hpp.html#a808363c27c30b41f6ed40b62ebde3ee7">Time</a> <a class="code" href="_timeshifts_8hpp.html#a0363984bdeb96360bcf8a0a13163f47a">Shift_cast</a>(T <span class="keyword">const</span> &amp; t) {<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="_hit_8hpp.html#a808363c27c30b41f6ed40b62ebde3ee7">Time</a><span class="keyword">&gt;</span>(t);}</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="class_timeshifts.html">   41</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_timeshifts.html">Timeshifts</a></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;{</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="class_timeshifts.html#ad85f4cabf723d28843393cda47abc2b3">   45</a></span>&#160;  <a class="code" href="class_timeshifts.html#ad85f4cabf723d28843393cda47abc2b3">Timeshifts</a>() {}</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="class_timeshifts.html#ae47e90a384a5dd891bdc5eed10450971">   48</a></span>&#160;  <a class="code" href="class_timeshifts.html#ae47e90a384a5dd891bdc5eed10450971">Timeshifts</a>(std::string <span class="keyword">const</span> &amp; filename) : <a class="code" href="class_timeshifts.html#a1a77bd589fc081641e19c5da8b4e19b6">m_filename</a>(filename) {<span class="keyword">this</span> -&gt; <a class="code" href="class_timeshifts.html#a28163efe8d487669cf50d5f6e1060d71">load</a>(<a class="code" href="class_timeshifts.html#a1a77bd589fc081641e19c5da8b4e19b6">m_filename</a>);}</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a1b9c3b0d8ef43a69bd6e7ce1bd4de5b4">   51</a></span>&#160;  <a class="code" href="class_timeshifts.html#a1b9c3b0d8ef43a69bd6e7ce1bd4de5b4">Timeshifts</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * filename) : <a class="code" href="class_timeshifts.html#a1a77bd589fc081641e19c5da8b4e19b6">m_filename</a>(filename) {<span class="keyword">this</span> -&gt; <a class="code" href="class_timeshifts.html#a28163efe8d487669cf50d5f6e1060d71">load</a>(<a class="code" href="class_timeshifts.html#a1a77bd589fc081641e19c5da8b4e19b6">m_filename</a>);}</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a8b7481d4a5405315c9988812a01428ef">   59</a></span>&#160;  <a class="code" href="class_timeshifts.html#a8b7481d4a5405315c9988812a01428ef">Timeshifts</a>(std::string <span class="keyword">const</span> &amp; path, std::string <span class="keyword">const</span> &amp; name) : <a class="code" href="class_timeshifts.html#a1a77bd589fc081641e19c5da8b4e19b6">m_filename</a>(path+<span class="stringliteral">&quot;Timeshifts/&quot;</span>+name+<span class="stringliteral">&quot;.dT&quot;</span>) {<span class="keyword">this</span> -&gt; <a class="code" href="class_timeshifts.html#a28163efe8d487669cf50d5f6e1060d71">load</a>(<a class="code" href="class_timeshifts.html#a1a77bd589fc081641e19c5da8b4e19b6">m_filename</a>);}</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a4c01a876efaee62fa348581470509736">   62</a></span>&#160;  <a class="code" href="class_timeshifts.html#a4c01a876efaee62fa348581470509736">Timeshifts</a>(<a class="code" href="class_timeshifts.html">Timeshifts</a> <span class="keyword">const</span> &amp; timeshifts) : <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>(timeshifts.<a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>) {}</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a38aac2aef62c8999bb5da97e397ea64c">   64</a></span>&#160;  <a class="code" href="class_timeshifts.html">Timeshifts</a>&amp; <a class="code" href="class_timeshifts.html#a38aac2aef62c8999bb5da97e397ea64c">operator=</a>(<a class="code" href="class_timeshifts.html">Timeshifts</a> <span class="keyword">const</span> &amp; timeshifts)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a> = timeshifts.<a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="class_timeshifts.html#a0bf7feef945319722118991949b033d4">m_ok</a> = timeshifts.<a class="code" href="class_timeshifts.html#a0bf7feef945319722118991949b033d4">m_ok</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  }</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#acca1130b271301c5477d4b4a23ae4e5b">setParameters</a>(std::string <span class="keyword">const</span> &amp; parameter);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#a28163efe8d487669cf50d5f6e1060d71">load</a>(std::string <span class="keyword">const</span> &amp; filename);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#a304c1076d703a78153cfe72d61b28425">setTimeWindow_ns</a>(<a class="code" href="_hit_8hpp.html#ad7cd28c849adeb8fec74d20155b0113d">Time_ns</a> <span class="keyword">const</span> &amp; timewindow_ns);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#a304c1076d703a78153cfe72d61b28425">setTimeWindow_ns</a>(std::string <span class="keyword">const</span> &amp; timewindow_ns_str);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#aa7cb3acf23e80927fa85be636f55a99d">setTimeReference</a>(<a class="code" href="_hit_8hpp.html#ab5dd24876acad09ec52c250c1668466c">Label</a> <span class="keyword">const</span> &amp; timeRef_label);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#aa7cb3acf23e80927fa85be636f55a99d">setTimeReference</a>(std::string <span class="keyword">const</span> &amp; timeRef_name);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a26367484f20648d7c3f5b3bbe5679ca8">setOutDir</a>(std::string <span class="keyword">const</span> &amp; outDir);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a1b6e129787ae7641ecbcb990f6e86bb9">  112</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a1b6e129787ae7641ecbcb990f6e86bb9">verbose</a>(<span class="keywordtype">bool</span> <span class="keyword">const</span> &amp; _verbose = <span class="keyword">true</span>) {<a class="code" href="class_timeshifts.html#a985a81e5fa8d1a8866988c6af1b2ff1c">m_verbose</a> = _verbose;}</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#aa9f0f8cc1d96a5408f233449767ef0f6">setOutRoot</a>(std::string <span class="keyword">const</span> &amp; outroot);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#ab877131bc1bd7394f55c3d46729ac9e6">setOutData</a>(std::string <span class="keyword">const</span> &amp; outdata);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a082a54cde1bb45feca487f15ab4a14c7">setOutName</a>(std::string <span class="keyword">const</span> &amp; outdata);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a6206d2b698c88e80bc42bdf4b51fce14">  148</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a6206d2b698c88e80bc42bdf4b51fce14">setMult</a>(<span class="keywordtype">int</span> <span class="keyword">const</span> &amp; min_mult, <span class="keywordtype">int</span> <span class="keyword">const</span> &amp; max_mult) {<a class="code" href="class_timeshifts.html#ad2182e6c34ecf5b760f67d58167df53e">m_min_mult</a> = min_mult; <a class="code" href="class_timeshifts.html#a46a97751e517cc9f21d54d04bb16c5f5">m_max_mult</a> = max_mult;}</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="class_timeshifts.html#afa21cadd8eac07728df7f51d0dbaa908">  154</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#afa21cadd8eac07728df7f51d0dbaa908">setMaxHits</a>(<a class="code" href="lib_co_8hpp.html#a92c2ca60527219506deb3325507baee0">ulong</a> <span class="keyword">const</span> &amp; max_hits = -1) {<a class="code" href="class_timeshifts.html#a7363de3261a770287e981328276f21dd">m_max_hits</a> = max_hits;}</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="class_timeshifts.html#af6cb9cffa9322eabb7fe712c6e6ae798">  161</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#af6cb9cffa9322eabb7fe712c6e6ae798">setRFShift</a>(<a class="code" href="_hit_8hpp.html#a808363c27c30b41f6ed40b62ebde3ee7">Time</a> <span class="keyword">const</span> &amp; shift) {<a class="code" href="class_r_f___manager.html#ac56cba54c3c01c70e45b40093e3d1a89">RF_Manager::set_offset</a>(shift);}</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a0faeccde5623d6808435414d020d1385">  168</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a0faeccde5623d6808435414d020d1385">setRFOffset_ns</a>(<a class="code" href="_hit_8hpp.html#ad7cd28c849adeb8fec74d20155b0113d">Time_ns</a> <span class="keyword">const</span> &amp; offset_ns) {<a class="code" href="class_r_f___manager.html#ac56cba54c3c01c70e45b40093e3d1a89">RF_Manager::set_offset</a>(<a class="code" href="_hit_8hpp.html#a4ea1ea3a29989c67afc2c4db41e36b15">Time_cast</a>(offset_ns)*1000);}</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="class_timeshifts.html#ac2c3e8e47598e28d49932a3720a6fd58">  175</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#ac2c3e8e47598e28d49932a3720a6fd58">setRFOffset</a>(<a class="code" href="_hit_8hpp.html#a808363c27c30b41f6ed40b62ebde3ee7">Time</a> <span class="keyword">const</span> &amp; offset_ps) {<a class="code" href="class_r_f___manager.html#ac56cba54c3c01c70e45b40093e3d1a89">RF_Manager::set_offset</a>(offset_ps);}</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#a3d3ab1b3498ca45832d8a8735f16e188">calculate</a>(std::string <span class="keyword">const</span> &amp; folder, <span class="keywordtype">int</span> <span class="keyword">const</span> &amp; nb_files = -1);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#a6520eab7a8824f41a2be8517d83fc835">verify</a>(std::string <span class="keyword">const</span> &amp; folder, <span class="keywordtype">int</span> <span class="keyword">const</span> &amp; nb_files = -1);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="class_timeshifts.html#abc70d7dc0c400a76d84f2c5cc30edf77">  185</a></span>&#160;  <span class="keywordtype">bool</span> <span class="keyword">const</span> &amp; <a class="code" href="class_timeshifts.html#abc70d7dc0c400a76d84f2c5cc30edf77">verification</a>(<span class="keywordtype">bool</span> <span class="keyword">const</span> &amp; verif = <span class="keyword">true</span>) {<span class="keywordflow">return</span> (<a class="code" href="class_timeshifts.html#ab4329368cc98918cfd4489788dc4a4f8">m_verification</a> = verif);}</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">// void Print() {print(m_timeshifts);}</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  TH1F* <a class="code" href="class_timeshifts.html#a89dbca371bce4601ee60122f544faf95">shiftTimeSpectra</a>(TH1F* histo, <a class="code" href="_hit_8hpp.html#ab5dd24876acad09ec52c250c1668466c">Label</a> <span class="keyword">const</span> &amp; label, std::string <span class="keyword">const</span> &amp; unit = <span class="stringliteral">&quot;ps&quot;</span>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a942984c1af943a864baf8744babb2d15">  191</a></span>&#160;  <a class="code" href="_hit_8hpp.html#a808363c27c30b41f6ed40b62ebde3ee7">Time</a> <span class="keyword">const</span> &amp; <a class="code" href="class_timeshifts.html#a942984c1af943a864baf8744babb2d15">operator[] </a>(<span class="keywordtype">int</span> <span class="keyword">const</span> &amp; i)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>[i];}</div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a60689326cebd96ae4996522530ffefab">  192</a></span>&#160;  <span class="keyword">operator</span> bool() const &amp; {<span class="keywordflow">return</span> <a class="code" href="class_timeshifts.html#a0bf7feef945319722118991949b033d4">m_ok</a>;}</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a5161a4c343623e92b4e26522ad7ee16a">  194</a></span>&#160;  std::vector&lt;Time&gt; <span class="keyword">const</span> &amp; <a class="code" href="class_timeshifts.html#a5161a4c343623e92b4e26522ad7ee16a">get</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>;}</div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a2b9a1cbb93f280215432c4d323d1114d">  195</a></span>&#160;  <a class="code" href="_hit_8hpp.html#a808363c27c30b41f6ed40b62ebde3ee7">Time</a> <span class="keyword">const</span> &amp; <a class="code" href="class_timeshifts.html#a2b9a1cbb93f280215432c4d323d1114d">get</a>(<span class="keywordtype">int</span> <span class="keyword">const</span> &amp; i)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>[i];}</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a79f5376cf7071865b264989ef46d886f">write</a>    (std::string <span class="keyword">const</span> &amp; name);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a579c8583bd37c3988ffb5cb6df7849f7">writeRoot</a>(std::string <span class="keyword">const</span> &amp; name);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#ad19fdc64b6f8dd54e94665a7170a49a7">writeData</a>(std::string <span class="keyword">const</span> &amp; name);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a82ddafa1c3f1d2c21c33749e70fab876">  201</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a82ddafa1c3f1d2c21c33749e70fab876">setEminADC</a>(<a class="code" href="_hit_8hpp.html#a04b75a9e083a1c44419fdb7c3f87c361">ADC</a> <span class="keyword">const</span> &amp; EminADC) {<a class="code" href="class_timeshifts.html#abc19fb99a4d950501fb53430497e34c2">m_Emin_ADC</a> = EminADC;}</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a2b3ce3e274b28b65f01e336efe99670e">  203</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a2b3ce3e274b28b65f01e336efe99670e">dT_with_RF</a>(<a class="code" href="_detectors_8hpp.html#a7ea6a1daded60b9200989100a41bbc3a">dType</a> <span class="keyword">const</span> &amp; type) {<a class="code" href="class_timeshifts.html#af643b4246a7e7efb0857cec8f705eeb1">m_RF_preferred</a>[type] = <span class="keyword">true</span>;}</div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="class_timeshifts.html#aea8a9a1e849fca3bf3712385bd2155c3">  204</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#aea8a9a1e849fca3bf3712385bd2155c3">dT_with_raising_edge</a>(<a class="code" href="_detectors_8hpp.html#a7ea6a1daded60b9200989100a41bbc3a">dType</a> <span class="keyword">const</span> &amp; type) {<a class="code" href="class_timeshifts.html#a0c81995b961c33e22c49d3d180b3cec5">m_edge_preferred</a>[type] = <span class="keyword">true</span>;}</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a648f30a01a30b44ef675666ddae79f80">  211</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a648f30a01a30b44ef675666ddae79f80">checkForPreprompt</a>(<span class="keywordtype">bool</span> <span class="keyword">const</span> &amp; check = <span class="keyword">true</span>) {<a class="code" href="class_timeshifts.html#afdd59f1f2d548c6bd8ef89d998e8ed1e">m_check_preprompt</a> = check;}</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a715283a5be42b86ca70b4e468ccb2931">  213</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#a715283a5be42b86ca70b4e468ccb2931">CheckParameters</a>()</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a47ae394beae7efa2fb8fa1a3c7f8427d">exists</a>(<a class="code" href="class_timeshifts.html#a149e0f0885280b888df3f2b35ac29af8">m_time_ref_label</a>)) </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;Time reference detector&quot;</span>, <a class="code" href="class_timeshifts.html#a057b1fc1611ed270db718db0b72b801d">m_time_ref_name</a>, <span class="stringliteral">&quot;with label&quot;</span>, <a class="code" href="class_timeshifts.html#a149e0f0885280b888df3f2b35ac29af8">m_time_ref_label</a>, <span class="stringliteral">&quot;do not exists in ID file ...&quot;</span>);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a4338a0a481ffac2a8f8dffbafca76e7d">  223</a></span>&#160;  std::vector&lt;bool&gt;  <a class="code" href="class_timeshifts.html#a4338a0a481ffac2a8f8dffbafca76e7d">m_RF_preferred_label</a>; <span class="comment">// Used to force RF measurement for specific labels;</span></div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a53bfccafc7cfbd834754b752a9a4c313">  224</a></span>&#160;  std::vector&lt;uchar&gt; <a class="code" href="class_timeshifts.html#a53bfccafc7cfbd834754b752a9a4c313">m_nb_shifts_RF_peak</a>;  <span class="comment">// If the peak is not within [+- RF_period] then one need to shift it accordingly</span></div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="class_timeshifts.html#ab098d455164964ba60b9f5c555de74e4">  225</a></span>&#160;  std::vector&lt;bool&gt;  <a class="code" href="class_timeshifts.html#ab098d455164964ba60b9f5c555de74e4">m_edge_preferred_label</a>; <span class="comment">// Used to force RF measurement for specific labels;</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a0ab2718e733f94acda46780191295e3b">  227</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a0ab2718e733f94acda46780191295e3b">rebin</a>(std::string <span class="keyword">const</span> &amp; detector, <a class="code" href="_hit_8hpp.html#ad7cd28c849adeb8fec74d20155b0113d">Time_ns</a> <span class="keyword">const</span> &amp; bin_size_ns)</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="lib_co_8hpp.html#a3b8ddb099e22657a31515fbcd8d1bf67">find_key</a>(<a class="code" href="class_timeshifts.html#a4dd5b35444834dca94e9432619e24c47">m_bins_per_ns</a>, detector)) <a class="code" href="lib_co_8hpp.html#a6df2dcd4b1f61c75dc292942bc5ca74d">throw_error</a>(<span class="stringliteral">&quot;in Timeshifts::rebin(std::string detector, float bin_size_ns) : detector not known !!&quot;</span>);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="class_timeshifts.html#a4dd5b35444834dca94e9432619e24c47">m_bins_per_ns</a>[detector] = bin_size_ns;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="comment">// TODO :</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// void rebin(Label const &amp; label, Time_ns const &amp; bin_size_ns)</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="comment">// {</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="comment">//   m_bins_per_ns_labels[label] = bin_size_ns;</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="comment">// }</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#a0753528955e94c43043cd7d68193f960">Initialize</a>(<span class="keywordtype">bool</span> <span class="keyword">const</span> &amp; initializeRaw = <span class="keyword">false</span>, <span class="keywordtype">bool</span> <span class="keyword">const</span> &amp; initializeCorrected = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#a40254b2aa53028b1b5c941ee1cb3833d">InitializeRaw</a>();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#a05ac31a6c49360d94eeff184dc896c6b">InitializeCorrected</a>();</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a79fe955b7d1bbc12fd4c659691727df3">treatFilesMT</a>(<a class="code" href="class_timeshifts.html">Timeshifts</a> &amp; ts, <a class="code" href="class_m_t_vector.html">MTList</a> &amp; files_MT);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a21dc1e7bf232c6b0637b16aa04e43701">treatFolder</a>(std::string <span class="keyword">const</span> &amp; folder, <span class="keywordtype">int</span> <span class="keyword">const</span> &amp; nb_files = -1);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#aaef5b6fdd23be94ed37a2b4e7fe47b48">treatFile</a>(std::string <span class="keyword">const</span> &amp; filename);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a32079af1345e308feddd58e0950998ab">treatRootFile</a>(std::string <span class="keyword">const</span> &amp; filename);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#abef7234fe827ae3c7758788cf22b6921">treatFasterFile</a>(std::string <span class="keyword">const</span> &amp; filename);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a5c037c5bb4b409c3040982c451c6733d">Fill</a>(<a class="code" href="class_event.html">Event</a> <span class="keyword">const</span> &amp; event, <a class="code" href="class_r_f___manager.html">RF_Manager</a> &amp; rf);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="comment">// void FillRF(Hit const &amp; hit, RF_Manager &amp; rf);</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a608d9443a15dd669920e10dd8baee23a">analyse</a>();</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a0bf7feef945319722118991949b033d4">  253</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#a0bf7feef945319722118991949b033d4">m_ok</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a985a81e5fa8d1a8866988c6af1b2ff1c">  254</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#a985a81e5fa8d1a8866988c6af1b2ff1c">m_verbose</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="class_timeshifts.html#ab4329368cc98918cfd4489788dc4a4f8">  255</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#ab4329368cc98918cfd4489788dc4a4f8">m_verification</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="class_timeshifts.html#af8a8bb48626abf6a9a634b3c826b0e44">  256</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#af8a8bb48626abf6a9a634b3c826b0e44">m_corrected</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="class_timeshifts.html#ad6bda9ede24fd63e7a43ad12bd861a98">  258</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#ad6bda9ede24fd63e7a43ad12bd861a98">m_initialized</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a025f10899ed33302dee33f2e98d40b3a">  259</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#a025f10899ed33302dee33f2e98d40b3a">m_energySpectraInitialized</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a8c7b6bfda5c2dacef69d0b7657d89fce">  260</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#a8c7b6bfda5c2dacef69d0b7657d89fce">m_initializedRaw</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="class_timeshifts.html#ae3b75fce1fde95be5ca45b20cfbb8350">  261</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#ae3b75fce1fde95be5ca45b20cfbb8350">m_initializedCorrected</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="class_timeshifts.html#afdd59f1f2d548c6bd8ef89d998e8ed1e">  263</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#afdd59f1f2d548c6bd8ef89d998e8ed1e">m_check_preprompt</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a4f155373f7d1a70f3f1d06233ebf10c1">  265</a></span>&#160;  <a class="code" href="class_files_manager.html">FilesManager</a> <a class="code" href="class_timeshifts.html#a4f155373f7d1a70f3f1d06233ebf10c1">m_files</a>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a1a77bd589fc081641e19c5da8b4e19b6">  267</a></span>&#160;  std::string <a class="code" href="class_timeshifts.html#a1a77bd589fc081641e19c5da8b4e19b6">m_filename</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">  269</a></span>&#160;  std::vector&lt;Time&gt; <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>;</div>
<div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a64966ebd9e0538d9e3160bbfaf4a74de">  270</a></span>&#160;  std::vector&lt;Timestamp&gt; <a class="code" href="class_timeshifts.html#a64966ebd9e0538d9e3160bbfaf4a74de">mt_ref_time</a>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a221c8bebd939cf4a9442f5c9dddfeefb">  272</a></span>&#160;  <a class="code" href="_hit_8hpp.html#ad7cd28c849adeb8fec74d20155b0113d">Time_ns</a> <a class="code" href="class_timeshifts.html#a221c8bebd939cf4a9442f5c9dddfeefb">m_timewindow_ns</a> = <a class="code" href="_hit_8hpp.html#a04b1f65fe07e6d731225feecab2b66f6">Time_ns_cast</a>(1500);</div>
<div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a73dda60d3425a0de61719829231e6d55">  273</a></span>&#160;  <a class="code" href="_hit_8hpp.html#a808363c27c30b41f6ed40b62ebde3ee7">Time</a> <a class="code" href="class_timeshifts.html#a73dda60d3425a0de61719829231e6d55">m_timewindow</a> = <a class="code" href="_hit_8hpp.html#a4ea1ea3a29989c67afc2c4db41e36b15">Time_cast</a>(<a class="code" href="class_timeshifts.html#a221c8bebd939cf4a9442f5c9dddfeefb">m_timewindow_ns</a>*1000);</div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="class_timeshifts.html#ad2182e6c34ecf5b760f67d58167df53e">  274</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="class_timeshifts.html#ad2182e6c34ecf5b760f67d58167df53e">m_min_mult</a> = 2;</div>
<div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a46a97751e517cc9f21d54d04bb16c5f5">  275</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="class_timeshifts.html#a46a97751e517cc9f21d54d04bb16c5f5">m_max_mult</a> = 2;</div>
<div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a149e0f0885280b888df3f2b35ac29af8">  276</a></span>&#160;  <a class="code" href="_hit_8hpp.html#ab5dd24876acad09ec52c250c1668466c">Label</a> <a class="code" href="class_timeshifts.html#a149e0f0885280b888df3f2b35ac29af8">m_time_ref_label</a> = 252;</div>
<div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a057b1fc1611ed270db718db0b72b801d">  277</a></span>&#160;  std::string <a class="code" href="class_timeshifts.html#a057b1fc1611ed270db718db0b72b801d">m_time_ref_name</a> = <span class="stringliteral">&quot;R1A9_FATIMA_LaBr3&quot;</span>;</div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a7363de3261a770287e981328276f21dd">  278</a></span>&#160;  <a class="code" href="lib_co_8hpp.html#a92c2ca60527219506deb3325507baee0">ulong</a> <a class="code" href="class_timeshifts.html#a7363de3261a770287e981328276f21dd">m_max_hits</a> = -1;</div>
<div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="class_timeshifts.html#abc19fb99a4d950501fb53430497e34c2">  279</a></span>&#160;  <a class="code" href="_hit_8hpp.html#a04b75a9e083a1c44419fdb7c3f87c361">ADC</a> <a class="code" href="class_timeshifts.html#abc19fb99a4d950501fb53430497e34c2">m_Emin_ADC</a> = 0.;</div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a9858ca34e3981520e2c1d5982bb185fd">  280</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="class_timeshifts.html#a9858ca34e3981520e2c1d5982bb185fd">m_nb_detectors</a> = 0;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="comment">// This map holds the number of bins per ns (e.g. for LaBr3 there is one bin every 100 ps)</span></div>
<div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a4dd5b35444834dca94e9432619e24c47">  283</a></span>&#160;  std::map&lt;dType, Time_ns&gt; <a class="code" href="class_timeshifts.html#a4dd5b35444834dca94e9432619e24c47">m_bins_per_ns</a> = </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  { </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    {<span class="stringliteral">&quot;labr&quot;</span>,  10.}, </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    {<span class="stringliteral">&quot;ge&quot;</span>,     1.}, </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    {<span class="stringliteral">&quot;bgo&quot;</span>,    2.}, </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    {<span class="stringliteral">&quot;eden&quot;</span>,   2.}, </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    {<span class="stringliteral">&quot;RF&quot;</span>,    10.}, </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    {<span class="stringliteral">&quot;paris&quot;</span>, 10.}, </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    {<span class="stringliteral">&quot;dssd&quot;</span>,  0.5}</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  };</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="comment">// Idem, but allows to handle individual labels; TODO</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="comment">// std::map&lt;dType, Time_ns&gt; m_bins_per_ns_labels;</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="comment">// This map tell if the timeshift is preferently taken as the </span></div>
<div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="class_timeshifts.html#af643b4246a7e7efb0857cec8f705eeb1">  298</a></span>&#160;  std::map&lt;dType, bool&gt; <a class="code" href="class_timeshifts.html#af643b4246a7e7efb0857cec8f705eeb1">m_RF_preferred</a> = </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  { </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    {<span class="stringliteral">&quot;labr&quot;</span>,  <span class="keyword">false</span>}, </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    {<span class="stringliteral">&quot;ge&quot;</span>,    <span class="keyword">false</span>}, </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    {<span class="stringliteral">&quot;bgo&quot;</span>,   <span class="keyword">false</span>}, </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    {<span class="stringliteral">&quot;eden&quot;</span>,  <span class="keyword">false</span>}, </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    {<span class="stringliteral">&quot;RF&quot;</span>,    <span class="keyword">false</span>}, </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    {<span class="stringliteral">&quot;paris&quot;</span>, <span class="keyword">false</span>}, </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    {<span class="stringliteral">&quot;dssd&quot;</span>,  <span class="keyword">false</span>}</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  };</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="comment">// This map tells if the timeshift is preferently taken as the mean of the peak (false) or the raising edge (true)</span></div>
<div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a0c81995b961c33e22c49d3d180b3cec5">  310</a></span>&#160;  std::map&lt;dType, bool&gt; <a class="code" href="class_timeshifts.html#a0c81995b961c33e22c49d3d180b3cec5">m_edge_preferred</a> = </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  { </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    {<span class="stringliteral">&quot;labr&quot;</span>,  <span class="keyword">false</span>}, </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    {<span class="stringliteral">&quot;ge&quot;</span>,    <span class="keyword">false</span>}, </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    {<span class="stringliteral">&quot;bgo&quot;</span>,   <span class="keyword">false</span>}, </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    {<span class="stringliteral">&quot;eden&quot;</span>,  <span class="keyword">false</span>}, </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    {<span class="stringliteral">&quot;RF&quot;</span>,    <span class="keyword">false</span>}, </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    {<span class="stringliteral">&quot;paris&quot;</span>, <span class="keyword">false</span>}, </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    {<span class="stringliteral">&quot;dssd&quot;</span>,  <span class="keyword">false</span>}</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  };</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a8165d76fc5a92d7d49498624ae2b32b5">  321</a></span>&#160;  std::string <a class="code" href="class_timeshifts.html#a8165d76fc5a92d7d49498624ae2b32b5">m_outDir</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="class_timeshifts.html#af567d75bbe3263cece04cf3e6eff5256">  322</a></span>&#160;  std::string <a class="code" href="class_timeshifts.html#af567d75bbe3263cece04cf3e6eff5256">m_ts_outdir</a> = <span class="stringliteral">&quot;Timeshifts/&quot;</span>;</div>
<div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a7a9d72db7cd915c282014f63c6020d8e">  323</a></span>&#160;  <a class="code" href="class_path.html">Path</a> <a class="code" href="class_timeshifts.html#a7a9d72db7cd915c282014f63c6020d8e">m_outPath</a>;</div>
<div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="class_timeshifts.html#ae3640104ddce3ee9548d83186f4032e6">  324</a></span>&#160;  std::string <a class="code" href="class_timeshifts.html#ae3640104ddce3ee9548d83186f4032e6">m_outRoot</a> = <span class="stringliteral">&quot;timeshifts.root&quot;</span>;</div>
<div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a04a95b4e6269c5a02010909206b24730">  325</a></span>&#160;  std::string <a class="code" href="class_timeshifts.html#a04a95b4e6269c5a02010909206b24730">m_outData</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="comment">// Histograms :</span></div>
<div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a1a70cc43f750599c993c689e62cfb29f">  328</a></span>&#160;  <a class="code" href="class_m_t_t_hist.html">MTTHist&lt;TH1F&gt;</a> <a class="code" href="class_timeshifts.html#a1a70cc43f750599c993c689e62cfb29f">m_EnergyRef</a>; <span class="comment">// Energy spectra of the time reference detector</span></div>
<div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a18d1ff66fe0d6be096467ff874c139dc">  329</a></span>&#160;  <a class="code" href="class_m_t_t_hist.html">MTTHist&lt;TH2F&gt;</a> <a class="code" href="class_timeshifts.html#a18d1ff66fe0d6be096467ff874c139dc">m_EnergyRef_bidim</a>; <span class="comment">// Energy VS Time (unused)</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="class_timeshifts.html#aa45cc86b7201c47bb97f0422dff23725">  331</a></span>&#160;  <a class="code" href="_m_t_t_hist_8hpp.html#ab7cfdf0e608b8024114dc2729684173e">Vector_MTTHist&lt;TH1F&gt;</a> <a class="code" href="class_timeshifts.html#aa45cc86b7201c47bb97f0422dff23725">m_time_spectra</a>; <span class="comment">// Time spectra from coincidence with the time reference detector, one TH1F for each detector</span></div>
<div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="class_timeshifts.html#ae8fe2221ac14c7c9920ba2dee69ec719">  332</a></span>&#160;  <a class="code" href="_m_t_t_hist_8hpp.html#ab7cfdf0e608b8024114dc2729684173e">Vector_MTTHist&lt;TH1F&gt;</a> <a class="code" href="class_timeshifts.html#ae8fe2221ac14c7c9920ba2dee69ec719">m_time_spectra_corrected</a>; <span class="comment">// Time spectra from coincidence with the time reference detector, one TH1F for each detector, after timeshift</span></div>
<div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="class_timeshifts.html#ab9b0b763dbe5e2be797d89e9bcb05c1e">  333</a></span>&#160;  <a class="code" href="class_m_t_t_hist.html">MTTHist&lt;TH2F&gt;</a> <a class="code" href="class_timeshifts.html#ab9b0b763dbe5e2be797d89e9bcb05c1e">m_time_spectra_corrected_bidim</a>; <span class="comment">// Time spectra from coincidence with the time reference detector, X axis label, Y axis time spectra, after timeshift</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="preprocessor">#ifdef USE_RF</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordtype">int</span> m_period = <a class="code" href="_run_matrixator_8hpp.html#a7063002012536e5c151c84a4d4cb508f">USE_RF</a>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <a class="code" href="class_m_t_t_hist.html">MTTHist&lt;TH1F&gt;</a> m_histo_ref_VS_RF; <span class="comment">// RF time spectra of the time reference detector</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <a class="code" href="class_m_t_t_hist.html">MTTHist&lt;TH2F&gt;</a> m_histo_ref_vs_RF_VS_mult; <span class="comment">// RF time spectra VS multiplicity of the time reference detector</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <a class="code" href="class_m_t_t_hist.html">MTTHist&lt;TH1F&gt;</a> m_time_spectra_reference_RF_corrected; <span class="comment">// RF time spectra VS multiplicity of the time reference detector, after timeshift</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <a class="code" href="_m_t_t_hist_8hpp.html#ab7cfdf0e608b8024114dc2729684173e">Vector_MTTHist&lt;TH1F&gt;</a> m_histograms_VS_RF; <span class="comment">// RF time spectra, one TH1F for each detector</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <a class="code" href="_m_t_t_hist_8hpp.html#ab7cfdf0e608b8024114dc2729684173e">Vector_MTTHist&lt;TH1F&gt;</a> m_time_spectra_corrected_RF; <span class="comment">// RF time spectra, one TH1F for each detector, after timeshift</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <a class="code" href="class_m_t_t_hist.html">MTTHist&lt;TH2F&gt;</a> m_time_spectra_corrected_bidim_RF; <span class="comment">// RF time spectra, X axis label, Y axis time spectra, after timeshift</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="preprocessor">#endif </span><span class="comment">//USE_RF</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;};</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a28163efe8d487669cf50d5f6e1060d71">  348</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#a28163efe8d487669cf50d5f6e1060d71">Timeshifts::load</a>(std::string <span class="keyword">const</span> &amp; filename)</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;{</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  std::ifstream inputfile(filename, std::ifstream::in);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keywordflow">if</span> (!inputfile.good()) {<a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;CAN&#39;T OPEN THE TIMESHIFT FILE &quot;</span> + filename);<span class="keywordflow">return</span> <span class="keyword">false</span>;}</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="files__functions_8hpp.html#afd584978228fac5fae283c12837378dd">file_is_empty</a>(inputfile)) {<a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;TIMESHIFT FILE&quot;</span>, filename, <span class="stringliteral">&quot;EMPTY !&quot;</span>);<span class="keywordflow">return</span> <span class="keyword">false</span>;}</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  std::string line = <span class="stringliteral">&quot;&quot;</span>; <span class="comment">// Reading buffer</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <a class="code" href="_hit_8hpp.html#ab5dd24876acad09ec52c250c1668466c">Label</a> label = 0; <span class="comment">// Reading buffer</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="comment">// ----------------------------------------------------- //</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="comment">// First extract the maximum label</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <a class="code" href="_hit_8hpp.html#ab5dd24876acad09ec52c250c1668466c">Label</a> size = 0;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="comment">// Infer the number of detectors from the higher label in calbration file</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keywordflow">while</span> (getline(inputfile, line))</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  { </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    std::istringstream iss(line);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    iss &gt;&gt; label;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">if</span> (size&lt;label) size = label;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  size++; <span class="comment">// The size of the vector must be label_max+1</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="comment">// Ensure there is no mismatch with the detectors module :</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a> &amp;&amp; size&lt;<a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a1177661fb15c9825755925faf00c8398">size</a>()) size = <a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a1177661fb15c9825755925faf00c8398">size</a>();</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  inputfile.clear(); </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  inputfile.seekg(0, inputfile.beg);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="comment">// ----------------------------------------------------- //</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="comment">// Now fill the vector</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>.resize(size, 0);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <a class="code" href="_hit_8hpp.html#a808363c27c30b41f6ed40b62ebde3ee7">Time</a> shift = 0;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keywordflow">while</span> (getline(inputfile, line))</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  { <span class="comment">// Then fill the array</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="class_timeshifts.html#a9858ca34e3981520e2c1d5982bb185fd">m_nb_detectors</a>++;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    std::istringstream iss(line);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    iss &gt;&gt; label &gt;&gt; shift;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>[label] = shift;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    shift = 0;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  inputfile.close();</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;Timeshifts extracted from&quot;</span>, filename);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="class_timeshifts.html#a0bf7feef945319722118991949b033d4">m_ok</a> = <span class="keyword">true</span>);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;}</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="class_timeshifts.html#acca1130b271301c5477d4b4a23ae4e5b">  389</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#acca1130b271301c5477d4b4a23ae4e5b">Timeshifts::setParameters</a>(std::string <span class="keyword">const</span> &amp; parameter)</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;{</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  std::string temp;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  std::istringstream is(parameter);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="keywordflow">while</span>(is &gt;&gt; temp)</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (temp == <span class="stringliteral">&quot;timewindow:&quot;</span> || temp == <span class="stringliteral">&quot;time_window:&quot;</span>)</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      is &gt;&gt; <a class="code" href="class_timeshifts.html#a221c8bebd939cf4a9442f5c9dddfeefb">m_timewindow_ns</a>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      <span class="keywordflow">if</span> (!<span class="keyword">this</span> -&gt; <a class="code" href="class_timeshifts.html#a304c1076d703a78153cfe72d61b28425">setTimeWindow_ns</a>(<a class="code" href="class_timeshifts.html#a221c8bebd939cf4a9442f5c9dddfeefb">m_timewindow_ns</a>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (temp == <span class="stringliteral">&quot;time_reference:&quot;</span> || temp == <span class="stringliteral">&quot;time_ref:&quot;</span>)</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      is &gt;&gt; <a class="code" href="class_timeshifts.html#a057b1fc1611ed270db718db0b72b801d">m_time_ref_name</a>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="keywordflow">if</span> (!<span class="keyword">this</span> -&gt; <a class="code" href="class_timeshifts.html#aa7cb3acf23e80927fa85be636f55a99d">setTimeReference</a>(<a class="code" href="class_timeshifts.html#a057b1fc1611ed270db718db0b72b801d">m_time_ref_name</a>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (temp == <span class="stringliteral">&quot;outDir:&quot;</span>)  {is &gt;&gt; <a class="code" href="class_timeshifts.html#a8165d76fc5a92d7d49498624ae2b32b5">m_outDir</a>; <a class="code" href="class_timeshifts.html#a26367484f20648d7c3f5b3bbe5679ca8">setOutDir</a>(<a class="code" href="class_timeshifts.html#a8165d76fc5a92d7d49498624ae2b32b5">m_outDir</a>);}</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (temp == <span class="stringliteral">&quot;outRoot:&quot;</span>) {is &gt;&gt; <a class="code" href="class_timeshifts.html#ae3640104ddce3ee9548d83186f4032e6">m_outRoot</a>; <a class="code" href="class_timeshifts.html#aa9f0f8cc1d96a5408f233449767ef0f6">setOutRoot</a>(<a class="code" href="class_timeshifts.html#ae3640104ddce3ee9548d83186f4032e6">m_outRoot</a>);}</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (temp == <span class="stringliteral">&quot;outData:&quot;</span>) {is &gt;&gt; <a class="code" href="class_timeshifts.html#a04a95b4e6269c5a02010909206b24730">m_outData</a>; <a class="code" href="class_timeshifts.html#ab877131bc1bd7394f55c3d46729ac9e6">setOutData</a>(<a class="code" href="class_timeshifts.html#a04a95b4e6269c5a02010909206b24730">m_outData</a>);}</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (temp == <span class="stringliteral">&quot;mult:&quot;</span>)    {is &gt;&gt; <a class="code" href="class_timeshifts.html#ad2182e6c34ecf5b760f67d58167df53e">m_min_mult</a> &gt;&gt; <a class="code" href="class_timeshifts.html#a46a97751e517cc9f21d54d04bb16c5f5">m_max_mult</a>; <a class="code" href="class_timeshifts.html#a6206d2b698c88e80bc42bdf4b51fce14">setMult</a>(<a class="code" href="class_timeshifts.html#ad2182e6c34ecf5b760f67d58167df53e">m_min_mult</a>, <a class="code" href="class_timeshifts.html#a46a97751e517cc9f21d54d04bb16c5f5">m_max_mult</a>);} <span class="comment">//by default</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (temp == <span class="stringliteral">&quot;verbose&quot;</span>)  {<a class="code" href="class_timeshifts.html#a1b6e129787ae7641ecbcb990f6e86bb9">verbose</a>(<span class="keyword">true</span>);}</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">else</span> {std::cout &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;ATTENTION, parameter &quot;</span> &lt;&lt; temp &lt;&lt; <span class="stringliteral">&quot; not recognized !&quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl; <span class="keywordflow">return</span> <span class="keyword">false</span>;}</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_timeshifts.html#a04a95b4e6269c5a02010909206b24730">m_outData</a> == <span class="stringliteral">&quot;&quot;</span>) </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <a class="code" href="class_timeshifts.html#a04a95b4e6269c5a02010909206b24730">m_outData</a> = <a class="code" href="files__functions_8hpp.html#a658fd83a6ed34994ff0742273a3cc358">removeExtension</a>(<a class="code" href="class_timeshifts.html#ae3640104ddce3ee9548d83186f4032e6">m_outRoot</a>)+<span class="stringliteral">&quot;.dT&quot;</span>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;Name of the output timeshifts file automatically set to&quot;</span>, <a class="code" href="class_timeshifts.html#a04a95b4e6269c5a02010909206b24730">m_outData</a>);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;}</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a40254b2aa53028b1b5c941ee1cb3833d">  420</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#a40254b2aa53028b1b5c941ee1cb3833d">Timeshifts::InitializeRaw</a>()</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;{</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_timeshifts.html#a8c7b6bfda5c2dacef69d0b7657d89fce">m_initializedRaw</a>) <span class="keywordflow">return</span> <span class="keyword">true</span>;<span class="comment">// To prevent multiple initializations</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="comment">// Raw Timeshifts spectra :</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <a class="code" href="class_timeshifts.html#aa45cc86b7201c47bb97f0422dff23725">m_time_spectra</a>.resize(<a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a1177661fb15c9825755925faf00c8398">size</a>());</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="preprocessor">#ifdef USE_RF</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="comment">// Raw RF Timeshifts spectra :</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  m_histograms_VS_RF.resize(<a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a1177661fb15c9825755925faf00c8398">size</a>());</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  m_histo_ref_VS_RF.reset( <span class="stringliteral">&quot;Ref_RF_calculated&quot;</span>, <span class="stringliteral">&quot;Reference RF calculated;Time[ps];#&quot;</span>, <a class="code" href="class_timeshifts.html#a221c8bebd939cf4a9442f5c9dddfeefb">m_timewindow_ns</a>*<a class="code" href="class_timeshifts.html#a4dd5b35444834dca94e9432619e24c47">m_bins_per_ns</a>[<span class="stringliteral">&quot;RF&quot;</span>], -<a class="code" href="class_timeshifts.html#a73dda60d3425a0de61719829231e6d55">m_timewindow</a>/2, <a class="code" href="class_timeshifts.html#a73dda60d3425a0de61719829231e6d55">m_timewindow</a>/2);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  m_histo_ref_vs_RF_VS_mult.reset( <span class="stringliteral">&quot;Ref_RF_VS_mult&quot;</span>, <span class="stringliteral">&quot;Reference RF VS multiplicity;Time[ps];Multiplicity&quot;</span>, <a class="code" href="class_timeshifts.html#a221c8bebd939cf4a9442f5c9dddfeefb">m_timewindow_ns</a>*<a class="code" href="class_timeshifts.html#a4dd5b35444834dca94e9432619e24c47">m_bins_per_ns</a>[<span class="stringliteral">&quot;RF&quot;</span>],-<a class="code" href="class_timeshifts.html#a73dda60d3425a0de61719829231e6d55">m_timewindow</a>/2,<a class="code" href="class_timeshifts.html#a73dda60d3425a0de61719829231e6d55">m_timewindow</a>/2, 10,0,10 );</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="preprocessor">#endif </span><span class="comment">//USE_RF</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="lib_co_8hpp.html#ad29aff8b0f7fde4ef0291331012e596a">ushort</a> label = 0; label&lt;<a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a1177661fb15c9825755925faf00c8398">size</a>(); label++)</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a47ae394beae7efa2fb8fa1a3c7f8427d">exists</a>(label)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> &amp; name = <a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>[label];</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> &amp; type = <a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a0be56517035f1272af33392665b9ff1f">type</a>(label);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="class_timeshifts.html#aa45cc86b7201c47bb97f0422dff23725">m_time_spectra</a>[label].reset(name.c_str(), name.c_str(), <a class="code" href="class_timeshifts.html#a221c8bebd939cf4a9442f5c9dddfeefb">m_timewindow_ns</a>*<a class="code" href="class_timeshifts.html#a4dd5b35444834dca94e9432619e24c47">m_bins_per_ns</a>[type], -<a class="code" href="class_timeshifts.html#a73dda60d3425a0de61719829231e6d55">m_timewindow</a>/2, <a class="code" href="class_timeshifts.html#a73dda60d3425a0de61719829231e6d55">m_timewindow</a>/2);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="preprocessor">  #ifdef USE_RF</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    m_histograms_VS_RF[label].reset((name+<span class="stringliteral">&quot;_RF&quot;</span>).c_str(), (name+<span class="stringliteral">&quot;_RF&quot;</span>).c_str(), <a class="code" href="class_timeshifts.html#a221c8bebd939cf4a9442f5c9dddfeefb">m_timewindow_ns</a>*<a class="code" href="class_timeshifts.html#a4dd5b35444834dca94e9432619e24c47">m_bins_per_ns</a>[type], -<a class="code" href="class_timeshifts.html#a73dda60d3425a0de61719829231e6d55">m_timewindow</a>/2, <a class="code" href="class_timeshifts.html#a73dda60d3425a0de61719829231e6d55">m_timewindow</a>/2);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">if</span> (type == <span class="stringliteral">&quot;RF&quot;</span>)</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <a class="code" href="class_timeshifts.html#aa45cc86b7201c47bb97f0422dff23725">m_time_spectra</a>[label].reset(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      <a class="code" href="class_timeshifts.html#aa45cc86b7201c47bb97f0422dff23725">m_time_spectra</a>[label].reset(name.c_str(), name.c_str(), 1000, -100, 100);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="preprocessor">  #endif </span><span class="comment">//USE_RF</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  }</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="class_timeshifts.html#a8c7b6bfda5c2dacef69d0b7657d89fce">m_initializedRaw</a> = <span class="keyword">true</span>);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;}</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a05ac31a6c49360d94eeff184dc896c6b">  454</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#a05ac31a6c49360d94eeff184dc896c6b">Timeshifts::InitializeCorrected</a>()</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;{</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_timeshifts.html#ae3b75fce1fde95be5ca45b20cfbb8350">m_initializedCorrected</a>) <span class="keywordflow">return</span> <span class="keyword">true</span>;<span class="comment">// To prevent multiple initializations</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="comment">// Corrected timeshifts spectra :</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <a class="code" href="class_timeshifts.html#ae8fe2221ac14c7c9920ba2dee69ec719">m_time_spectra_corrected</a>.resize(<a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a1177661fb15c9825755925faf00c8398">size</a>());</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <a class="code" href="class_timeshifts.html#ab9b0b763dbe5e2be797d89e9bcb05c1e">m_time_spectra_corrected_bidim</a>.<a class="code" href="class_m_t_t_hist.html#ab31bc7c988df03ecae485b391850e2c0">reset</a>(<span class="stringliteral">&quot;All corrected time spectra&quot;</span>, <span class="stringliteral">&quot;All corrected time spectra;Channel;Time[ps];#&quot;</span>, </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;          <a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a1177661fb15c9825755925faf00c8398">size</a>(), 0, <a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a1177661fb15c9825755925faf00c8398">size</a>(), 1000, -<a class="code" href="class_timeshifts.html#a73dda60d3425a0de61719829231e6d55">m_timewindow</a>/2, <a class="code" href="class_timeshifts.html#a73dda60d3425a0de61719829231e6d55">m_timewindow</a>/2);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="preprocessor">#ifdef USE_RF</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keywordtype">float</span> borne_inf = -100000.f;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keywordtype">float</span> borne_sup = (<a class="code" href="_run_matrixator_8hpp.html#a7063002012536e5c151c84a4d4cb508f">USE_RF</a>+100.f)*1000.f;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keywordtype">float</span> RF_time_window = borne_sup-borne_inf;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordtype">float</span> RF_time_window_ns = RF_time_window/1000.f;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="comment">// Corrected RF timeshifts spectra :</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  m_time_spectra_corrected_RF.resize(<a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a1177661fb15c9825755925faf00c8398">size</a>());<span class="comment">// Initialize the vector</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  m_time_spectra_reference_RF_corrected.reset( <span class="stringliteral">&quot;Ref_RF_corrected&quot;</span>, <span class="stringliteral">&quot;Reference RF corrected;Time[ps];#&quot;</span>, RF_time_window_ns*<a class="code" href="class_timeshifts.html#a4dd5b35444834dca94e9432619e24c47">m_bins_per_ns</a>[<span class="stringliteral">&quot;RF&quot;</span>], borne_inf, borne_sup);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  m_time_spectra_corrected_bidim_RF.reset(<span class="stringliteral">&quot;All_corrected_time_spectra_RF&quot;</span>, <span class="stringliteral">&quot;All corrected time spectra VS RF;Channel;Time[ps];#&quot;</span>, </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;          <a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a1177661fb15c9825755925faf00c8398">size</a>(), 0, <a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a1177661fb15c9825755925faf00c8398">size</a>(), RF_time_window_ns*2, borne_inf, borne_sup);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="preprocessor">#endif </span><span class="comment">//USE_RF</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="keywordflow">for</span> (<a class="code" href="lib_co_8hpp.html#ad29aff8b0f7fde4ef0291331012e596a">ushort</a> label = 0; label&lt;<a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a1177661fb15c9825755925faf00c8398">size</a>(); label++)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a47ae394beae7efa2fb8fa1a3c7f8427d">exists</a>(label)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> &amp; name = <a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>[label];</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> &amp; type = <a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a0be56517035f1272af33392665b9ff1f">type</a>(label);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <a class="code" href="class_timeshifts.html#ae8fe2221ac14c7c9920ba2dee69ec719">m_time_spectra_corrected</a>[label].reset((name+<span class="stringliteral">&quot;_corrected&quot;</span>).c_str(), (name+<span class="stringliteral">&quot; corrected;Time[ps];#&quot;</span>).c_str(), <a class="code" href="class_timeshifts.html#a221c8bebd939cf4a9442f5c9dddfeefb">m_timewindow_ns</a>*<a class="code" href="class_timeshifts.html#a4dd5b35444834dca94e9432619e24c47">m_bins_per_ns</a>[type], -<a class="code" href="class_timeshifts.html#a73dda60d3425a0de61719829231e6d55">m_timewindow</a>/2, <a class="code" href="class_timeshifts.html#a73dda60d3425a0de61719829231e6d55">m_timewindow</a>/2);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="preprocessor">  #ifdef USE_RF</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    m_time_spectra_corrected_RF[label].reset((name+<span class="stringliteral">&quot;_RF_corrected&quot;</span>).c_str(), (name+<span class="stringliteral">&quot; RF corrected;Time[ps];#&quot;</span>).c_str(), RF_time_window_ns*<a class="code" href="class_timeshifts.html#a4dd5b35444834dca94e9432619e24c47">m_bins_per_ns</a>[type], borne_inf, borne_sup);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="preprocessor">  #endif </span><span class="comment">//USE_RF</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="class_timeshifts.html#ae3b75fce1fde95be5ca45b20cfbb8350">m_initializedCorrected</a> = <span class="keyword">true</span>);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;}</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160; </div>
<div class="line"><a name="l00492"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a0753528955e94c43043cd7d68193f960">  492</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#a0753528955e94c43043cd7d68193f960">Timeshifts::Initialize</a>(<span class="keywordtype">bool</span> <span class="keyword">const</span> &amp; initializeRaw, <span class="keywordtype">bool</span> <span class="keyword">const</span> &amp; initializeCorrected)</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;{</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordflow">if</span> (initializeRaw) <span class="keyword">this</span> -&gt; <a class="code" href="class_timeshifts.html#a40254b2aa53028b1b5c941ee1cb3833d">InitializeRaw</a>();</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160; </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="keywordflow">if</span> (initializeCorrected) <span class="keyword">this</span> -&gt; <a class="code" href="class_timeshifts.html#a05ac31a6c49360d94eeff184dc896c6b">InitializeCorrected</a>();    </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_timeshifts.html#a025f10899ed33302dee33f2e98d40b3a">m_energySpectraInitialized</a> &amp;&amp; (initializeRaw || initializeCorrected))</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="comment">// Energy spectra :</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="class_timeshifts.html#a1a70cc43f750599c993c689e62cfb29f">m_EnergyRef</a>.<a class="code" href="class_m_t_t_hist.html#ab31bc7c988df03ecae485b391850e2c0">reset</a>(<span class="stringliteral">&quot;Energy_spectra&quot;</span>, <span class="stringliteral">&quot;Energy_spectra;ADC;#&quot;</span>, 10000, 0, 1000000);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <a class="code" href="class_timeshifts.html#a025f10899ed33302dee33f2e98d40b3a">m_energySpectraInitialized</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="comment">// m_EnergyRef_bidim.reset(&quot;Energy_VS_time&quot;, &quot;Energy VS time&quot;, 100,-1,1, 1000,0,1000000); // Not used yet</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_timeshifts.html#ad6bda9ede24fd63e7a43ad12bd861a98">m_initialized</a>) <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// To prevent multiple initializations</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <a class="code" href="class_timeshifts.html#a64966ebd9e0538d9e3160bbfaf4a74de">mt_ref_time</a>.resize(<a class="code" href="class_m_t_object.html#ad156f9b1c68f0e2713abb16890b1fa15">MTObject::getThreadsNumber</a>(), 0);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="comment">// Check the Detectors module :</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> &amp; label_max = <a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a1177661fb15c9825755925faf00c8398">size</a>();</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keywordflow">if</span> (label_max == 0)</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;PLEASE LOAD THE ID FILE&quot;</span>);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="class_timeshifts.html#a0bf7feef945319722118991949b033d4">m_ok</a> = <a class="code" href="class_timeshifts.html#ad6bda9ede24fd63e7a43ad12bd861a98">m_initialized</a> = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>.resize(label_max, 0);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <a class="code" href="class_timeshifts.html#a4338a0a481ffac2a8f8dffbafca76e7d">m_RF_preferred_label</a>.resize(label_max, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <a class="code" href="class_timeshifts.html#ab098d455164964ba60b9f5c555de74e4">m_edge_preferred_label</a>.resize(label_max, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <a class="code" href="class_timeshifts.html#a53bfccafc7cfbd834754b752a9a4c313">m_nb_shifts_RF_peak</a>.resize(label_max, 0);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160; </div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="class_timeshifts.html#a0bf7feef945319722118991949b033d4">m_ok</a> = <a class="code" href="class_timeshifts.html#ad6bda9ede24fd63e7a43ad12bd861a98">m_initialized</a> = <span class="keyword">true</span>);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;}</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160; </div>
<div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a21dc1e7bf232c6b0637b16aa04e43701">  526</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a21dc1e7bf232c6b0637b16aa04e43701">Timeshifts::treatFolder</a>(std::string <span class="keyword">const</span> &amp; folder, <span class="keywordtype">int</span> <span class="keyword">const</span> &amp; nb_files)</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;{</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <a class="code" href="class_path.html">Path</a> path(folder);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <a class="code" href="class_files_manager.html">FilesManager</a> files;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  files.<a class="code" href="class_files_manager.html#a6d05662378bde592075237b9fa0a5168">addFolder</a>(folder, nb_files);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_m_t_object.html#a6fe86ce1ea64ede7e695490bceb264a3">MTObject::ON</a>)</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  {<span class="comment">// If multithreading, treat each data file of the folder in parallel</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;Calculating timeshifts with&quot;</span>, <a class="code" href="class_m_t_object.html#ac97399bb34f766e41e7f9a1cd1b7eb7a">MTObject::getThreadsNb</a>(),<span class="stringliteral">&quot;threads&quot;</span>);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="class_m_t_vector.html">MTList</a> files_MT(files.<a class="code" href="class_files_manager.html#a2b619786ba65a7ac1e701fc61e2409ae">getListFiles</a>());</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="comment">// The FileManager object isn&#39;t thread safe. </span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="comment">// That is why one has to encapsulate the files list inside a MTList (Multi-Threaded List) :</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="class_m_t_object.html#a35c02650eb403bd54e867f93bb26fc47">MTObject::parallelise_function</a>(<a class="code" href="class_timeshifts.html#a79fe955b7d1bbc12fd4c659691727df3">treatFilesMT</a>, *<span class="keyword">this</span>, files_MT);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  {<span class="comment">// If no multithreading, treat each data file sequentially</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;Calculating timeshifts without multithreading&quot;</span>);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    std::string filename;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordflow">while</span> (files.<a class="code" href="class_files_manager.html#ac4d90f9590ed90fcbbe23557ae88c892">nextFileName</a>(filename))</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      <a class="code" href="class_timeshifts.html#aaef5b6fdd23be94ed37a2b4e7fe47b48">treatFile</a>(filename);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;}</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a3d3ab1b3498ca45832d8a8735f16e188">  551</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#a3d3ab1b3498ca45832d8a8735f16e188">Timeshifts::calculate</a>(std::string <span class="keyword">const</span> &amp; folder, <span class="keywordtype">int</span> <span class="keyword">const</span> &amp; nb_files)</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;{</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <a class="code" href="class_timer.html">Timer</a> timer;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="keywordflow">if</span> (!<span class="keyword">this</span> -&gt; <a class="code" href="class_timeshifts.html#a0753528955e94c43043cd7d68193f960">Initialize</a>(<span class="keyword">true</span>,<span class="keyword">false</span>)) </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;Someting went wrong in the timeshifts calculation initialization...&quot;</span>);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  }</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordflow">if</span> (!<span class="keyword">this</span> -&gt; <a class="code" href="class_timeshifts.html#a715283a5be42b86ca70b4e468ccb2931">CheckParameters</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="comment">// Fill the time spectra with data from data files :</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="keyword">this</span> -&gt; <a class="code" href="class_timeshifts.html#a21dc1e7bf232c6b0637b16aa04e43701">treatFolder</a>(folder, nb_files);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160; </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="comment">// Once the histograms have been filled, fit the peaks :</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keyword">this</span> -&gt; <a class="code" href="class_timeshifts.html#a608d9443a15dd669920e10dd8baee23a">analyse</a>();</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;Timeshifts calculated in&quot;</span>, timer(), timer.<a class="code" href="class_timer.html#a3614503158effc6668bc10001d75d20c">unit</a>());</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;}</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a6520eab7a8824f41a2be8517d83fc835">  578</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#a6520eab7a8824f41a2be8517d83fc835">Timeshifts::verify</a>(std::string <span class="keyword">const</span> &amp; folder, <span class="keywordtype">int</span> <span class="keyword">const</span> &amp; nb_files)</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;{</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <a class="code" href="class_timer.html">Timer</a> timer;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="keywordflow">if</span> (!<span class="keyword">this</span> -&gt; <a class="code" href="class_timeshifts.html#a0753528955e94c43043cd7d68193f960">Initialize</a>(<span class="keyword">false</span>, <span class="keyword">true</span>)) </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;Something went wrong in the timeshifts initialization...&quot;</span>);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>();</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;Timeshifts calculated, now verification time !&quot;</span>);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>();</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <a class="code" href="class_timeshifts.html#af8a8bb48626abf6a9a634b3c826b0e44">m_corrected</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keyword">this</span> -&gt; <a class="code" href="class_timeshifts.html#a21dc1e7bf232c6b0637b16aa04e43701">treatFolder</a>(folder, nb_files);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <a class="code" href="class_timeshifts.html#af8a8bb48626abf6a9a634b3c826b0e44">m_corrected</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;Timeshifts verified in&quot;</span>, timer(), timer.<a class="code" href="class_timer.html#a3614503158effc6668bc10001d75d20c">unit</a>());</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;}</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a79fe955b7d1bbc12fd4c659691727df3">  599</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a79fe955b7d1bbc12fd4c659691727df3">Timeshifts::treatFilesMT</a>(<a class="code" href="class_timeshifts.html">Timeshifts</a> &amp; ts, <a class="code" href="class_m_t_vector.html">MTList</a> &amp; files_MT)</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;{</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <span class="comment">// This method has to be static in order to be multithreaded.</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <span class="comment">// Thus, the only way it can be &quot;link&quot; to the class (i.e. having access to its public members) is to pass the class itself as an argument.</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="comment">// This is done by passing &quot;Timeshifts &amp; ts&quot; in arguments and fill this argument with &quot;*this&quot; in the piece of code that calls it</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="comment">// Finally, we can use the same function as the not multithreaded piece of code.</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  std::string filename;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <span class="keywordflow">while</span> (files_MT.<a class="code" href="class_m_t_vector.html#a824a9ff009dde921eec4759c69f74ca7">getNext</a>(filename))</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    ts.<a class="code" href="class_timeshifts.html#aaef5b6fdd23be94ed37a2b4e7fe47b48">treatFile</a>(filename);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  }</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;}</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno"><a class="line" href="_timeshifts_8hpp.html#a202a57630e2aa9744043c30964b64bcd">  612</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_timeshifts_8hpp.html#a202a57630e2aa9744043c30964b64bcd">get_first_RF_of_file</a>(<a class="code" href="class_faster_reader.html">FasterReader</a> &amp; reader, <a class="code" href="class_hit.html">Hit</a> &amp; hit, <a class="code" href="class_r_f___manager.html">RF_Manager</a> &amp; rf)</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;{</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="comment">// int i = 0;</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="keywordflow">while</span> (reader.<a class="code" href="class_faster_reader.html#a2d05907241b80ed637b2ae5a01503756">Read</a>() &amp;&amp; !(hit.<a class="code" href="class_hit.html#a7742ff02158f94fd0ccd163fc34ee9d1">label</a> == <a class="code" href="class_r_f___manager.html#af38019b6bb4e45be94b17c5d193f5e45">RF_Manager::label</a>)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  rf.<a class="code" href="class_r_f___manager.html#a0261f2b02176a3e5562603c25f31d9a6">setHit</a>(hit);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="comment">// TO BE DONE : reset the reader to the beginning of the file</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;}</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno"><a class="line" href="_timeshifts_8hpp.html#a89eb1093b3fdce57af662ed7b004b0f7">  620</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_timeshifts_8hpp.html#a202a57630e2aa9744043c30964b64bcd">get_first_RF_of_file</a>(TTree * tree, <a class="code" href="class_event.html">Event</a> &amp; event, <a class="code" href="class_r_f___manager.html">RF_Manager</a> &amp; rf)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;{</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keywordtype">int</span> event_i = 0;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="keywordtype">bool</span> done = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keywordflow">while</span> (event_i&lt;tree-&gt;GetEntries() &amp;&amp; done == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    tree -&gt; GetEntry(event_i);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> hit_i = 0; hit_i&lt;<span class="keyword">event</span>.mult; hit_i++)</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      <span class="keywordflow">if</span> (rf.<a class="code" href="class_r_f___manager.html#a0261f2b02176a3e5562603c25f31d9a6">setHit</a>(event,hit_i)) </div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        done = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      }</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  }</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;}</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno"><a class="line" href="class_timeshifts.html#aaef5b6fdd23be94ed37a2b4e7fe47b48">  638</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#aaef5b6fdd23be94ed37a2b4e7fe47b48">Timeshifts::treatFile</a>(std::string <span class="keyword">const</span> &amp; filename)</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;{</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="files__functions_8hpp.html#a321abbd0681c4da012deaf49122389c5">extension</a>(filename) == <span class="stringliteral">&quot;root&quot;</span>) { <a class="code" href="class_timeshifts.html#a32079af1345e308feddd58e0950998ab">treatRootFile</a>(filename);}</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="files__functions_8hpp.html#a321abbd0681c4da012deaf49122389c5">extension</a>(filename) == <span class="stringliteral">&quot;fast&quot;</span>) { <a class="code" href="class_timeshifts.html#abef7234fe827ae3c7758788cf22b6921">treatFasterFile</a>(filename);}</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;}</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160; </div>
<div class="line"><a name="l00644"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a32079af1345e308feddd58e0950998ab">  644</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a32079af1345e308feddd58e0950998ab">Timeshifts::treatRootFile</a>(std::string <span class="keyword">const</span> &amp; filename) </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;{</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  std::unique_ptr&lt;TFile&gt; file (TFile::Open(filename.c_str(), <span class="stringliteral">&quot;READ&quot;</span>));</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  std::unique_ptr&lt;TTree&gt; tree (file-&gt;Get&lt;TTree&gt;(<span class="stringliteral">&quot;Nuball&quot;</span>));</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <a class="code" href="class_event.html">Event</a> event(tree.get(), <span class="stringliteral">&quot;lte&quot;</span>);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> nb_events = tree -&gt; GetEntries();</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="keywordtype">int</span> event_i = 0;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <a class="code" href="class_r_f___manager.html">RF_Manager</a> rf;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <a class="code" href="_timeshifts_8hpp.html#a202a57630e2aa9744043c30964b64bcd">get_first_RF_of_file</a>(tree.get(), event, rf);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="keywordflow">while</span>(event_i&lt;nb_events)</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    tree -&gt; GetEntry(event_i);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> hit = 0; hit&lt;<span class="keyword">event</span>.mult; hit++) </div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="class_timeshifts.html#af8a8bb48626abf6a9a634b3c826b0e44">m_corrected</a>) <span class="keyword">event</span>.times[<span class="keyword">event</span>.labels[hit]] += <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>[<span class="keyword">event</span>.labels[hit]];</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    }</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <a class="code" href="class_timeshifts.html#a5c037c5bb4b409c3040982c451c6733d">Fill</a>(event, rf);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;}</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno"><a class="line" href="class_timeshifts.html#abef7234fe827ae3c7758788cf22b6921">  664</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#abef7234fe827ae3c7758788cf22b6921">Timeshifts::treatFasterFile</a>(std::string <span class="keyword">const</span> &amp; filename)</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;{</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <a class="code" href="class_hit.html">Hit</a> hit;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <a class="code" href="class_faster_reader.html">FasterReader</a> reader(&amp;hit, filename);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <a class="code" href="class_event.html">Event</a> event;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <a class="code" href="class_coinc_builder.html">CoincBuilder</a> coincBuilder(&amp;event, <a class="code" href="class_timeshifts.html#a73dda60d3425a0de61719829231e6d55">m_timewindow</a>);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160; </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <a class="code" href="lib_co_8hpp.html#a69aa29b598b851b0640aa225a9e5d61d">uint</a> counter = 0;  </div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keywordtype">bool</span> <span class="keyword">const</span> maxHitsToRead = (<a class="code" href="class_timeshifts.html#a7363de3261a770287e981328276f21dd">m_max_hits</a>&gt;0);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <a class="code" href="class_r_f___manager.html">RF_Manager</a> rf;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="preprocessor">#ifdef USE_RF</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <a class="code" href="_timeshifts_8hpp.html#a202a57630e2aa9744043c30964b64bcd">get_first_RF_of_file</a>(reader, hit, rf);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="preprocessor">#endif </span><span class="comment">//USE_RF</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="comment">// Handle the first hit :</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  reader.<a class="code" href="class_faster_reader.html#a2d05907241b80ed637b2ae5a01503756">Read</a>(); </div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <a class="code" href="class_timeshifts.html#a64966ebd9e0538d9e3160bbfaf4a74de">mt_ref_time</a>[<a class="code" href="class_m_t_object.html#a9c9a57a49a12e1d408a5354e8520b3fe">MTObject::getThreadIndex</a>()] = hit.<a class="code" href="class_hit.html#ad98aea75b451b3246f45b25f1ccb9221">stamp</a>;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160; </div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="keywordflow">while</span>(reader.<a class="code" href="class_faster_reader.html#a2d05907241b80ed637b2ae5a01503756">Read</a>() &amp;&amp; ((maxHitsToRead) ? (counter&lt;<a class="code" href="class_timeshifts.html#a7363de3261a770287e981328276f21dd">m_max_hits</a>) : <span class="keyword">true</span>) )</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="preprocessor">  #ifdef DEBUG</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">if</span> ( (counter%<span class="keyword">static_cast&lt;</span><a class="code" href="lib_co_8hpp.html#a69aa29b598b851b0640aa225a9e5d61d">uint</a><span class="keyword">&gt;</span>(1.E+6)) == 0 ) <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(counter);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="preprocessor">  #endif </span><span class="comment">//DEBUG</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    counter++;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_timeshifts.html#af8a8bb48626abf6a9a634b3c826b0e44">m_corrected</a>) hit.<a class="code" href="class_hit.html#ad98aea75b451b3246f45b25f1ccb9221">stamp</a> += <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>[hit.<a class="code" href="class_hit.html#a7742ff02158f94fd0ccd163fc34ee9d1">label</a>];</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160; </div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="comment">// This is used to put the energy value of the time reference in the Event (used in the Fill method) :</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordflow">if</span> (hit.<a class="code" href="class_hit.html#a7742ff02158f94fd0ccd163fc34ee9d1">label</a> == <a class="code" href="class_timeshifts.html#a149e0f0885280b888df3f2b35ac29af8">m_time_ref_label</a>) hit.<a class="code" href="class_hit.html#abda4857e925c3a6315a6fb41fad59189">nrj</a> = <a class="code" href="_hit_8hpp.html#a394977782e3af344e009b96c7d5bec92">NRJ_cast</a>(hit.<a class="code" href="class_hit.html#a3d999e7bbbb470d1d3aa55ee772a98d6">adc</a>); </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="preprocessor">  #ifdef USE_RF</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="_detectors_8hpp.html#ae7667a7434fc704d9dcaf6d5e6bd8e39">isRF</a>[hit.<a class="code" href="class_hit.html#a7742ff02158f94fd0ccd163fc34ee9d1">label</a>]) {rf.<a class="code" href="class_r_f___manager.html#a7738dda837846c1dee405dea4d544630">last_hit</a> = hit.<a class="code" href="class_hit.html#ad98aea75b451b3246f45b25f1ccb9221">stamp</a>; rf.<a class="code" href="class_r_f___manager.html#aaafb0a06fe27f4d3121dd41faa6787cd">period</a> = hit.<a class="code" href="class_hit.html#a3d999e7bbbb470d1d3aa55ee772a98d6">adc</a>;}</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="preprocessor">  #endif </span><span class="comment">//USE_RF</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160; </div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordflow">if</span> (coincBuilder.<a class="code" href="class_coinc_builder.html#a6fbd7caa8ab6ac6bbf4d14eb094b6417">build</a>(hit)) </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      <span class="keyword">this</span> -&gt; <a class="code" href="class_timeshifts.html#a5c037c5bb4b409c3040982c451c6733d">Fill</a>(event, rf);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  }</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;}</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a5c037c5bb4b409c3040982c451c6733d">  712</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a5c037c5bb4b409c3040982c451c6733d">Timeshifts::Fill</a>(<a class="code" href="class_event.html">Event</a> <span class="keyword">const</span> &amp; event, <a class="code" href="class_r_f___manager.html">RF_Manager</a> &amp; rf)</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;{</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> &amp; mult = <span class="keyword">event</span>.mult;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  </div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="keywordflow">if</span> (mult &gt;= <a class="code" href="class_timeshifts.html#a46a97751e517cc9f21d54d04bb16c5f5">m_max_mult</a> &amp;&amp;  mult &lt;= <a class="code" href="class_timeshifts.html#ad2182e6c34ecf5b760f67d58167df53e">m_min_mult</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160; </div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="comment">// There are 2 imbricated loops : the first one fills the time spectra and looks for the time reference.</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="comment">// If found, it opens another loop to fill the coincidence time spectra</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="preprocessor">#ifdef USE_RF</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> &amp; rf_Ref = rf.<a class="code" href="class_r_f___manager.html#a15356af241ce65874d01c9479ab48aa4">pulse_ToF</a>(event.<a class="code" href="class_event.html#a448758bc35a7e830f6385c8c1f17461e">stamp</a>);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="preprocessor">#endif </span><span class="comment">//USE_RF</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> loop_i = 0; loop_i &lt; mult; loop_i++)</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keywordtype">bool</span> coincFilled = <span class="keyword">false</span>; <span class="comment">// To only fill the coincidence once.</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160; </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="preprocessor">  #ifdef USE_RF</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> &amp; label = <span class="keyword">event</span>.labels[loop_i];</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> &amp; time = <span class="keyword">event</span>.times[loop_i];</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> &amp; nrj = <span class="keyword">event</span>.nrjs[loop_i];</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> &amp; ToF = <a class="code" href="_hit_8hpp.html#a4ea1ea3a29989c67afc2c4db41e36b15">Time_cast</a>(rf_Ref+time);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160; </div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_timeshifts.html#af8a8bb48626abf6a9a634b3c826b0e44">m_corrected</a>)</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <span class="keywordflow">if</span> (label == <a class="code" href="class_timeshifts.html#a149e0f0885280b888df3f2b35ac29af8">m_time_ref_label</a> &amp;&amp; nrj&gt;<a class="code" href="class_timeshifts.html#abc19fb99a4d950501fb53430497e34c2">m_Emin_ADC</a> &amp;&amp; mult&gt;5) m_time_spectra_reference_RF_corrected.Fill(ToF);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      m_time_spectra_corrected_RF[label].Fill(ToF);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      m_time_spectra_corrected_bidim_RF.Fill(label, ToF);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    }</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keywordflow">else</span> </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    {<span class="comment">// Raw data :</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <span class="keywordflow">if</span> (label == <a class="code" href="class_timeshifts.html#a149e0f0885280b888df3f2b35ac29af8">m_time_ref_label</a> &amp;&amp; nrj&gt;<a class="code" href="class_timeshifts.html#abc19fb99a4d950501fb53430497e34c2">m_Emin_ADC</a>) m_histo_ref_VS_RF.Fill(ToF);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        m_histograms_VS_RF[label].Fill(ToF);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      }</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="preprocessor">  #endif </span><span class="comment">//USE_RF</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="comment">// We require the reference detector in the event :</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">if</span> (event.<a class="code" href="class_event.html#ad016b65deeaef393a94793ef140e1bb8">labels</a>[loop_i] == <a class="code" href="class_timeshifts.html#a149e0f0885280b888df3f2b35ac29af8">m_time_ref_label</a> &amp;&amp; !coincFilled)</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      coincFilled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      <span class="comment">// Extract informations of the reference :</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      <span class="keyword">auto</span> <span class="keyword">const</span> &amp; refPos = loop_i; <span class="comment">// Position of the reference in the event</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <span class="keyword">auto</span> <span class="keyword">const</span> &amp; refE = <span class="keyword">event</span>.nrjs[refPos]; <span class="comment">// Energy deposited in the reference detector</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      <span class="keyword">auto</span> <span class="keyword">const</span> &amp; refT = <span class="keyword">event</span>.times[refPos];<span class="comment">// Timestamp of the hit in the reference detector</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      <span class="comment">// Handle reference detector :</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <span class="keywordflow">if</span> (refE &lt; <a class="code" href="class_timeshifts.html#abc19fb99a4d950501fb53430497e34c2">m_Emin_ADC</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <a class="code" href="class_timeshifts.html#a1a70cc43f750599c993c689e62cfb29f">m_EnergyRef</a>.<a class="code" href="class_m_t_t_hist.html#a3413cee45758fa0ec41020ae067e3e71">Fill</a>(refE);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="comment">// Loop over the other hits of the event :</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> loop_j = 0; loop_j&lt;mult; loop_j++)</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="keyword">auto</span> <span class="keyword">const</span> &amp; label = <span class="keyword">event</span>.labels[loop_j];</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160; </div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        <span class="keywordflow">if</span> (label == <a class="code" href="class_timeshifts.html#a149e0f0885280b888df3f2b35ac29af8">m_time_ref_label</a>) <span class="keywordflow">continue</span>; <span class="comment">// To reject the time spectra of the time reference</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160; </div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        <span class="keyword">auto</span> deltaT = <span class="keyword">static_cast&lt;</span>Long64_t<span class="keyword">&gt;</span>( refT - <span class="keyword">event</span>.times[loop_j] );</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160; </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_timeshifts.html#af8a8bb48626abf6a9a634b3c826b0e44">m_corrected</a>)</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        {</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;          <a class="code" href="class_timeshifts.html#ae8fe2221ac14c7c9920ba2dee69ec719">m_time_spectra_corrected</a>[label].Fill(deltaT);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;          <a class="code" href="class_timeshifts.html#ab9b0b763dbe5e2be797d89e9bcb05c1e">m_time_spectra_corrected_bidim</a>.<a class="code" href="class_m_t_t_hist.html#a3413cee45758fa0ec41020ae067e3e71">Fill</a>(label, deltaT);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <span class="keywordflow">else</span> </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;          <a class="code" href="class_timeshifts.html#aa45cc86b7201c47bb97f0422dff23725">m_time_spectra</a>[label].Fill(deltaT);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        }</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      }</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  }</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;}</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno"><a class="line" href="_timeshifts_8hpp.html#a1efb60019dbe926cccb8410a806d73a9">  785</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="_timeshifts_8hpp.html#a1efb60019dbe926cccb8410a806d73a9">getRFGammaPrompt</a>(TH1F * hist, <span class="keywordtype">bool</span> <span class="keyword">const</span> &amp; check_preprompt)</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;{</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="keyword">auto</span> xAxis = hist -&gt; GetXaxis();</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160; </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> &amp; maxBin = hist -&gt; GetMaximumBin();</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> &amp; maxBin_ps = hist -&gt; GetBinCenter(maxBin);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <span class="keywordflow">if</span>(check_preprompt)</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="comment">// The goal is to detect the moments the preprompt has been spotted</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="comment">// Is we got the preprompt, then the following 10 ns has not a lot of hits, </span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="comment">// compared with the real gamma prompt.</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="comment">// Therefore, we calculate the ratio between the supposedly prompt and the 10 following ns</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="comment">// If that ratio is too small then we take the next higher peak.</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="comment">// CAREFULL : the delayed neutron peak must not exceed the hight of the gamma prompt</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160; </div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="comment">// Integral of the peak : </span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    xAxis -&gt; SetRangeUser(maxBin_ps-5000, maxBin_ps+5000);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> &amp; integral_peak = hist -&gt; Integral();</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160; </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="comment">// Integral of the 10 ns after the peak : </span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    xAxis -&gt; SetRangeUser(maxBin_ps+5000, maxBin_ps+15000);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> &amp; integral_10_ns = hist -&gt; Integral();</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="comment">// Ratio between both integrals :</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> ratio = integral_peak/integral_10_ns;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160; </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="comment">// If too big then move to next :</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">if</span> (ratio&gt;2)</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      xAxis -&gt; SetRangeUser(maxBin_ps+15000, xAxis -&gt; GetXmax());</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <span class="keyword">auto</span> <span class="keyword">const</span> &amp; second_maxBin = hist -&gt; GetMaximumBin();</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      <span class="keyword">auto</span> <span class="keyword">const</span> &amp; second_maxBin_ps = hist -&gt; GetBinCenter(second_maxBin);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      <span class="keywordflow">return</span> second_maxBin_ps;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">return</span> maxBin_ps;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  }</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">return</span> maxBin_ps;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;}</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno"><a class="line" href="_timeshifts_8hpp.html#a0f507d9b001b222817bfc9d8ba01e40e">  825</a></span>&#160;std::vector&lt;Time&gt; <a class="code" href="_timeshifts_8hpp.html#a0f507d9b001b222817bfc9d8ba01e40e">forced_shifts</a>;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160; </div>
<div class="line"><a name="l00827"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a608d9443a15dd669920e10dd8baee23a">  827</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a608d9443a15dd669920e10dd8baee23a">Timeshifts::analyse</a>()</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;{</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <a class="code" href="_timeshifts_8hpp.html#a0f507d9b001b222817bfc9d8ba01e40e">forced_shifts</a>.resize(<a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a1177661fb15c9825755925faf00c8398">size</a>(), 0ll);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="lib_co_8hpp.html#a69aa29b598b851b0640aa225a9e5d61d">uint</a> label = 0; label&lt;<a class="code" href="_timeshifts_8hpp.html#a0f507d9b001b222817bfc9d8ba01e40e">forced_shifts</a>.size(); label++)</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keywordflow">switch</span> (label)</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      <span class="comment">// case 56: case 58: forced_shifts[label] = -400000; break;</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <span class="keywordflow">default</span>: <a class="code" href="_timeshifts_8hpp.html#a0f507d9b001b222817bfc9d8ba01e40e">forced_shifts</a>[label] = 0; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160; </div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="keywordtype">bool</span> has_RF = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160; </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="preprocessor">#ifdef USE_RF</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  has_RF = (m_histo_ref_VS_RF.Integral() &gt; 0);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordflow">if</span> (has_RF)</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  {</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="comment">// Calculating the RF time shift :</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    m_histo_ref_VS_RF.Merge();</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>[<a class="code" href="class_r_f___manager.html#af38019b6bb4e45be94b17c5d193f5e45">RF_Manager::label</a>] = <a class="code" href="_hit_8hpp.html#a4ea1ea3a29989c67afc2c4db41e36b15">Time_cast</a>(<a class="code" href="_timeshifts_8hpp.html#a1efb60019dbe926cccb8410a806d73a9">getRFGammaPrompt</a>(m_histo_ref_VS_RF.get(), <a class="code" href="class_timeshifts.html#afdd59f1f2d548c6bd8ef89d998e8ed1e">m_check_preprompt</a>));</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  }</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  <span class="keywordflow">else</span> </div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;ATTENTION : THIS RUN DOES NOT APPEAR TO CONTAIN ANY RF&quot;</span>);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;RF label is :&quot;</span>, <a class="code" href="class_r_f___manager.html#af38019b6bb4e45be94b17c5d193f5e45">RF_Manager::label</a>);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;Timing reference is :&quot;</span>, <a class="code" href="class_timeshifts.html#a149e0f0885280b888df3f2b35ac29af8">m_time_ref_label</a>);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  }</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="preprocessor">#endif </span><span class="comment">//USE_RF</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="comment">// Loop over all the channels time spectra :</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="_hit_8hpp.html#ab5dd24876acad09ec52c250c1668466c">Label</a> label = 0; label&lt;<a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a1177661fb15c9825755925faf00c8398">size</a>(); label++)</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  {</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a47ae394beae7efa2fb8fa1a3c7f8427d">exists</a>(label)) <span class="keywordflow">continue</span>; <span class="comment">// Reject unused detectors</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keywordflow">if</span> (label == <a class="code" href="class_timeshifts.html#a149e0f0885280b888df3f2b35ac29af8">m_time_ref_label</a>) {<a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>[label] = 0; <span class="keywordflow">continue</span>;} <span class="comment">// Force the reference detector to be at 0;</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    </div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> &amp; type = <a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a0be56517035f1272af33392665b9ff1f">type</a>(label); <span class="comment">// Get the detector&#39;s type (dssd, ge, ...)</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> &amp; name = <a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>[label];<span class="comment">// Get the name (&quot;R3A11_blue&quot;, ...)</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160; </div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_timeshifts.html#a985a81e5fa8d1a8866988c6af1b2ff1c">m_verbose</a>) <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>[label]);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160; </div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="keywordflow">if</span> (type == <span class="stringliteral">&quot;eden&quot;</span> || type == <span class="stringliteral">&quot;RF&quot;</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="comment">// Need to change that afterwards !!!</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="_timeshifts_8hpp.html#a0f507d9b001b222817bfc9d8ba01e40e">forced_shifts</a>[label] != 0)</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    {</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>[label] = <a class="code" href="_timeshifts_8hpp.html#a0f507d9b001b222817bfc9d8ba01e40e">forced_shifts</a>[label];</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    }</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="comment">// A. If RF, one can decide to use the RF time spectra to calculate the time shifts.</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="comment">// Attention !!! This works only if the peak lies bewteen 0 and the RF period, otherwise there will be a shift</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="class_timeshifts.html#af643b4246a7e7efb0857cec8f705eeb1">m_RF_preferred</a>[type] || <a class="code" href="class_timeshifts.html#a4338a0a481ffac2a8f8dffbafca76e7d">m_RF_preferred_label</a>[label]) &amp;&amp; has_RF)</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="preprocessor">  #ifdef USE_RF</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      <span class="keyword">auto</span> <span class="keyword">const</span> &amp; RF_zero = <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>[<a class="code" href="class_r_f___manager.html#af38019b6bb4e45be94b17c5d193f5e45">RF_Manager::label</a>];</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      m_histograms_VS_RF[label].Merge();</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <span class="keywordflow">if</span> (m_histograms_VS_RF[label].Integral() &lt; 50 ) {<a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;Not a lot of hits : only&quot;</span>, m_histograms_VS_RF[label].Integral(), <span class="stringliteral">&quot;for&quot;</span>, name); <span class="keywordflow">continue</span>;}</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      </div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="class_timeshifts.html#a0c81995b961c33e22c49d3d180b3cec5">m_edge_preferred</a>[type] || <a class="code" href="class_timeshifts.html#ab098d455164964ba60b9f5c555de74e4">m_edge_preferred_label</a>[label])</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      { <span class="comment">// Not taking the maximum but the raising edge of the time spectra :</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        <span class="keyword">auto</span> <span class="keyword">const</span> &amp; amppic = m_histograms_VS_RF[label] -&gt; GetMaximum();</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        <span class="keyword">auto</span> <span class="keyword">const</span> &amp; peak_begin = m_histograms_VS_RF[label] -&gt; FindFirstBinAbove(amppic*0.8);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        <span class="keyword">auto</span> <span class="keyword">const</span> &amp; peak_begin_ps = m_histograms_VS_RF[label]-&gt;GetBinCenter(peak_begin); <span class="comment">// In ps</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>[label] = RF_zero - <a class="code" href="_timeshifts_8hpp.html#a0363984bdeb96360bcf8a0a13163f47a">Shift_cast</a>(peak_begin_ps); </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_timeshifts.html#a985a81e5fa8d1a8866988c6af1b2ff1c">m_verbose</a>) <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>( <span class="stringliteral">&quot;Edge :&quot;</span>, <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>[label], <span class="stringliteral">&quot;with max =&quot;</span>, <a class="code" href="lib_co_8hpp.html#a48e80fbfd11f9fb219b92ba1c29c1b2a">int_cast</a>(amppic), <span class="stringliteral">&quot;counts.&quot;</span>);</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      }</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160; </div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      {</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="keywordtype">double</span> mean = 0.;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="lib_root_8hpp.html#accfb8dfb6ee42fa6845013a0cf121ac1">getMeanPeak</a>(m_histograms_VS_RF[label].<a class="code" href="class_timeshifts.html#a5161a4c343623e92b4e26522ad7ee16a">get</a>(), mean)) <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>[label] = RF_zero-<a class="code" href="_timeshifts_8hpp.html#a0363984bdeb96360bcf8a0a13163f47a">Shift_cast</a>(mean);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_timeshifts.html#a985a81e5fa8d1a8866988c6af1b2ff1c">m_verbose</a>) <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>( <span class="stringliteral">&quot;Mean :&quot;</span>, <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>[label], <span class="stringliteral">&quot;with max =&quot;</span>, <a class="code" href="lib_co_8hpp.html#a48e80fbfd11f9fb219b92ba1c29c1b2a">int_cast</a>(m_histograms_VS_RF[label] -&gt; GetMaximum()), <span class="stringliteral">&quot;counts.&quot;</span>);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      }</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="preprocessor">  #endif </span><span class="comment">//USE_RF</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    }</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="comment">// B. Using normal coincidence time spectra : </span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    {</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="class_timeshifts.html#aa45cc86b7201c47bb97f0422dff23725">m_time_spectra</a>[label].Integral() &lt; 50 ) {<a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;Not a lot of hits : only&quot;</span>, <a class="code" href="class_timeshifts.html#aa45cc86b7201c47bb97f0422dff23725">m_time_spectra</a>[label].Integral(), <span class="stringliteral">&quot;for&quot;</span>, name); <span class="keywordflow">continue</span>;}</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      <a class="code" href="class_timeshifts.html#aa45cc86b7201c47bb97f0422dff23725">m_time_spectra</a>[label].Merge();</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160; </div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="class_timeshifts.html#a0c81995b961c33e22c49d3d180b3cec5">m_edge_preferred</a>[type])</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      {</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        <span class="keyword">auto</span> <span class="keyword">const</span> &amp; amppic = <a class="code" href="class_timeshifts.html#aa45cc86b7201c47bb97f0422dff23725">m_time_spectra</a>[label] -&gt; GetMaximum();</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        <span class="keyword">auto</span> <span class="keyword">const</span> &amp; peak_begin = <a class="code" href="class_timeshifts.html#aa45cc86b7201c47bb97f0422dff23725">m_time_spectra</a>[label] -&gt; FindLastBinAbove(amppic*0.8);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        <span class="keyword">auto</span> <span class="keyword">const</span> &amp; peak_bins = <a class="code" href="class_timeshifts.html#aa45cc86b7201c47bb97f0422dff23725">m_time_spectra</a>[label] -&gt; GetBinCenter(peak_begin);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>[label] = <a class="code" href="_timeshifts_8hpp.html#a0363984bdeb96360bcf8a0a13163f47a">Shift_cast</a>(peak_bins); <span class="comment">// In ps</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_timeshifts.html#a985a81e5fa8d1a8866988c6af1b2ff1c">m_verbose</a>) <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>( <span class="stringliteral">&quot;Edge :&quot;</span>, <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>[label], <span class="stringliteral">&quot;with max =&quot;</span>, <a class="code" href="lib_co_8hpp.html#a48e80fbfd11f9fb219b92ba1c29c1b2a">int_cast</a>(<a class="code" href="class_timeshifts.html#aa45cc86b7201c47bb97f0422dff23725">m_time_spectra</a>[label] -&gt; GetMaximum()), <span class="stringliteral">&quot;counts.&quot;</span>);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      }</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      {<span class="comment">// For all the other detectors :</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <span class="keywordtype">double</span> mean = 0.;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="lib_root_8hpp.html#accfb8dfb6ee42fa6845013a0cf121ac1">getMeanPeak</a>(<a class="code" href="class_timeshifts.html#aa45cc86b7201c47bb97f0422dff23725">m_time_spectra</a>[label].<a class="code" href="class_timeshifts.html#a5161a4c343623e92b4e26522ad7ee16a">get</a>(), mean)) <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>[label] = <a class="code" href="_timeshifts_8hpp.html#a0363984bdeb96360bcf8a0a13163f47a">Shift_cast</a>(mean); <span class="keywordflow">else</span> <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>[label] = 0;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_timeshifts.html#a985a81e5fa8d1a8866988c6af1b2ff1c">m_verbose</a>) <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>( <span class="stringliteral">&quot;Mean :&quot;</span>, <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>[label], <span class="stringliteral">&quot;with max =&quot;</span>, <a class="code" href="lib_co_8hpp.html#a48e80fbfd11f9fb219b92ba1c29c1b2a">int_cast</a>(<a class="code" href="class_timeshifts.html#aa45cc86b7201c47bb97f0422dff23725">m_time_spectra</a>[label] -&gt; GetMaximum()), <span class="stringliteral">&quot;counts.&quot;</span>);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      }</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    }</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  }</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;}</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160; </div>
<div class="line"><a name="l00934"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a79f5376cf7071865b264989ef46d886f">  934</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a79f5376cf7071865b264989ef46d886f">Timeshifts::write</a>(std::string <span class="keyword">const</span> &amp; name)</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;{</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <a class="code" href="class_timeshifts.html#a579c8583bd37c3988ffb5cb6df7849f7">writeRoot</a>(name);</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <a class="code" href="class_timeshifts.html#ad19fdc64b6f8dd54e94665a7170a49a7">writeData</a>(name);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;}</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00945"></a><span class="lineno"><a class="line" href="class_timeshifts.html#ad19fdc64b6f8dd54e94665a7170a49a7">  945</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#ad19fdc64b6f8dd54e94665a7170a49a7">Timeshifts::writeData</a>(std::string <span class="keyword">const</span> &amp; name)</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;{</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <a class="code" href="class_timeshifts.html#a7a9d72db7cd915c282014f63c6020d8e">m_outPath</a> = <a class="code" href="class_path.html">Path</a> (<a class="code" href="class_timeshifts.html#a8165d76fc5a92d7d49498624ae2b32b5">m_outDir</a>+<a class="code" href="class_timeshifts.html#af567d75bbe3263cece04cf3e6eff5256">m_ts_outdir</a>, <span class="keyword">true</span>); <span class="comment">// /path/to/output/directory/Timeshifts/, create it if needed</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_timeshifts.html#a7a9d72db7cd915c282014f63c6020d8e">m_outPath</a>) {<a class="code" href="class_timeshifts.html#a0bf7feef945319722118991949b033d4">m_ok</a> = <span class="keyword">false</span>; <span class="keywordflow">return</span>;}</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160; </div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> outData = <a class="code" href="class_timeshifts.html#a7a9d72db7cd915c282014f63c6020d8e">m_outPath</a>+name+<span class="stringliteral">&quot;.dT&quot;</span>;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; </div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  std::ofstream outTimeshiftsFile(outData, std::ios::out);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  </div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="_hit_8hpp.html#ab5dd24876acad09ec52c250c1668466c">Label</a> label = 0; label&lt;<a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>.size(); label++)</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> &amp; dT = <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>[label];</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordflow">if</span> (dT != 0) outTimeshiftsFile &lt;&lt; label &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; dT &lt;&lt; std::endl;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  }</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  outTimeshiftsFile.close();</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160; </div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;Timeshifts data written to&quot;</span>, outData);</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;}</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160; </div>
<div class="line"><a name="l00970"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a579c8583bd37c3988ffb5cb6df7849f7">  970</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a579c8583bd37c3988ffb5cb6df7849f7">Timeshifts::writeRoot</a>(std::string <span class="keyword">const</span> &amp; name)</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;{</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <a class="code" href="class_timeshifts.html#a7a9d72db7cd915c282014f63c6020d8e">m_outPath</a> = <a class="code" href="class_path.html">Path</a> (<a class="code" href="class_timeshifts.html#a8165d76fc5a92d7d49498624ae2b32b5">m_outDir</a>+<a class="code" href="class_timeshifts.html#af567d75bbe3263cece04cf3e6eff5256">m_ts_outdir</a>, <span class="keyword">true</span>); <span class="comment">// /path/to/output/directory/Timeshifts/, create it if needed</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_timeshifts.html#a7a9d72db7cd915c282014f63c6020d8e">m_outPath</a>) {<a class="code" href="class_timeshifts.html#a0bf7feef945319722118991949b033d4">m_ok</a> = <span class="keyword">false</span>; <span class="keywordflow">return</span>;}</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> outRoot = <a class="code" href="class_timeshifts.html#a7a9d72db7cd915c282014f63c6020d8e">m_outPath</a>+name+<span class="stringliteral">&quot;_dT.root&quot;</span>;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  std::unique_ptr&lt;TFile&gt; outFile(TFile::Open((outRoot).c_str(),<span class="stringliteral">&quot;RECREATE&quot;</span>));</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <span class="keywordflow">if</span> (outFile.get() == <span class="keyword">nullptr</span>) {<a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;Cannot open file &quot;</span>, outRoot, <span class="stringliteral">&quot; !!!\nAbort !&quot;</span>);<span class="keywordflow">return</span>;}</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160; </div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <a class="code" href="class_timeshifts.html#a1a70cc43f750599c993c689e62cfb29f">m_EnergyRef</a>.<a class="code" href="class_m_t_t_hist.html#ae9163b5b4afca69cfdebdf2cf60064cd">Write</a>();</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <a class="code" href="class_timeshifts.html#ab9b0b763dbe5e2be797d89e9bcb05c1e">m_time_spectra_corrected_bidim</a>.<a class="code" href="class_m_t_t_hist.html#ae9163b5b4afca69cfdebdf2cf60064cd">Write</a>();</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160; </div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="preprocessor">#ifdef USE_RF</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  m_histo_ref_vs_RF_VS_mult.Write();</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  m_histo_ref_VS_RF.Write();</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  m_time_spectra_corrected_bidim_RF.Write();</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;<span class="preprocessor">#endif </span><span class="comment">//USE_RF</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; histo : <a class="code" href="class_timeshifts.html#aa45cc86b7201c47bb97f0422dff23725">m_time_spectra</a>) histo.Write();</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; histo : <a class="code" href="class_timeshifts.html#ae8fe2221ac14c7c9920ba2dee69ec719">m_time_spectra_corrected</a>) histo.Write();</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160; </div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;<span class="preprocessor">#ifdef USE_RF</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; histo : m_histograms_VS_RF) histo.Write();</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; histo : m_time_spectra_corrected_RF) histo.Write();</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="preprocessor">#endif </span><span class="comment">//USE_RF</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160; </div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  outFile -&gt; Write();</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  outFile -&gt; Close();</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160; </div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;Timeshifts root file saved to &quot;</span> &lt;&lt; outRoot &lt;&lt; std::endl;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;}</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160; </div>
<div class="line"><a name="l01003"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a304c1076d703a78153cfe72d61b28425"> 1003</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#a304c1076d703a78153cfe72d61b28425">Timeshifts::setTimeWindow_ns</a>(<a class="code" href="_hit_8hpp.html#ad7cd28c849adeb8fec74d20155b0113d">Time_ns</a> <span class="keyword">const</span> &amp; timewindow_ns) </div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;{</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="keywordflow">if</span> (timewindow_ns == 0) {std::cout &lt;&lt; <span class="stringliteral">&quot;NO TIME WINDOW !!&quot;</span> &lt;&lt; std::endl; <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <a class="code" href="class_timeshifts.html#a221c8bebd939cf4a9442f5c9dddfeefb">m_timewindow_ns</a> = timewindow_ns;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  <a class="code" href="class_timeshifts.html#a73dda60d3425a0de61719829231e6d55">m_timewindow</a> = <a class="code" href="_hit_8hpp.html#a4ea1ea3a29989c67afc2c4db41e36b15">Time_cast</a>(<a class="code" href="class_timeshifts.html#a221c8bebd939cf4a9442f5c9dddfeefb">m_timewindow_ns</a>*1000);</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;Extracting timeshifts with a time window of &quot;</span>, <a class="code" href="class_timeshifts.html#a221c8bebd939cf4a9442f5c9dddfeefb">m_timewindow_ns</a>, <span class="stringliteral">&quot; ns&quot;</span>);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;}</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"><a class="line" href="class_timeshifts.html#af9da5337ea83092b9a6bb56cdb83f4cb"> 1012</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#a304c1076d703a78153cfe72d61b28425">Timeshifts::setTimeWindow_ns</a>(std::string <span class="keyword">const</span> &amp; timewindow_string) </div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;{</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> timewindow_ns = <a class="code" href="_hit_8hpp.html#a04b1f65fe07e6d731225feecab2b66f6">Time_ns_cast</a>(stod(timewindow_string));</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_timeshifts.html#a304c1076d703a78153cfe72d61b28425">setTimeWindow_ns</a>(timewindow_ns);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;}</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160; </div>
<div class="line"><a name="l01018"></a><span class="lineno"><a class="line" href="class_timeshifts.html#aa7cb3acf23e80927fa85be636f55a99d"> 1018</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#aa7cb3acf23e80927fa85be636f55a99d">Timeshifts::setTimeReference</a>(<a class="code" href="_hit_8hpp.html#ab5dd24876acad09ec52c250c1668466c">Label</a> <span class="keyword">const</span> &amp; timeRef_label)</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;{</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <a class="code" href="class_timeshifts.html#a149e0f0885280b888df3f2b35ac29af8">m_time_ref_label</a> = timeRef_label;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <a class="code" href="class_timeshifts.html#a057b1fc1611ed270db718db0b72b801d">m_time_ref_name</a> = <a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>[<a class="code" href="class_timeshifts.html#a149e0f0885280b888df3f2b35ac29af8">m_time_ref_label</a>];</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;Reference detector set to be &quot;</span> &lt;&lt; <a class="code" href="class_timeshifts.html#a057b1fc1611ed270db718db0b72b801d">m_time_ref_name</a> &lt;&lt; <span class="stringliteral">&quot; (n°&quot;</span> &lt;&lt; <a class="code" href="class_timeshifts.html#a149e0f0885280b888df3f2b35ac29af8">m_time_ref_label</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;}</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160; </div>
<div class="line"><a name="l01026"></a><span class="lineno"><a class="line" href="class_timeshifts.html#aa9f8bdcbeef03f8be872602e6c717d4d"> 1026</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_timeshifts.html#aa7cb3acf23e80927fa85be636f55a99d">Timeshifts::setTimeReference</a>(std::string <span class="keyword">const</span> &amp; timeRef_name)</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;{</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <a class="code" href="class_timeshifts.html#a057b1fc1611ed270db718db0b72b801d">m_time_ref_name</a> = timeRef_name;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="keywordflow">if</span> (timeRef_name == <span class="stringliteral">&quot;&quot;</span>) {std::cout &lt;&lt; <span class="stringliteral">&quot;NO TIME REFERENCE !!&quot;</span> &lt;&lt; std::endl; <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="comment">// If the string contains the label number then convert the string to int (stoi)</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="comment">// If the string contains the detector name then extract the label number from the detectors list (detectors)</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_timeshifts.html#aa7cb3acf23e80927fa85be636f55a99d">setTimeReference</a>( <a class="code" href="_hit_8hpp.html#af181231d97866aa957e8fe8bd67f7f64">Label_cast</a>((<a class="code" href="string__functions_8hpp.html#a4adaa91d1b90e1b97cc5fee8998e09b1">isNumber</a>(timeRef_name)) ? std::stoi(timeRef_name) : <a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a538487678aa928ab2956e6fb40c90472">getLabel</a>(timeRef_name)));</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;}</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160; </div>
<div class="line"><a name="l01035"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a26367484f20648d7c3f5b3bbe5679ca8"> 1035</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a26367484f20648d7c3f5b3bbe5679ca8">Timeshifts::setOutDir</a>(std::string <span class="keyword">const</span> &amp; outDir)</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;{</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <a class="code" href="class_timeshifts.html#a8165d76fc5a92d7d49498624ae2b32b5">m_outDir</a> = outDir;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <a class="code" href="files__functions_8hpp.html#a4a072faccd444b8907dffd96e6211461">push_back_if_none</a>(<a class="code" href="class_timeshifts.html#a8165d76fc5a92d7d49498624ae2b32b5">m_outDir</a>, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;}</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"><a class="line" href="class_timeshifts.html#aa9f0f8cc1d96a5408f233449767ef0f6"> 1041</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#aa9f0f8cc1d96a5408f233449767ef0f6">Timeshifts::setOutRoot</a>(std::string <span class="keyword">const</span> &amp; outroot) </div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;{</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <a class="code" href="class_timeshifts.html#ae3640104ddce3ee9548d83186f4032e6">m_outRoot</a> = outroot+<span class="stringliteral">&quot;dT&quot;</span>; </div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="files__functions_8hpp.html#a321abbd0681c4da012deaf49122389c5">extension</a>(<a class="code" href="class_timeshifts.html#ae3640104ddce3ee9548d83186f4032e6">m_outRoot</a>) != <span class="stringliteral">&quot;root&quot;</span>) </div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <a class="code" href="class_timeshifts.html#ae3640104ddce3ee9548d83186f4032e6">m_outRoot</a> = <a class="code" href="files__functions_8hpp.html#a658fd83a6ed34994ff0742273a3cc358">removeExtension</a>(<a class="code" href="class_timeshifts.html#ae3640104ddce3ee9548d83186f4032e6">m_outRoot</a>)+<span class="stringliteral">&quot;.root&quot;</span>;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  }</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;}</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160; </div>
<div class="line"><a name="l01050"></a><span class="lineno"><a class="line" href="class_timeshifts.html#ab877131bc1bd7394f55c3d46729ac9e6"> 1050</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#ab877131bc1bd7394f55c3d46729ac9e6">Timeshifts::setOutData</a>(std::string <span class="keyword">const</span> &amp; outdata)</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;{</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  <a class="code" href="class_timeshifts.html#a04a95b4e6269c5a02010909206b24730">m_outData</a> = outdata;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="files__functions_8hpp.html#a321abbd0681c4da012deaf49122389c5">extension</a>(<a class="code" href="class_timeshifts.html#a04a95b4e6269c5a02010909206b24730">m_outData</a>) != <span class="stringliteral">&quot;dT&quot;</span>) </div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <a class="code" href="class_timeshifts.html#a04a95b4e6269c5a02010909206b24730">m_outData</a> = <a class="code" href="files__functions_8hpp.html#a658fd83a6ed34994ff0742273a3cc358">removeExtension</a>(<a class="code" href="class_timeshifts.html#a04a95b4e6269c5a02010909206b24730">m_outData</a>)+<span class="stringliteral">&quot;.dT&quot;</span>;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  }</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;}</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160; </div>
<div class="line"><a name="l01059"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a082a54cde1bb45feca487f15ab4a14c7"> 1059</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_timeshifts.html#a082a54cde1bb45feca487f15ab4a14c7">Timeshifts::setOutName</a>(std::string <span class="keyword">const</span> &amp; outname)</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;{</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <a class="code" href="class_timeshifts.html#a04a95b4e6269c5a02010909206b24730">m_outData</a> = outname+<span class="stringliteral">&quot;.dT&quot;</span>;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <a class="code" href="class_timeshifts.html#ae3640104ddce3ee9548d83186f4032e6">m_outRoot</a> = outname+<span class="stringliteral">&quot;_dT.root&quot;</span>;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;}</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160; </div>
<div class="line"><a name="l01065"></a><span class="lineno"><a class="line" href="class_timeshifts.html#a89dbca371bce4601ee60122f544faf95"> 1065</a></span>&#160;TH1F* <a class="code" href="class_timeshifts.html#a89dbca371bce4601ee60122f544faf95">Timeshifts::shiftTimeSpectra</a>(TH1F* histo, <a class="code" href="_hit_8hpp.html#ab5dd24876acad09ec52c250c1668466c">Label</a> <span class="keyword">const</span> &amp; label, std::string <span class="keyword">const</span> &amp; unit)</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;{</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  std::string name = histo-&gt;GetName();</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;&quot;</span>)  <span class="keywordflow">return</span> (<span class="keyword">new</span> TH1F());</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  </div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <span class="keyword">auto</span> axis = histo -&gt; GetXaxis();</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  <span class="keyword">auto</span> bins    = axis -&gt; GetNbins();</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="keyword">auto</span> timeMax = axis -&gt; GetXmax ();</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="keyword">auto</span> timeMin = axis -&gt; GetXmin ();</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="keyword">auto</span> binToTime = (timeMax-timeMin)/bins;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <a class="code" href="_hit_8hpp.html#a808363c27c30b41f6ed40b62ebde3ee7">Time</a> time_to_ps = 1;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160; </div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <span class="keywordflow">if</span> (unit != <span class="stringliteral">&quot;ps&quot;</span>)</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  {</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">if</span> (unit == <span class="stringliteral">&quot;ns&quot;</span>) time_to_ps*=1000;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (unit == <span class="stringliteral">&quot;clock&quot;</span>) time_to_ps*=128; <span class="comment">// Deprecated</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <span class="keywordflow">else</span> { <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;UNKOWN TIME UNIT&quot;</span>, unit); <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;}</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  }</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160; </div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <span class="keyword">auto</span> corrected_histo = <span class="keyword">static_cast&lt;</span>TH1F*<span class="keyword">&gt;</span>(histo -&gt; Clone((name+<span class="stringliteral">&quot;_corrected&quot;</span>).c_str()));</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160; </div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> bin = 1; bin&lt;bins; bin++)</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> time_ps = time_to_ps*<a class="code" href="_timeshifts_8hpp.html#a0363984bdeb96360bcf8a0a13163f47a">Shift_cast</a>(binToTime*bin + timeMin); <span class="comment">// time_to_ps * (coeff*bin + offset_time)</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> new_time_ps = time_ps + <a class="code" href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">m_timeshifts</a>[label];</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> new_time = new_time_ps/time_to_ps;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> newbin = <a class="code" href="lib_co_8hpp.html#a48e80fbfd11f9fb219b92ba1c29c1b2a">int_cast</a>(( <a class="code" href="lib_co_8hpp.html#a2052317e56aa118e7ffcdb2e398f551c">double_cast</a>(new_time) - timeMin ) / binToTime); <span class="comment">// ( (time_ps/time_to_ps) - offset_time) / coeff</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160; </div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="keywordflow">if</span>( newbin&gt;0 &amp;&amp; newbin &lt; bins )</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      corrected_histo -&gt; SetBinContent(newbin, histo-&gt;GetBinContent(bin));</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    }</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  }</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="keywordflow">return</span> corrected_histo;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;}</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160; </div>
<div class="line"><a name="l01103"></a><span class="lineno"><a class="line" href="_timeshifts_8hpp.html#aecdab429e75a8d9f7a38f3938d9a7173"> 1103</a></span>&#160;std::ostream&amp; <a class="code" href="_timeshifts_8hpp.html#aecdab429e75a8d9f7a38f3938d9a7173">operator&lt;&lt;</a>(std::ostream&amp; cout, <a class="code" href="class_timeshifts.html">Timeshifts</a> <span class="keyword">const</span> &amp; ts)</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;{</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  cout &lt;&lt; ts.<a class="code" href="class_timeshifts.html#a5161a4c343623e92b4e26522ad7ee16a">get</a>();</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <span class="keywordflow">return</span> cout;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;}</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160; </div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160; </div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="preprocessor">#endif </span><span class="comment">//TIMESHIFTS_HPP</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160; </div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="comment">// Now create the correctly shifted time spectra :</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<span class="comment">// for (size_t label = 0; label&lt;m_time_spectra.size(); label++)</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;<span class="comment">// {</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="comment">//   auto &amp; histo = m_time_spectra[label];</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="comment">//   if (histo) </span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="comment">//   {</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="comment">//     m_time_spectra_corrected[label].reset( shiftTimeSpectra(histo, label) );</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="comment">//     AddTH1(m_time_spectra_corrected_bidim.get(), m_time_spectra_corrected[label].get(), label, true);</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<span class="comment">//   }</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;<span class="comment">//   auto &amp; histo_RF = m_histograms_VS_RF[label];</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="comment">//   if (histo_RF) </span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="comment">//   {</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="comment">//     m_time_spectra_corrected_RF[label].reset( shiftTimeSpectra(histo_RF, label) );</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="comment">//     AddTH1(m_time_spectra_corrected_bidim_RF.get(), m_time_spectra_corrected_RF[label].get(), label, true);</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="comment">//   }</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;<span class="comment">// }</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="comment">*/</span></div>
<div class="ttc" id="a_detectors_8hpp_html_a06939d30171afd1f13893e05454ed813"><div class="ttname"><a href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a></div><div class="ttdeci">class Detectors detectors</div></div>
<div class="ttc" id="a_detectors_8hpp_html_a7ea6a1daded60b9200989100a41bbc3a"><div class="ttname"><a href="_detectors_8hpp.html#a7ea6a1daded60b9200989100a41bbc3a">dType</a></div><div class="ttdeci">std::string dType</div><div class="ttdef"><b>Definition:</b> Detectors.hpp:7</div></div>
<div class="ttc" id="a_detectors_8hpp_html_ae7667a7434fc704d9dcaf6d5e6bd8e39"><div class="ttname"><a href="_detectors_8hpp.html#ae7667a7434fc704d9dcaf6d5e6bd8e39">isRF</a></div><div class="ttdeci">Bools isRF(SIZE_LOOKUP)</div></div>
<div class="ttc" id="a_histogramor_8hpp_html_ab48a2fa7184e6354788989602c8c8c29"><div class="ttname"><a href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a></div><div class="ttdeci">print(&quot;-i [ID_file]      : Load ID file&quot;)</div></div>
<div class="ttc" id="a_hit_8hpp_html_a04b1f65fe07e6d731225feecab2b66f6"><div class="ttname"><a href="_hit_8hpp.html#a04b1f65fe07e6d731225feecab2b66f6">Time_ns_cast</a></div><div class="ttdeci">Time_ns Time_ns_cast(T const &amp;t)</div><div class="ttdoc">Casts a number into unsigned Time_ns.</div><div class="ttdef"><b>Definition:</b> Hit.hpp:54</div></div>
<div class="ttc" id="a_hit_8hpp_html_a04b75a9e083a1c44419fdb7c3f87c361"><div class="ttname"><a href="_hit_8hpp.html#a04b75a9e083a1c44419fdb7c3f87c361">ADC</a></div><div class="ttdeci">int ADC</div><div class="ttdef"><b>Definition:</b> Hit.hpp:12</div></div>
<div class="ttc" id="a_hit_8hpp_html_a394977782e3af344e009b96c7d5bec92"><div class="ttname"><a href="_hit_8hpp.html#a394977782e3af344e009b96c7d5bec92">NRJ_cast</a></div><div class="ttdeci">NRJ NRJ_cast(T const &amp;t)</div><div class="ttdoc">Casts a number into unsigned NRJ.</div><div class="ttdef"><b>Definition:</b> Hit.hpp:50</div></div>
<div class="ttc" id="a_hit_8hpp_html_a4ea1ea3a29989c67afc2c4db41e36b15"><div class="ttname"><a href="_hit_8hpp.html#a4ea1ea3a29989c67afc2c4db41e36b15">Time_cast</a></div><div class="ttdeci">Time Time_cast(T const &amp;t)</div><div class="ttdoc">Casts a number into unsigned Time.</div><div class="ttdef"><b>Definition:</b> Hit.hpp:46</div></div>
<div class="ttc" id="a_hit_8hpp_html_a808363c27c30b41f6ed40b62ebde3ee7"><div class="ttname"><a href="_hit_8hpp.html#a808363c27c30b41f6ed40b62ebde3ee7">Time</a></div><div class="ttdeci">Long64_t Time</div><div class="ttdef"><b>Definition:</b> Hit.hpp:15</div></div>
<div class="ttc" id="a_hit_8hpp_html_ab5dd24876acad09ec52c250c1668466c"><div class="ttname"><a href="_hit_8hpp.html#ab5dd24876acad09ec52c250c1668466c">Label</a></div><div class="ttdeci">ushort Label</div><div class="ttdoc">Data types ///.</div><div class="ttdef"><b>Definition:</b> Hit.hpp:11</div></div>
<div class="ttc" id="a_hit_8hpp_html_ad7cd28c849adeb8fec74d20155b0113d"><div class="ttname"><a href="_hit_8hpp.html#ad7cd28c849adeb8fec74d20155b0113d">Time_ns</a></div><div class="ttdeci">float Time_ns</div><div class="ttdef"><b>Definition:</b> Hit.hpp:16</div></div>
<div class="ttc" id="a_hit_8hpp_html_af181231d97866aa957e8fe8bd67f7f64"><div class="ttname"><a href="_hit_8hpp.html#af181231d97866aa957e8fe8bd67f7f64">Label_cast</a></div><div class="ttdeci">Label Label_cast(T const &amp;t)</div><div class="ttdoc">Data casts ///.</div><div class="ttdef"><b>Definition:</b> Hit.hpp:38</div></div>
<div class="ttc" id="a_m_t_t_hist_8hpp_html_ab7cfdf0e608b8024114dc2729684173e"><div class="ttname"><a href="_m_t_t_hist_8hpp.html#ab7cfdf0e608b8024114dc2729684173e">Vector_MTTHist</a></div><div class="ttdeci">std::vector&lt; MTTHist&lt; THist &gt; &gt; Vector_MTTHist</div><div class="ttdef"><b>Definition:</b> MTTHist.hpp:591</div></div>
<div class="ttc" id="a_run_matrixator_8hpp_html_a7063002012536e5c151c84a4d4cb508f"><div class="ttname"><a href="_run_matrixator_8hpp.html#a7063002012536e5c151c84a4d4cb508f">USE_RF</a></div><div class="ttdeci">#define USE_RF</div><div class="ttdef"><b>Definition:</b> RunMatrixator.hpp:4</div></div>
<div class="ttc" id="a_timeshifts_8hpp_html_a0363984bdeb96360bcf8a0a13163f47a"><div class="ttname"><a href="_timeshifts_8hpp.html#a0363984bdeb96360bcf8a0a13163f47a">Shift_cast</a></div><div class="ttdeci">Time Shift_cast(T const &amp;t)</div><div class="ttdoc">Casts a number into unsigned Time.</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:39</div></div>
<div class="ttc" id="a_timeshifts_8hpp_html_a0f507d9b001b222817bfc9d8ba01e40e"><div class="ttname"><a href="_timeshifts_8hpp.html#a0f507d9b001b222817bfc9d8ba01e40e">forced_shifts</a></div><div class="ttdeci">std::vector&lt; Time &gt; forced_shifts</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:825</div></div>
<div class="ttc" id="a_timeshifts_8hpp_html_a1efb60019dbe926cccb8410a806d73a9"><div class="ttname"><a href="_timeshifts_8hpp.html#a1efb60019dbe926cccb8410a806d73a9">getRFGammaPrompt</a></div><div class="ttdeci">double getRFGammaPrompt(TH1F *hist, bool const &amp;check_preprompt)</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:785</div></div>
<div class="ttc" id="a_timeshifts_8hpp_html_a202a57630e2aa9744043c30964b64bcd"><div class="ttname"><a href="_timeshifts_8hpp.html#a202a57630e2aa9744043c30964b64bcd">get_first_RF_of_file</a></div><div class="ttdeci">void get_first_RF_of_file(FasterReader &amp;reader, Hit &amp;hit, RF_Manager &amp;rf)</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:612</div></div>
<div class="ttc" id="a_timeshifts_8hpp_html_aecdab429e75a8d9f7a38f3938d9a7173"><div class="ttname"><a href="_timeshifts_8hpp.html#aecdab429e75a8d9f7a38f3938d9a7173">operator&lt;&lt;</a></div><div class="ttdeci">std::ostream &amp; operator&lt;&lt;(std::ostream &amp;cout, Timeshifts const &amp;ts)</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:1103</div></div>
<div class="ttc" id="aclass_coinc_builder_html"><div class="ttname"><a href="class_coinc_builder.html">CoincBuilder</a></div><div class="ttdoc">Coincidence builder.</div><div class="ttdef"><b>Definition:</b> CoincBuilder.hpp:22</div></div>
<div class="ttc" id="aclass_coinc_builder_html_a6fbd7caa8ab6ac6bbf4d14eb094b6417"><div class="ttname"><a href="class_coinc_builder.html#a6fbd7caa8ab6ac6bbf4d14eb094b6417">CoincBuilder::build</a></div><div class="ttdeci">bool build(Hit const &amp;_hit)</div><div class="ttdoc">Add Hits to the event. Return true when an event is complete, i.e. current hit is outside of time win...</div><div class="ttdef"><b>Definition:</b> CoincBuilder.hpp:49</div></div>
<div class="ttc" id="aclass_detectors_html_a0be56517035f1272af33392665b9ff1f"><div class="ttname"><a href="class_detectors.html#a0be56517035f1272af33392665b9ff1f">Detectors::type</a></div><div class="ttdeci">auto const  &amp; type(Label const &amp;label)</div><div class="ttdef"><b>Definition:</b> Detectors.hpp:93</div></div>
<div class="ttc" id="aclass_detectors_html_a1177661fb15c9825755925faf00c8398"><div class="ttname"><a href="class_detectors.html#a1177661fb15c9825755925faf00c8398">Detectors::size</a></div><div class="ttdeci">auto const size() const</div><div class="ttdoc">Return the value of the maximum label, i.e. the size of the lookup tables.</div><div class="ttdef"><b>Definition:</b> Detectors.hpp:74</div></div>
<div class="ttc" id="aclass_detectors_html_a47ae394beae7efa2fb8fa1a3c7f8427d"><div class="ttname"><a href="class_detectors.html#a47ae394beae7efa2fb8fa1a3c7f8427d">Detectors::exists</a></div><div class="ttdeci">bool exists(Label const &amp;label)</div><div class="ttdef"><b>Definition:</b> Detectors.hpp:62</div></div>
<div class="ttc" id="aclass_detectors_html_a538487678aa928ab2956e6fb40c90472"><div class="ttname"><a href="class_detectors.html#a538487678aa928ab2956e6fb40c90472">Detectors::getLabel</a></div><div class="ttdeci">auto const  &amp; getLabel(std::string const &amp;name)</div><div class="ttdef"><b>Definition:</b> Detectors.hpp:99</div></div>
<div class="ttc" id="aclass_event_html"><div class="ttname"><a href="class_event.html">Event</a></div><div class="ttdoc">Event used for reading and writting event, event building and trigger.</div><div class="ttdef"><b>Definition:</b> Event.hpp:80</div></div>
<div class="ttc" id="aclass_event_html_a448758bc35a7e830f6385c8c1f17461e"><div class="ttname"><a href="class_event.html#a448758bc35a7e830f6385c8c1f17461e">Event::stamp</a></div><div class="ttdeci">Timestamp stamp</div><div class="ttdef"><b>Definition:</b> Event.hpp:177</div></div>
<div class="ttc" id="aclass_event_html_ad016b65deeaef393a94793ef140e1bb8"><div class="ttname"><a href="class_event.html#ad016b65deeaef393a94793ef140e1bb8">Event::labels</a></div><div class="ttdeci">Label labels[255]</div><div class="ttdef"><b>Definition:</b> Event.hpp:178</div></div>
<div class="ttc" id="aclass_faster_reader_html"><div class="ttname"><a href="class_faster_reader.html">FasterReader</a></div><div class="ttdoc">Class used to read .fast files.</div><div class="ttdef"><b>Definition:</b> FasterReader.hpp:82</div></div>
<div class="ttc" id="aclass_faster_reader_html_a2d05907241b80ed637b2ae5a01503756"><div class="ttname"><a href="class_faster_reader.html#a2d05907241b80ed637b2ae5a01503756">FasterReader::Read</a></div><div class="ttdeci">bool Read()</div><div class="ttdoc">Main method. Extract the next hit from the data file and fills the Hit *m_hit object.</div><div class="ttdef"><b>Definition:</b> FasterReader.hpp:259</div></div>
<div class="ttc" id="aclass_files_manager_html"><div class="ttname"><a href="class_files_manager.html">FilesManager</a></div><div class="ttdef"><b>Definition:</b> FilesManager.hpp:10</div></div>
<div class="ttc" id="aclass_files_manager_html_a2b619786ba65a7ac1e701fc61e2409ae"><div class="ttname"><a href="class_files_manager.html#a2b619786ba65a7ac1e701fc61e2409ae">FilesManager::getListFiles</a></div><div class="ttdeci">ListFiles const  &amp; getListFiles() const</div><div class="ttdef"><b>Definition:</b> FilesManager.hpp:32</div></div>
<div class="ttc" id="aclass_files_manager_html_a6d05662378bde592075237b9fa0a5168"><div class="ttname"><a href="class_files_manager.html#a6d05662378bde592075237b9fa0a5168">FilesManager::addFolder</a></div><div class="ttdeci">virtual bool addFolder(std::string folder, long nb_files=-1, std::vector&lt; std::string &gt; const &amp;extensions={&quot;root&quot;, &quot;fast&quot;})</div><div class="ttdef"><b>Definition:</b> FilesManager.hpp:136</div></div>
<div class="ttc" id="aclass_files_manager_html_ac4d90f9590ed90fcbbe23557ae88c892"><div class="ttname"><a href="class_files_manager.html#ac4d90f9590ed90fcbbe23557ae88c892">FilesManager::nextFileName</a></div><div class="ttdeci">bool nextFileName(std::string &amp;filename, size_t const &amp;step=1)</div><div class="ttdef"><b>Definition:</b> FilesManager.hpp:165</div></div>
<div class="ttc" id="aclass_hit_html"><div class="ttname"><a href="class_hit.html">Hit</a></div><div class="ttdoc">Hit class ///.</div><div class="ttdef"><b>Definition:</b> Hit.hpp:157</div></div>
<div class="ttc" id="aclass_hit_html_a3d999e7bbbb470d1d3aa55ee772a98d6"><div class="ttname"><a href="class_hit.html#a3d999e7bbbb470d1d3aa55ee772a98d6">Hit::adc</a></div><div class="ttdeci">ADC adc</div><div class="ttdef"><b>Definition:</b> Hit.hpp:198</div></div>
<div class="ttc" id="aclass_hit_html_a7742ff02158f94fd0ccd163fc34ee9d1"><div class="ttname"><a href="class_hit.html#a7742ff02158f94fd0ccd163fc34ee9d1">Hit::label</a></div><div class="ttdeci">Label label</div><div class="ttdef"><b>Definition:</b> Hit.hpp:196</div></div>
<div class="ttc" id="aclass_hit_html_abda4857e925c3a6315a6fb41fad59189"><div class="ttname"><a href="class_hit.html#abda4857e925c3a6315a6fb41fad59189">Hit::nrj</a></div><div class="ttdeci">NRJ nrj</div><div class="ttdef"><b>Definition:</b> Hit.hpp:199</div></div>
<div class="ttc" id="aclass_hit_html_ad98aea75b451b3246f45b25f1ccb9221"><div class="ttname"><a href="class_hit.html#ad98aea75b451b3246f45b25f1ccb9221">Hit::stamp</a></div><div class="ttdeci">Timestamp stamp</div><div class="ttdef"><b>Definition:</b> Hit.hpp:197</div></div>
<div class="ttc" id="aclass_m_t_object_html_a35c02650eb403bd54e867f93bb26fc47"><div class="ttname"><a href="class_m_t_object.html#a35c02650eb403bd54e867f93bb26fc47">MTObject::parallelise_function</a></div><div class="ttdeci">static void parallelise_function(Func &amp;&amp;func, ARGS &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> MTObject.hpp:76</div></div>
<div class="ttc" id="aclass_m_t_object_html_a6fe86ce1ea64ede7e695490bceb264a3"><div class="ttname"><a href="class_m_t_object.html#a6fe86ce1ea64ede7e695490bceb264a3">MTObject::ON</a></div><div class="ttdeci">static bool ON</div><div class="ttdef"><b>Definition:</b> MTObject.hpp:108</div></div>
<div class="ttc" id="aclass_m_t_object_html_a9c9a57a49a12e1d408a5354e8520b3fe"><div class="ttname"><a href="class_m_t_object.html#a9c9a57a49a12e1d408a5354e8520b3fe">MTObject::getThreadIndex</a></div><div class="ttdeci">static auto const  &amp; getThreadIndex()</div><div class="ttdef"><b>Definition:</b> MTObject.hpp:111</div></div>
<div class="ttc" id="aclass_m_t_object_html_ac97399bb34f766e41e7f9a1cd1b7eb7a"><div class="ttname"><a href="class_m_t_object.html#ac97399bb34f766e41e7f9a1cd1b7eb7a">MTObject::getThreadsNb</a></div><div class="ttdeci">static auto const  &amp; getThreadsNb()</div><div class="ttdef"><b>Definition:</b> MTObject.hpp:101</div></div>
<div class="ttc" id="aclass_m_t_object_html_ad156f9b1c68f0e2713abb16890b1fa15"><div class="ttname"><a href="class_m_t_object.html#ad156f9b1c68f0e2713abb16890b1fa15">MTObject::getThreadsNumber</a></div><div class="ttdeci">static auto const  &amp; getThreadsNumber()</div><div class="ttdef"><b>Definition:</b> MTObject.hpp:102</div></div>
<div class="ttc" id="aclass_m_t_t_hist_html"><div class="ttname"><a href="class_m_t_t_hist.html">MTTHist&lt; TH1F &gt;</a></div></div>
<div class="ttc" id="aclass_m_t_t_hist_html_a3413cee45758fa0ec41020ae067e3e71"><div class="ttname"><a href="class_m_t_t_hist.html#a3413cee45758fa0ec41020ae067e3e71">MTTHist::Fill</a></div><div class="ttdeci">void Fill(ARGS &amp;&amp;... args) noexcept</div><div class="ttdef"><b>Definition:</b> MTTHist.hpp:425</div></div>
<div class="ttc" id="aclass_m_t_t_hist_html_ab31bc7c988df03ecae485b391850e2c0"><div class="ttname"><a href="class_m_t_t_hist.html#ab31bc7c988df03ecae485b391850e2c0">MTTHist::reset</a></div><div class="ttdeci">auto reset(MTTHist&lt; THist &gt; const &amp;hist)</div><div class="ttdoc">Copy initializer.</div><div class="ttdef"><b>Definition:</b> MTTHist.hpp:223</div></div>
<div class="ttc" id="aclass_m_t_t_hist_html_ae9163b5b4afca69cfdebdf2cf60064cd"><div class="ttname"><a href="class_m_t_t_hist.html#ae9163b5b4afca69cfdebdf2cf60064cd">MTTHist::Write</a></div><div class="ttdeci">void Write(bool const &amp;writeEmpty=false)</div><div class="ttdef"><b>Definition:</b> MTTHist.hpp:531</div></div>
<div class="ttc" id="aclass_m_t_vector_html"><div class="ttname"><a href="class_m_t_vector.html">MTVector&lt; std::string &gt;</a></div></div>
<div class="ttc" id="aclass_m_t_vector_html_a824a9ff009dde921eec4759c69f74ca7"><div class="ttname"><a href="class_m_t_vector.html#a824a9ff009dde921eec4759c69f74ca7">MTVector::getNext</a></div><div class="ttdeci">bool getNext(T &amp;t)</div><div class="ttdef"><b>Definition:</b> MTList.hpp:81</div></div>
<div class="ttc" id="aclass_path_html"><div class="ttname"><a href="class_path.html">Path</a></div><div class="ttdoc">EXPERIMENTAL Object used to hold the complete path of a giver folder.</div><div class="ttdef"><b>Definition:</b> files_functions.hpp:446</div></div>
<div class="ttc" id="aclass_r_f___manager_html"><div class="ttname"><a href="class_r_f___manager.html">RF_Manager</a></div><div class="ttdoc">Class used to manage the RF.</div><div class="ttdef"><b>Definition:</b> RF_Manager.hpp:29</div></div>
<div class="ttc" id="aclass_r_f___manager_html_a0261f2b02176a3e5562603c25f31d9a6"><div class="ttname"><a href="class_r_f___manager.html#a0261f2b02176a3e5562603c25f31d9a6">RF_Manager::setHit</a></div><div class="ttdeci">bool setHit(Hit const &amp;hit)</div><div class="ttdef"><b>Definition:</b> RF_Manager.hpp:100</div></div>
<div class="ttc" id="aclass_r_f___manager_html_a15356af241ce65874d01c9479ab48aa4"><div class="ttname"><a href="class_r_f___manager.html#a15356af241ce65874d01c9479ab48aa4">RF_Manager::pulse_ToF</a></div><div class="ttdeci">Time pulse_ToF(Timestamp const &amp;timestamp) const</div><div class="ttdef"><b>Definition:</b> RF_Manager.hpp:44</div></div>
<div class="ttc" id="aclass_r_f___manager_html_a7738dda837846c1dee405dea4d544630"><div class="ttname"><a href="class_r_f___manager.html#a7738dda837846c1dee405dea4d544630">RF_Manager::last_hit</a></div><div class="ttdeci">Timestamp last_hit</div><div class="ttdef"><b>Definition:</b> RF_Manager.hpp:86</div></div>
<div class="ttc" id="aclass_r_f___manager_html_aaafb0a06fe27f4d3121dd41faa6787cd"><div class="ttname"><a href="class_r_f___manager.html#aaafb0a06fe27f4d3121dd41faa6787cd">RF_Manager::period</a></div><div class="ttdeci">Time period</div><div class="ttdef"><b>Definition:</b> RF_Manager.hpp:89</div></div>
<div class="ttc" id="aclass_r_f___manager_html_ac56cba54c3c01c70e45b40093e3d1a89"><div class="ttname"><a href="class_r_f___manager.html#ac56cba54c3c01c70e45b40093e3d1a89">RF_Manager::set_offset</a></div><div class="ttdeci">static void set_offset(Time const &amp;offset)</div><div class="ttdef"><b>Definition:</b> RF_Manager.hpp:39</div></div>
<div class="ttc" id="aclass_r_f___manager_html_af38019b6bb4e45be94b17c5d193f5e45"><div class="ttname"><a href="class_r_f___manager.html#af38019b6bb4e45be94b17c5d193f5e45">RF_Manager::label</a></div><div class="ttdeci">static Label label</div><div class="ttdef"><b>Definition:</b> RF_Manager.hpp:91</div></div>
<div class="ttc" id="aclass_timer_html"><div class="ttname"><a href="class_timer.html">Timer</a></div><div class="ttdef"><b>Definition:</b> Timer.hpp:11</div></div>
<div class="ttc" id="aclass_timer_html_a3614503158effc6668bc10001d75d20c"><div class="ttname"><a href="class_timer.html#a3614503158effc6668bc10001d75d20c">Timer::unit</a></div><div class="ttdeci">std::string unit()</div><div class="ttdef"><b>Definition:</b> Timer.hpp:68</div></div>
<div class="ttc" id="aclass_timeshifts_html"><div class="ttname"><a href="class_timeshifts.html">Timeshifts</a></div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:42</div></div>
<div class="ttc" id="aclass_timeshifts_html_a025f10899ed33302dee33f2e98d40b3a"><div class="ttname"><a href="class_timeshifts.html#a025f10899ed33302dee33f2e98d40b3a">Timeshifts::m_energySpectraInitialized</a></div><div class="ttdeci">bool m_energySpectraInitialized</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:259</div></div>
<div class="ttc" id="aclass_timeshifts_html_a04a95b4e6269c5a02010909206b24730"><div class="ttname"><a href="class_timeshifts.html#a04a95b4e6269c5a02010909206b24730">Timeshifts::m_outData</a></div><div class="ttdeci">std::string m_outData</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:325</div></div>
<div class="ttc" id="aclass_timeshifts_html_a057b1fc1611ed270db718db0b72b801d"><div class="ttname"><a href="class_timeshifts.html#a057b1fc1611ed270db718db0b72b801d">Timeshifts::m_time_ref_name</a></div><div class="ttdeci">std::string m_time_ref_name</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:277</div></div>
<div class="ttc" id="aclass_timeshifts_html_a05ac31a6c49360d94eeff184dc896c6b"><div class="ttname"><a href="class_timeshifts.html#a05ac31a6c49360d94eeff184dc896c6b">Timeshifts::InitializeCorrected</a></div><div class="ttdeci">bool InitializeCorrected()</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:454</div></div>
<div class="ttc" id="aclass_timeshifts_html_a0753528955e94c43043cd7d68193f960"><div class="ttname"><a href="class_timeshifts.html#a0753528955e94c43043cd7d68193f960">Timeshifts::Initialize</a></div><div class="ttdeci">bool Initialize(bool const &amp;initializeRaw=false, bool const &amp;initializeCorrected=false)</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:492</div></div>
<div class="ttc" id="aclass_timeshifts_html_a082a54cde1bb45feca487f15ab4a14c7"><div class="ttname"><a href="class_timeshifts.html#a082a54cde1bb45feca487f15ab4a14c7">Timeshifts::setOutName</a></div><div class="ttdeci">void setOutName(std::string const &amp;outdata)</div><div class="ttdoc">Set output file name of the timeshifts data and root file.</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:1059</div></div>
<div class="ttc" id="aclass_timeshifts_html_a0ab2718e733f94acda46780191295e3b"><div class="ttname"><a href="class_timeshifts.html#a0ab2718e733f94acda46780191295e3b">Timeshifts::rebin</a></div><div class="ttdeci">void rebin(std::string const &amp;detector, Time_ns const &amp;bin_size_ns)</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:227</div></div>
<div class="ttc" id="aclass_timeshifts_html_a0bf7feef945319722118991949b033d4"><div class="ttname"><a href="class_timeshifts.html#a0bf7feef945319722118991949b033d4">Timeshifts::m_ok</a></div><div class="ttdeci">bool m_ok</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:253</div></div>
<div class="ttc" id="aclass_timeshifts_html_a0c81995b961c33e22c49d3d180b3cec5"><div class="ttname"><a href="class_timeshifts.html#a0c81995b961c33e22c49d3d180b3cec5">Timeshifts::m_edge_preferred</a></div><div class="ttdeci">std::map&lt; dType, bool &gt; m_edge_preferred</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:310</div></div>
<div class="ttc" id="aclass_timeshifts_html_a0faeccde5623d6808435414d020d1385"><div class="ttname"><a href="class_timeshifts.html#a0faeccde5623d6808435414d020d1385">Timeshifts::setRFOffset_ns</a></div><div class="ttdeci">void setRFOffset_ns(Time_ns const &amp;offset_ns)</div><div class="ttdoc">Set RF offset (synonymous to Timeshifts::setRFShift)</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:168</div></div>
<div class="ttc" id="aclass_timeshifts_html_a149e0f0885280b888df3f2b35ac29af8"><div class="ttname"><a href="class_timeshifts.html#a149e0f0885280b888df3f2b35ac29af8">Timeshifts::m_time_ref_label</a></div><div class="ttdeci">Label m_time_ref_label</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:276</div></div>
<div class="ttc" id="aclass_timeshifts_html_a18d1ff66fe0d6be096467ff874c139dc"><div class="ttname"><a href="class_timeshifts.html#a18d1ff66fe0d6be096467ff874c139dc">Timeshifts::m_EnergyRef_bidim</a></div><div class="ttdeci">MTTHist&lt; TH2F &gt; m_EnergyRef_bidim</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:329</div></div>
<div class="ttc" id="aclass_timeshifts_html_a1a70cc43f750599c993c689e62cfb29f"><div class="ttname"><a href="class_timeshifts.html#a1a70cc43f750599c993c689e62cfb29f">Timeshifts::m_EnergyRef</a></div><div class="ttdeci">MTTHist&lt; TH1F &gt; m_EnergyRef</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:328</div></div>
<div class="ttc" id="aclass_timeshifts_html_a1a77bd589fc081641e19c5da8b4e19b6"><div class="ttname"><a href="class_timeshifts.html#a1a77bd589fc081641e19c5da8b4e19b6">Timeshifts::m_filename</a></div><div class="ttdeci">std::string m_filename</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:267</div></div>
<div class="ttc" id="aclass_timeshifts_html_a1b6e129787ae7641ecbcb990f6e86bb9"><div class="ttname"><a href="class_timeshifts.html#a1b6e129787ae7641ecbcb990f6e86bb9">Timeshifts::verbose</a></div><div class="ttdeci">void verbose(bool const &amp;_verbose=true)</div><div class="ttdoc">Set verbosity level.</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:112</div></div>
<div class="ttc" id="aclass_timeshifts_html_a1b9c3b0d8ef43a69bd6e7ce1bd4de5b4"><div class="ttname"><a href="class_timeshifts.html#a1b9c3b0d8ef43a69bd6e7ce1bd4de5b4">Timeshifts::Timeshifts</a></div><div class="ttdeci">Timeshifts(const char *filename)</div><div class="ttdoc">Call the Timeshifts::load() method to load the timeshifts from a .dT file.</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:51</div></div>
<div class="ttc" id="aclass_timeshifts_html_a21dc1e7bf232c6b0637b16aa04e43701"><div class="ttname"><a href="class_timeshifts.html#a21dc1e7bf232c6b0637b16aa04e43701">Timeshifts::treatFolder</a></div><div class="ttdeci">void treatFolder(std::string const &amp;folder, int const &amp;nb_files=-1)</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:526</div></div>
<div class="ttc" id="aclass_timeshifts_html_a221c8bebd939cf4a9442f5c9dddfeefb"><div class="ttname"><a href="class_timeshifts.html#a221c8bebd939cf4a9442f5c9dddfeefb">Timeshifts::m_timewindow_ns</a></div><div class="ttdeci">Time_ns m_timewindow_ns</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:272</div></div>
<div class="ttc" id="aclass_timeshifts_html_a26367484f20648d7c3f5b3bbe5679ca8"><div class="ttname"><a href="class_timeshifts.html#a26367484f20648d7c3f5b3bbe5679ca8">Timeshifts::setOutDir</a></div><div class="ttdeci">void setOutDir(std::string const &amp;outDir)</div><div class="ttdoc">Set the output directory (full path);.</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:1035</div></div>
<div class="ttc" id="aclass_timeshifts_html_a28163efe8d487669cf50d5f6e1060d71"><div class="ttname"><a href="class_timeshifts.html#a28163efe8d487669cf50d5f6e1060d71">Timeshifts::load</a></div><div class="ttdeci">bool load(std::string const &amp;filename)</div><div class="ttdoc">Use this method to load timeshifts from a .dT file.</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:348</div></div>
<div class="ttc" id="aclass_timeshifts_html_a2b3ce3e274b28b65f01e336efe99670e"><div class="ttname"><a href="class_timeshifts.html#a2b3ce3e274b28b65f01e336efe99670e">Timeshifts::dT_with_RF</a></div><div class="ttdeci">void dT_with_RF(dType const &amp;type)</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:203</div></div>
<div class="ttc" id="aclass_timeshifts_html_a2b9a1cbb93f280215432c4d323d1114d"><div class="ttname"><a href="class_timeshifts.html#a2b9a1cbb93f280215432c4d323d1114d">Timeshifts::get</a></div><div class="ttdeci">Time const  &amp; get(int const &amp;i) const</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:195</div></div>
<div class="ttc" id="aclass_timeshifts_html_a304c1076d703a78153cfe72d61b28425"><div class="ttname"><a href="class_timeshifts.html#a304c1076d703a78153cfe72d61b28425">Timeshifts::setTimeWindow_ns</a></div><div class="ttdeci">bool setTimeWindow_ns(Time_ns const &amp;timewindow_ns)</div><div class="ttdoc">Setup the time window for the coincidence in ns.</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:1003</div></div>
<div class="ttc" id="aclass_timeshifts_html_a32079af1345e308feddd58e0950998ab"><div class="ttname"><a href="class_timeshifts.html#a32079af1345e308feddd58e0950998ab">Timeshifts::treatRootFile</a></div><div class="ttdeci">void treatRootFile(std::string const &amp;filename)</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:644</div></div>
<div class="ttc" id="aclass_timeshifts_html_a38aac2aef62c8999bb5da97e397ea64c"><div class="ttname"><a href="class_timeshifts.html#a38aac2aef62c8999bb5da97e397ea64c">Timeshifts::operator=</a></div><div class="ttdeci">Timeshifts &amp; operator=(Timeshifts const &amp;timeshifts)</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:64</div></div>
<div class="ttc" id="aclass_timeshifts_html_a3d3ab1b3498ca45832d8a8735f16e188"><div class="ttname"><a href="class_timeshifts.html#a3d3ab1b3498ca45832d8a8735f16e188">Timeshifts::calculate</a></div><div class="ttdeci">bool calculate(std::string const &amp;folder, int const &amp;nb_files=-1)</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:551</div></div>
<div class="ttc" id="aclass_timeshifts_html_a40254b2aa53028b1b5c941ee1cb3833d"><div class="ttname"><a href="class_timeshifts.html#a40254b2aa53028b1b5c941ee1cb3833d">Timeshifts::InitializeRaw</a></div><div class="ttdeci">bool InitializeRaw()</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:420</div></div>
<div class="ttc" id="aclass_timeshifts_html_a4338a0a481ffac2a8f8dffbafca76e7d"><div class="ttname"><a href="class_timeshifts.html#a4338a0a481ffac2a8f8dffbafca76e7d">Timeshifts::m_RF_preferred_label</a></div><div class="ttdeci">std::vector&lt; bool &gt; m_RF_preferred_label</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:223</div></div>
<div class="ttc" id="aclass_timeshifts_html_a46a97751e517cc9f21d54d04bb16c5f5"><div class="ttname"><a href="class_timeshifts.html#a46a97751e517cc9f21d54d04bb16c5f5">Timeshifts::m_max_mult</a></div><div class="ttdeci">int m_max_mult</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:275</div></div>
<div class="ttc" id="aclass_timeshifts_html_a4c01a876efaee62fa348581470509736"><div class="ttname"><a href="class_timeshifts.html#a4c01a876efaee62fa348581470509736">Timeshifts::Timeshifts</a></div><div class="ttdeci">Timeshifts(Timeshifts const &amp;timeshifts)</div><div class="ttdoc">Copy constructor.</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:62</div></div>
<div class="ttc" id="aclass_timeshifts_html_a4dd5b35444834dca94e9432619e24c47"><div class="ttname"><a href="class_timeshifts.html#a4dd5b35444834dca94e9432619e24c47">Timeshifts::m_bins_per_ns</a></div><div class="ttdeci">std::map&lt; dType, Time_ns &gt; m_bins_per_ns</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:283</div></div>
<div class="ttc" id="aclass_timeshifts_html_a4f155373f7d1a70f3f1d06233ebf10c1"><div class="ttname"><a href="class_timeshifts.html#a4f155373f7d1a70f3f1d06233ebf10c1">Timeshifts::m_files</a></div><div class="ttdeci">FilesManager m_files</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:265</div></div>
<div class="ttc" id="aclass_timeshifts_html_a5161a4c343623e92b4e26522ad7ee16a"><div class="ttname"><a href="class_timeshifts.html#a5161a4c343623e92b4e26522ad7ee16a">Timeshifts::get</a></div><div class="ttdeci">std::vector&lt; Time &gt; const  &amp; get() const</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:194</div></div>
<div class="ttc" id="aclass_timeshifts_html_a53bfccafc7cfbd834754b752a9a4c313"><div class="ttname"><a href="class_timeshifts.html#a53bfccafc7cfbd834754b752a9a4c313">Timeshifts::m_nb_shifts_RF_peak</a></div><div class="ttdeci">std::vector&lt; uchar &gt; m_nb_shifts_RF_peak</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:224</div></div>
<div class="ttc" id="aclass_timeshifts_html_a579c8583bd37c3988ffb5cb6df7849f7"><div class="ttname"><a href="class_timeshifts.html#a579c8583bd37c3988ffb5cb6df7849f7">Timeshifts::writeRoot</a></div><div class="ttdeci">void writeRoot(std::string const &amp;name)</div><div class="ttdoc">To write down the histograms.</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:970</div></div>
<div class="ttc" id="aclass_timeshifts_html_a5c037c5bb4b409c3040982c451c6733d"><div class="ttname"><a href="class_timeshifts.html#a5c037c5bb4b409c3040982c451c6733d">Timeshifts::Fill</a></div><div class="ttdeci">void Fill(Event const &amp;event, RF_Manager &amp;rf)</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:712</div></div>
<div class="ttc" id="aclass_timeshifts_html_a608d9443a15dd669920e10dd8baee23a"><div class="ttname"><a href="class_timeshifts.html#a608d9443a15dd669920e10dd8baee23a">Timeshifts::analyse</a></div><div class="ttdeci">void analyse()</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:827</div></div>
<div class="ttc" id="aclass_timeshifts_html_a6206d2b698c88e80bc42bdf4b51fce14"><div class="ttname"><a href="class_timeshifts.html#a6206d2b698c88e80bc42bdf4b51fce14">Timeshifts::setMult</a></div><div class="ttdeci">void setMult(int const &amp;min_mult, int const &amp;max_mult)</div><div class="ttdoc">Set the multiplicity gate for the events used for coincidence timeshift calculation.</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:148</div></div>
<div class="ttc" id="aclass_timeshifts_html_a648f30a01a30b44ef675666ddae79f80"><div class="ttname"><a href="class_timeshifts.html#a648f30a01a30b44ef675666ddae79f80">Timeshifts::checkForPreprompt</a></div><div class="ttdeci">void checkForPreprompt(bool const &amp;check=true)</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:211</div></div>
<div class="ttc" id="aclass_timeshifts_html_a64966ebd9e0538d9e3160bbfaf4a74de"><div class="ttname"><a href="class_timeshifts.html#a64966ebd9e0538d9e3160bbfaf4a74de">Timeshifts::mt_ref_time</a></div><div class="ttdeci">std::vector&lt; Timestamp &gt; mt_ref_time</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:270</div></div>
<div class="ttc" id="aclass_timeshifts_html_a6520eab7a8824f41a2be8517d83fc835"><div class="ttname"><a href="class_timeshifts.html#a6520eab7a8824f41a2be8517d83fc835">Timeshifts::verify</a></div><div class="ttdeci">bool verify(std::string const &amp;folder, int const &amp;nb_files=-1)</div><div class="ttdoc">To verify an already calculated timeshift .dT data file.</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:578</div></div>
<div class="ttc" id="aclass_timeshifts_html_a715283a5be42b86ca70b4e468ccb2931"><div class="ttname"><a href="class_timeshifts.html#a715283a5be42b86ca70b4e468ccb2931">Timeshifts::CheckParameters</a></div><div class="ttdeci">bool CheckParameters()</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:213</div></div>
<div class="ttc" id="aclass_timeshifts_html_a7363de3261a770287e981328276f21dd"><div class="ttname"><a href="class_timeshifts.html#a7363de3261a770287e981328276f21dd">Timeshifts::m_max_hits</a></div><div class="ttdeci">ulong m_max_hits</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:278</div></div>
<div class="ttc" id="aclass_timeshifts_html_a73dda60d3425a0de61719829231e6d55"><div class="ttname"><a href="class_timeshifts.html#a73dda60d3425a0de61719829231e6d55">Timeshifts::m_timewindow</a></div><div class="ttdeci">Time m_timewindow</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:273</div></div>
<div class="ttc" id="aclass_timeshifts_html_a79f5376cf7071865b264989ef46d886f"><div class="ttname"><a href="class_timeshifts.html#a79f5376cf7071865b264989ef46d886f">Timeshifts::write</a></div><div class="ttdeci">void write(std::string const &amp;name)</div><div class="ttdoc">To write down the histograms and the data.</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:934</div></div>
<div class="ttc" id="aclass_timeshifts_html_a79fe955b7d1bbc12fd4c659691727df3"><div class="ttname"><a href="class_timeshifts.html#a79fe955b7d1bbc12fd4c659691727df3">Timeshifts::treatFilesMT</a></div><div class="ttdeci">static void treatFilesMT(Timeshifts &amp;ts, MTList &amp;files_MT)</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:599</div></div>
<div class="ttc" id="aclass_timeshifts_html_a7a9d72db7cd915c282014f63c6020d8e"><div class="ttname"><a href="class_timeshifts.html#a7a9d72db7cd915c282014f63c6020d8e">Timeshifts::m_outPath</a></div><div class="ttdeci">Path m_outPath</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:323</div></div>
<div class="ttc" id="aclass_timeshifts_html_a8165d76fc5a92d7d49498624ae2b32b5"><div class="ttname"><a href="class_timeshifts.html#a8165d76fc5a92d7d49498624ae2b32b5">Timeshifts::m_outDir</a></div><div class="ttdeci">std::string m_outDir</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:321</div></div>
<div class="ttc" id="aclass_timeshifts_html_a82ddafa1c3f1d2c21c33749e70fab876"><div class="ttname"><a href="class_timeshifts.html#a82ddafa1c3f1d2c21c33749e70fab876">Timeshifts::setEminADC</a></div><div class="ttdeci">void setEminADC(ADC const &amp;EminADC)</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:201</div></div>
<div class="ttc" id="aclass_timeshifts_html_a89dbca371bce4601ee60122f544faf95"><div class="ttname"><a href="class_timeshifts.html#a89dbca371bce4601ee60122f544faf95">Timeshifts::shiftTimeSpectra</a></div><div class="ttdeci">TH1F * shiftTimeSpectra(TH1F *histo, Label const &amp;label, std::string const &amp;unit=&quot;ps&quot;)</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:1065</div></div>
<div class="ttc" id="aclass_timeshifts_html_a8b7481d4a5405315c9988812a01428ef"><div class="ttname"><a href="class_timeshifts.html#a8b7481d4a5405315c9988812a01428ef">Timeshifts::Timeshifts</a></div><div class="ttdeci">Timeshifts(std::string const &amp;path, std::string const &amp;name)</div><div class="ttdoc">For faster to root conversion only : Timeshifts::load() loads the timeshifts from a ....</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:59</div></div>
<div class="ttc" id="aclass_timeshifts_html_a8c7b6bfda5c2dacef69d0b7657d89fce"><div class="ttname"><a href="class_timeshifts.html#a8c7b6bfda5c2dacef69d0b7657d89fce">Timeshifts::m_initializedRaw</a></div><div class="ttdeci">bool m_initializedRaw</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:260</div></div>
<div class="ttc" id="aclass_timeshifts_html_a942984c1af943a864baf8744babb2d15"><div class="ttname"><a href="class_timeshifts.html#a942984c1af943a864baf8744babb2d15">Timeshifts::operator[]</a></div><div class="ttdeci">Time const  &amp; operator[](int const &amp;i) const</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:191</div></div>
<div class="ttc" id="aclass_timeshifts_html_a9858ca34e3981520e2c1d5982bb185fd"><div class="ttname"><a href="class_timeshifts.html#a9858ca34e3981520e2c1d5982bb185fd">Timeshifts::m_nb_detectors</a></div><div class="ttdeci">int m_nb_detectors</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:280</div></div>
<div class="ttc" id="aclass_timeshifts_html_a985a81e5fa8d1a8866988c6af1b2ff1c"><div class="ttname"><a href="class_timeshifts.html#a985a81e5fa8d1a8866988c6af1b2ff1c">Timeshifts::m_verbose</a></div><div class="ttdeci">bool m_verbose</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:254</div></div>
<div class="ttc" id="aclass_timeshifts_html_aa45cc86b7201c47bb97f0422dff23725"><div class="ttname"><a href="class_timeshifts.html#aa45cc86b7201c47bb97f0422dff23725">Timeshifts::m_time_spectra</a></div><div class="ttdeci">Vector_MTTHist&lt; TH1F &gt; m_time_spectra</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:331</div></div>
<div class="ttc" id="aclass_timeshifts_html_aa7cb3acf23e80927fa85be636f55a99d"><div class="ttname"><a href="class_timeshifts.html#aa7cb3acf23e80927fa85be636f55a99d">Timeshifts::setTimeReference</a></div><div class="ttdeci">bool setTimeReference(Label const &amp;timeRef_label)</div><div class="ttdoc">Set the time reference label.</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:1018</div></div>
<div class="ttc" id="aclass_timeshifts_html_aa9f0f8cc1d96a5408f233449767ef0f6"><div class="ttname"><a href="class_timeshifts.html#aa9f0f8cc1d96a5408f233449767ef0f6">Timeshifts::setOutRoot</a></div><div class="ttdeci">void setOutRoot(std::string const &amp;outroot)</div><div class="ttdoc">Use setName instead. Set output root file containing the raw and corrected time spectra.</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:1041</div></div>
<div class="ttc" id="aclass_timeshifts_html_aaef5b6fdd23be94ed37a2b4e7fe47b48"><div class="ttname"><a href="class_timeshifts.html#aaef5b6fdd23be94ed37a2b4e7fe47b48">Timeshifts::treatFile</a></div><div class="ttdeci">void treatFile(std::string const &amp;filename)</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:638</div></div>
<div class="ttc" id="aclass_timeshifts_html_ab098d455164964ba60b9f5c555de74e4"><div class="ttname"><a href="class_timeshifts.html#ab098d455164964ba60b9f5c555de74e4">Timeshifts::m_edge_preferred_label</a></div><div class="ttdeci">std::vector&lt; bool &gt; m_edge_preferred_label</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:225</div></div>
<div class="ttc" id="aclass_timeshifts_html_ab4329368cc98918cfd4489788dc4a4f8"><div class="ttname"><a href="class_timeshifts.html#ab4329368cc98918cfd4489788dc4a4f8">Timeshifts::m_verification</a></div><div class="ttdeci">bool m_verification</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:255</div></div>
<div class="ttc" id="aclass_timeshifts_html_ab877131bc1bd7394f55c3d46729ac9e6"><div class="ttname"><a href="class_timeshifts.html#ab877131bc1bd7394f55c3d46729ac9e6">Timeshifts::setOutData</a></div><div class="ttdeci">void setOutData(std::string const &amp;outdata)</div><div class="ttdoc">Use setName instead. Set output file name of the timeshifts data.</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:1050</div></div>
<div class="ttc" id="aclass_timeshifts_html_ab9b0b763dbe5e2be797d89e9bcb05c1e"><div class="ttname"><a href="class_timeshifts.html#ab9b0b763dbe5e2be797d89e9bcb05c1e">Timeshifts::m_time_spectra_corrected_bidim</a></div><div class="ttdeci">MTTHist&lt; TH2F &gt; m_time_spectra_corrected_bidim</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:333</div></div>
<div class="ttc" id="aclass_timeshifts_html_abc19fb99a4d950501fb53430497e34c2"><div class="ttname"><a href="class_timeshifts.html#abc19fb99a4d950501fb53430497e34c2">Timeshifts::m_Emin_ADC</a></div><div class="ttdeci">ADC m_Emin_ADC</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:279</div></div>
<div class="ttc" id="aclass_timeshifts_html_abc70d7dc0c400a76d84f2c5cc30edf77"><div class="ttname"><a href="class_timeshifts.html#abc70d7dc0c400a76d84f2c5cc30edf77">Timeshifts::verification</a></div><div class="ttdeci">bool const  &amp; verification(bool const &amp;verif=true)</div><div class="ttdoc">Used to create.</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:185</div></div>
<div class="ttc" id="aclass_timeshifts_html_abef7234fe827ae3c7758788cf22b6921"><div class="ttname"><a href="class_timeshifts.html#abef7234fe827ae3c7758788cf22b6921">Timeshifts::treatFasterFile</a></div><div class="ttdeci">void treatFasterFile(std::string const &amp;filename)</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:664</div></div>
<div class="ttc" id="aclass_timeshifts_html_ac2c3e8e47598e28d49932a3720a6fd58"><div class="ttname"><a href="class_timeshifts.html#ac2c3e8e47598e28d49932a3720a6fd58">Timeshifts::setRFOffset</a></div><div class="ttdeci">void setRFOffset(Time const &amp;offset_ps)</div><div class="ttdoc">Set RF offset (synonymous to Timeshifts::setRFShift)</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:175</div></div>
<div class="ttc" id="aclass_timeshifts_html_acca1130b271301c5477d4b4a23ae4e5b"><div class="ttname"><a href="class_timeshifts.html#acca1130b271301c5477d4b4a23ae4e5b">Timeshifts::setParameters</a></div><div class="ttdeci">bool setParameters(std::string const &amp;parameter)</div><div class="ttdoc">Use this method to setup the parameters from a string in order to calculate the timeshifts.</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:389</div></div>
<div class="ttc" id="aclass_timeshifts_html_ad10b3d7e16a2d51d3e73d7f2e7b1e0fa"><div class="ttname"><a href="class_timeshifts.html#ad10b3d7e16a2d51d3e73d7f2e7b1e0fa">Timeshifts::m_timeshifts</a></div><div class="ttdeci">std::vector&lt; Time &gt; m_timeshifts</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:269</div></div>
<div class="ttc" id="aclass_timeshifts_html_ad19fdc64b6f8dd54e94665a7170a49a7"><div class="ttname"><a href="class_timeshifts.html#ad19fdc64b6f8dd54e94665a7170a49a7">Timeshifts::writeData</a></div><div class="ttdeci">void writeData(std::string const &amp;name)</div><div class="ttdoc">To write down the data.</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:945</div></div>
<div class="ttc" id="aclass_timeshifts_html_ad2182e6c34ecf5b760f67d58167df53e"><div class="ttname"><a href="class_timeshifts.html#ad2182e6c34ecf5b760f67d58167df53e">Timeshifts::m_min_mult</a></div><div class="ttdeci">int m_min_mult</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:274</div></div>
<div class="ttc" id="aclass_timeshifts_html_ad6bda9ede24fd63e7a43ad12bd861a98"><div class="ttname"><a href="class_timeshifts.html#ad6bda9ede24fd63e7a43ad12bd861a98">Timeshifts::m_initialized</a></div><div class="ttdeci">bool m_initialized</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:258</div></div>
<div class="ttc" id="aclass_timeshifts_html_ad85f4cabf723d28843393cda47abc2b3"><div class="ttname"><a href="class_timeshifts.html#ad85f4cabf723d28843393cda47abc2b3">Timeshifts::Timeshifts</a></div><div class="ttdeci">Timeshifts()</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:45</div></div>
<div class="ttc" id="aclass_timeshifts_html_ae3640104ddce3ee9548d83186f4032e6"><div class="ttname"><a href="class_timeshifts.html#ae3640104ddce3ee9548d83186f4032e6">Timeshifts::m_outRoot</a></div><div class="ttdeci">std::string m_outRoot</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:324</div></div>
<div class="ttc" id="aclass_timeshifts_html_ae3b75fce1fde95be5ca45b20cfbb8350"><div class="ttname"><a href="class_timeshifts.html#ae3b75fce1fde95be5ca45b20cfbb8350">Timeshifts::m_initializedCorrected</a></div><div class="ttdeci">bool m_initializedCorrected</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:261</div></div>
<div class="ttc" id="aclass_timeshifts_html_ae47e90a384a5dd891bdc5eed10450971"><div class="ttname"><a href="class_timeshifts.html#ae47e90a384a5dd891bdc5eed10450971">Timeshifts::Timeshifts</a></div><div class="ttdeci">Timeshifts(std::string const &amp;filename)</div><div class="ttdoc">Call the Timeshifts::load() method to load the timeshifts from a .dT file.</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:48</div></div>
<div class="ttc" id="aclass_timeshifts_html_ae8fe2221ac14c7c9920ba2dee69ec719"><div class="ttname"><a href="class_timeshifts.html#ae8fe2221ac14c7c9920ba2dee69ec719">Timeshifts::m_time_spectra_corrected</a></div><div class="ttdeci">Vector_MTTHist&lt; TH1F &gt; m_time_spectra_corrected</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:332</div></div>
<div class="ttc" id="aclass_timeshifts_html_aea8a9a1e849fca3bf3712385bd2155c3"><div class="ttname"><a href="class_timeshifts.html#aea8a9a1e849fca3bf3712385bd2155c3">Timeshifts::dT_with_raising_edge</a></div><div class="ttdeci">void dT_with_raising_edge(dType const &amp;type)</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:204</div></div>
<div class="ttc" id="aclass_timeshifts_html_af567d75bbe3263cece04cf3e6eff5256"><div class="ttname"><a href="class_timeshifts.html#af567d75bbe3263cece04cf3e6eff5256">Timeshifts::m_ts_outdir</a></div><div class="ttdeci">std::string m_ts_outdir</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:322</div></div>
<div class="ttc" id="aclass_timeshifts_html_af643b4246a7e7efb0857cec8f705eeb1"><div class="ttname"><a href="class_timeshifts.html#af643b4246a7e7efb0857cec8f705eeb1">Timeshifts::m_RF_preferred</a></div><div class="ttdeci">std::map&lt; dType, bool &gt; m_RF_preferred</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:298</div></div>
<div class="ttc" id="aclass_timeshifts_html_af6cb9cffa9322eabb7fe712c6e6ae798"><div class="ttname"><a href="class_timeshifts.html#af6cb9cffa9322eabb7fe712c6e6ae798">Timeshifts::setRFShift</a></div><div class="ttdeci">void setRFShift(Time const &amp;shift)</div><div class="ttdoc">Set RF shift (synonymous to Timeshifts::setRFOffset)</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:161</div></div>
<div class="ttc" id="aclass_timeshifts_html_af8a8bb48626abf6a9a634b3c826b0e44"><div class="ttname"><a href="class_timeshifts.html#af8a8bb48626abf6a9a634b3c826b0e44">Timeshifts::m_corrected</a></div><div class="ttdeci">bool m_corrected</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:256</div></div>
<div class="ttc" id="aclass_timeshifts_html_afa21cadd8eac07728df7f51d0dbaa908"><div class="ttname"><a href="class_timeshifts.html#afa21cadd8eac07728df7f51d0dbaa908">Timeshifts::setMaxHits</a></div><div class="ttdeci">void setMaxHits(ulong const &amp;max_hits=-1)</div><div class="ttdoc">Set maximum hits to be read in a file.</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:154</div></div>
<div class="ttc" id="aclass_timeshifts_html_afdd59f1f2d548c6bd8ef89d998e8ed1e"><div class="ttname"><a href="class_timeshifts.html#afdd59f1f2d548c6bd8ef89d998e8ed1e">Timeshifts::m_check_preprompt</a></div><div class="ttdeci">bool m_check_preprompt</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:263</div></div>
<div class="ttc" id="afiles__functions_8hpp_html_a321abbd0681c4da012deaf49122389c5"><div class="ttname"><a href="files__functions_8hpp.html#a321abbd0681c4da012deaf49122389c5">extension</a></div><div class="ttdeci">std::string extension(std::string const &amp;string)</div><div class="ttdef"><b>Definition:</b> files_functions.hpp:20</div></div>
<div class="ttc" id="afiles__functions_8hpp_html_a4a072faccd444b8907dffd96e6211461"><div class="ttname"><a href="files__functions_8hpp.html#a4a072faccd444b8907dffd96e6211461">push_back_if_none</a></div><div class="ttdeci">std::string &amp; push_back_if_none(std::string &amp;string, char const &amp;character)</div><div class="ttdef"><b>Definition:</b> files_functions.hpp:89</div></div>
<div class="ttc" id="afiles__functions_8hpp_html_a658fd83a6ed34994ff0742273a3cc358"><div class="ttname"><a href="files__functions_8hpp.html#a658fd83a6ed34994ff0742273a3cc358">removeExtension</a></div><div class="ttdeci">std::string removeExtension(std::string const &amp;string)</div><div class="ttdef"><b>Definition:</b> files_functions.hpp:19</div></div>
<div class="ttc" id="afiles__functions_8hpp_html_afd584978228fac5fae283c12837378dd"><div class="ttname"><a href="files__functions_8hpp.html#afd584978228fac5fae283c12837378dd">file_is_empty</a></div><div class="ttdeci">bool file_is_empty(std::ifstream &amp;file)</div><div class="ttdef"><b>Definition:</b> files_functions.hpp:30</div></div>
<div class="ttc" id="alib_co_8hpp_html_a2052317e56aa118e7ffcdb2e398f551c"><div class="ttname"><a href="lib_co_8hpp.html#a2052317e56aa118e7ffcdb2e398f551c">double_cast</a></div><div class="ttdeci">double double_cast(T const &amp;t)</div><div class="ttdoc">Casts a number into an double.</div><div class="ttdef"><b>Definition:</b> libCo.hpp:86</div></div>
<div class="ttc" id="alib_co_8hpp_html_a3b8ddb099e22657a31515fbcd8d1bf67"><div class="ttname"><a href="lib_co_8hpp.html#a3b8ddb099e22657a31515fbcd8d1bf67">find_key</a></div><div class="ttdeci">bool find_key(std::unordered_map&lt; K, V &gt; const &amp;map, K const &amp;key)</div><div class="ttdef"><b>Definition:</b> libCo.hpp:246</div></div>
<div class="ttc" id="alib_co_8hpp_html_a48e80fbfd11f9fb219b92ba1c29c1b2a"><div class="ttname"><a href="lib_co_8hpp.html#a48e80fbfd11f9fb219b92ba1c29c1b2a">int_cast</a></div><div class="ttdeci">int int_cast(T const &amp;t)</div><div class="ttdoc">Casts a number into an int.</div><div class="ttdef"><b>Definition:</b> libCo.hpp:74</div></div>
<div class="ttc" id="alib_co_8hpp_html_a69aa29b598b851b0640aa225a9e5d61d"><div class="ttname"><a href="lib_co_8hpp.html#a69aa29b598b851b0640aa225a9e5d61d">uint</a></div><div class="ttdeci">unsigned int uint</div><div class="ttdef"><b>Definition:</b> libCo.hpp:92</div></div>
<div class="ttc" id="alib_co_8hpp_html_a6df2dcd4b1f61c75dc292942bc5ca74d"><div class="ttname"><a href="lib_co_8hpp.html#a6df2dcd4b1f61c75dc292942bc5ca74d">throw_error</a></div><div class="ttdeci">void throw_error(std::string const &amp;message)</div><div class="ttdef"><b>Definition:</b> libCo.hpp:234</div></div>
<div class="ttc" id="alib_co_8hpp_html_a92c2ca60527219506deb3325507baee0"><div class="ttname"><a href="lib_co_8hpp.html#a92c2ca60527219506deb3325507baee0">ulong</a></div><div class="ttdeci">unsigned long int ulong</div><div class="ttdef"><b>Definition:</b> libCo.hpp:93</div></div>
<div class="ttc" id="alib_co_8hpp_html_ad29aff8b0f7fde4ef0291331012e596a"><div class="ttname"><a href="lib_co_8hpp.html#ad29aff8b0f7fde4ef0291331012e596a">ushort</a></div><div class="ttdeci">unsigned short int ushort</div><div class="ttdef"><b>Definition:</b> libCo.hpp:91</div></div>
<div class="ttc" id="alib_root_8hpp_html_accfb8dfb6ee42fa6845013a0cf121ac1"><div class="ttname"><a href="lib_root_8hpp.html#accfb8dfb6ee42fa6845013a0cf121ac1">getMeanPeak</a></div><div class="ttdeci">bool getMeanPeak(TH1F *spectra, double &amp;mean)</div><div class="ttdoc">Get the mean of the peak of a histogram with one nice single peak.</div><div class="ttdef"><b>Definition:</b> libRoot.hpp:132</div></div>
<div class="ttc" id="astring__functions_8hpp_html_a4adaa91d1b90e1b97cc5fee8998e09b1"><div class="ttname"><a href="string__functions_8hpp.html#a4adaa91d1b90e1b97cc5fee8998e09b1">isNumber</a></div><div class="ttdeci">bool isNumber(std::string const &amp;string)</div><div class="ttdoc">Returns true if all its characters are digits.</div><div class="ttdef"><b>Definition:</b> string_functions.hpp:104</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1676326358ffef63bd5695c4f3c09907.html">Modules</a></li><li class="navelem"><a class="el" href="_timeshifts_8hpp.html">Timeshifts.hpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
