<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nuball2: lib/Modules/Faster2Root.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Nuball2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_faster2_root_8hpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Faster2Root.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_faster2_root_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef FASTER2ROOT_HPP</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define FASTER2ROOT_HPP</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160; </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;../libCo.hpp&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160; </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;../Classes/Detectors.hpp&quot;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;../Classes/CoincBuilder.hpp&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;../Classes/Nuball2Tree.hpp&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;../Classes/Timer.hpp&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;../Classes/Alignator.hpp&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;../MTObjects/MTFasterReader.hpp&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_timeshifts_8hpp.html">Timeshifts.hpp</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_calibration_8hpp.html">Calibration.hpp</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="_faster2_root_8hpp.html#a75162947cdf43694952e4c0a53735199">   17</a></span>&#160;<span class="keyword">using</span> <a class="code" href="_faster2_root_8hpp.html#a75162947cdf43694952e4c0a53735199">Trigger</a> = std::function&lt;bool(<span class="keyword">const</span> <a class="code" href="class_event.html">Event</a>&amp;)&gt;;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="class_faster2_root.html">  112</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_faster2_root.html">Faster2Root</a></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;{</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a8306673fb7007ca6c7c586ba2df764b9">  116</a></span>&#160;  <a class="code" href="class_faster2_root.html#a8306673fb7007ca6c7c586ba2df764b9">Faster2Root</a>() {}</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="class_faster2_root.html#aacd4d3fa480eba9bc86b49f4b2040c60">  118</a></span>&#160;  <a class="code" href="class_faster2_root.html#aacd4d3fa480eba9bc86b49f4b2040c60">Faster2Root</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv) {<a class="code" href="class_faster2_root.html#ad30ccf937150bbd3504ec3a354b76c8f">load</a>(argc, argv);}</div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a61a5cc14735e615b6a6389a1ece4f694">  119</a></span>&#160;  <a class="code" href="class_faster2_root.html#a61a5cc14735e615b6a6389a1ece4f694">Faster2Root</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv, <a class="code" href="_faster2_root_8hpp.html#a75162947cdf43694952e4c0a53735199">Trigger</a> trigger )</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="class_faster2_root.html#aaa5d89a939efb05b6408e65b5f0117c2">setTrigger</a>(trigger);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="class_faster2_root.html#ad30ccf937150bbd3504ec3a354b76c8f">load</a>(argc, argv);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="class_faster2_root.html#ad07b97d280479aabc26e04d920726ddb">  126</a></span>&#160;  <a class="code" href="class_faster2_root.html#ad07b97d280479aabc26e04d920726ddb">Faster2Root</a>(<a class="code" href="class_path.html">Path</a> <span class="keyword">const</span> &amp; inputFolder, <a class="code" href="class_path.html">Path</a> <span class="keyword">const</span> &amp; outputFolder, <span class="keywordtype">int</span> <span class="keyword">const</span> &amp; nb_files = -1, <span class="keywordtype">bool</span> <span class="keyword">const</span> &amp; <a class="code" href="class_faster2_root.html#a5eadd66ea26d632b75a92aa9c2878bf3">buildEvents</a> = <span class="keyword">false</span>) </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  {<span class="comment">// Raw convertor : no time shift nor energy calibration</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <a class="code" href="class_faster2_root.html#a88e6c196d62d573ba95bf4f62d8cb15d">m_ok</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="class_timer.html">Timer</a> timer;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keyword">this</span> -&gt; <a class="code" href="class_faster2_root.html#a5eadd66ea26d632b75a92aa9c2878bf3">buildEvents</a>(<a class="code" href="class_faster2_root.html#a5eadd66ea26d632b75a92aa9c2878bf3">buildEvents</a>);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keyword">this</span> -&gt; <a class="code" href="class_faster2_root.html#a943441baaa37c600a49913339a63e89d">setNbFiles</a>(nb_files);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keyword">this</span> -&gt; <a class="code" href="class_faster2_root.html#a7d6d5249c6ced2548a58406eca085cdb">convert</a>(inputFolder, outputFolder);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;Data written to&quot;</span>, outputFolder, <span class="stringliteral">&quot;in&quot;</span>, timer(), timer.<a class="code" href="class_timer.html#a3614503158effc6668bc10001d75d20c">unit</a>());</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="class_faster2_root.html#ace1cc6bfc486195e5808e946770d5954">  137</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_faster2_root.html#ace1cc6bfc486195e5808e946770d5954">setTimeshifts</a>(<a class="code" href="class_timeshifts.html">Timeshifts</a> <span class="keyword">const</span> &amp; timeshifts) {<a class="code" href="class_faster2_root.html#a1d145e66d56ef7a8f11cd58185b5666c">m_timeshifts</a> = timeshifts;}</div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a3953ee6d843802ca12997e146fd7046d">  138</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_faster2_root.html#a3953ee6d843802ca12997e146fd7046d">loadTimeshifts</a>(std::string <span class="keyword">const</span> &amp; dTfile)   {<a class="code" href="class_faster2_root.html#a1d145e66d56ef7a8f11cd58185b5666c">m_timeshifts</a>.<a class="code" href="class_timeshifts.html#a28163efe8d487669cf50d5f6e1060d71">load</a>(dTfile);}</div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a957a45ae197b565da07521a27ee73f53">  139</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_faster2_root.html#a957a45ae197b565da07521a27ee73f53">setCalibration</a>(<a class="code" href="class_calibration.html">Calibration</a> <span class="keyword">const</span> &amp; calibration) {<a class="code" href="class_faster2_root.html#a58af91c50f99bd37c48380988292af03">m_calibration</a> = calibration;}</div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="class_faster2_root.html#afaec1876151390b71c475885157670a3">  140</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_faster2_root.html#afaec1876151390b71c475885157670a3">loadCalibration</a>(std::string <span class="keyword">const</span> &amp; calibFile)  {<a class="code" href="class_faster2_root.html#a58af91c50f99bd37c48380988292af03">m_calibration</a>.<a class="code" href="class_calibration.html#a2d2a0d6276fc2c8a4b60c3801ccc16a9">load</a>(calibFile);}</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a943441baaa37c600a49913339a63e89d">  141</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_faster2_root.html#a943441baaa37c600a49913339a63e89d">setNbFiles</a>(<span class="keywordtype">int</span> <span class="keyword">const</span> &amp; nb_files = -1) {<a class="code" href="class_faster2_root.html#a0eb51359b6d1390a15d2113950bb4bf2">m_nb_files</a> = nb_files;}</div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a0717c962ce832333110607b30f8370fc">  142</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_faster2_root.html#a0717c962ce832333110607b30f8370fc">setNbThreads</a>(<span class="keywordtype">int</span> <span class="keyword">const</span> &amp; nb_threads = -1) {<a class="code" href="class_faster2_root.html#aacad03770af4357e587c8138da57a203">m_nb_threads</a> = nb_threads;}</div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a5eadd66ea26d632b75a92aa9c2878bf3">  143</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_faster2_root.html#a5eadd66ea26d632b75a92aa9c2878bf3">buildEvents</a>(<span class="keywordtype">int</span> time_window_ns) </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;Performing event buiding with&quot;</span>, time_window_ns, <span class="stringliteral">&quot;ns time window&quot;</span>);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="class_faster2_root.html#a50b697e84534b9326fcf678b28b5609a">m_eventbuilding</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="class_faster2_root.html#a4b32ed9d91512912420c58bab5d4897a">m_time_window</a> = time_window_ns*1000;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  }</div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a19537e5417a0537a0327b91b78982ca2">  149</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_faster2_root.html#a19537e5417a0537a0327b91b78982ca2">overwrite</a>( <span class="keywordtype">bool</span> <span class="keyword">const</span> &amp; _overwrite) {<a class="code" href="class_faster2_root.html#a987fb5d9ee8469817296265b1232bb63">m_overwrite</a> = _overwrite;}</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_faster2_root.html#a7d6d5249c6ced2548a58406eca085cdb">convert</a>(std::string <span class="keyword">const</span> &amp; dataFolder, std::string <span class="keyword">const</span> &amp; outputFolder, <span class="keywordtype">int</span> <span class="keyword">const</span> &amp; nb_files = -1);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="class_faster2_root.html#aaa5d89a939efb05b6408e65b5f0117c2">  153</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_faster2_root.html#aaa5d89a939efb05b6408e65b5f0117c2">setTrigger</a>(std::function&lt;<span class="keywordtype">bool</span>(<span class="keyword">const</span> <a class="code" href="class_event.html">Event</a>&amp;)&gt; other) {<a class="code" href="class_faster2_root.html#a5807435c6403ac0a7fba6da6b43fefce">m_trigger</a> = other; <a class="code" href="class_faster2_root.html#a29bd04235f0c5c32d1f96695135daba5">m_use_trigger</a> = <span class="keyword">true</span>;}</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_faster2_root.html#a5b8a78ef8c54117807c770d21fa4acf0">loadTriggerFile</a>(std::string <span class="keyword">const</span> &amp; file);</div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a01cccc30e85ee668bbff3827c838173e">  155</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_faster2_root.html#a01cccc30e85ee668bbff3827c838173e">throwSingles</a>(<span class="keywordtype">bool</span> <span class="keyword">const</span> &amp; _throw_single = <span class="keyword">true</span>) {<a class="code" href="class_faster2_root.html#a76455ed5fcb82744bb34e0de2f524a0c">m_throw_single</a> = _throw_single;}</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_faster2_root.html#ad30ccf937150bbd3504ec3a354b76c8f">load</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv);</div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a50fd46a075ae0a1a1f52b5bb6405047b">  159</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_faster2_root.html#a50fd46a075ae0a1a1f52b5bb6405047b">s_convertFile</a>(<a class="code" href="class_hit.html">Hit</a> &amp; hit, <a class="code" href="class_faster_reader.html">FasterReader</a> &amp; reader, </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                            <a class="code" href="class_faster2_root.html">Faster2Root</a> &amp; convertor, <a class="code" href="class_path.html">Path</a> <span class="keyword">const</span> &amp; outPath) </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  {convertor.<a class="code" href="class_faster2_root.html#a2ba93a4814723b6103dc25a701f3dc89">convertFile</a>(hit, reader, outPath);}</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_faster2_root.html#a6cc6f4731958e8c74ad0e07f4d97f4a0">printParameters</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_faster2_root.html#a2ba93a4814723b6103dc25a701f3dc89">convertFile</a>(<a class="code" href="class_hit.html">Hit</a> &amp; hit, <a class="code" href="class_faster_reader.html">FasterReader</a> &amp; reader, <a class="code" href="class_path.html">Path</a> <span class="keyword">const</span> &amp; outPath);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a1d145e66d56ef7a8f11cd58185b5666c">  166</a></span>&#160;  <a class="code" href="class_timeshifts.html">Timeshifts</a> <a class="code" href="class_faster2_root.html#a1d145e66d56ef7a8f11cd58185b5666c">m_timeshifts</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a58af91c50f99bd37c48380988292af03">  167</a></span>&#160;  <a class="code" href="class_calibration.html">Calibration</a> <a class="code" href="class_faster2_root.html#a58af91c50f99bd37c48380988292af03">m_calibration</a>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="class_faster2_root.html#aacad03770af4357e587c8138da57a203">  169</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="class_faster2_root.html#aacad03770af4357e587c8138da57a203">m_nb_threads</a> = 1;</div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a0eb51359b6d1390a15d2113950bb4bf2">  170</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="class_faster2_root.html#a0eb51359b6d1390a15d2113950bb4bf2">m_nb_files</a> = -1;</div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a4b32ed9d91512912420c58bab5d4897a">  171</a></span>&#160;  Long64_t <a class="code" href="class_faster2_root.html#a4b32ed9d91512912420c58bab5d4897a">m_time_window</a> = 1500000; <span class="comment">// By default, a 1.5 us time gate is used</span></div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a50b697e84534b9326fcf678b28b5609a">  172</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_faster2_root.html#a50b697e84534b9326fcf678b28b5609a">m_eventbuilding</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a3c9782dbe54c5b10f21487d2189f4c16">  173</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_faster2_root.html#a3c9782dbe54c5b10f21487d2189f4c16">m_calibrate</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a76455ed5fcb82744bb34e0de2f524a0c">  174</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_faster2_root.html#a76455ed5fcb82744bb34e0de2f524a0c">m_throw_single</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a987fb5d9ee8469817296265b1232bb63">  175</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_faster2_root.html#a987fb5d9ee8469817296265b1232bb63">m_overwrite</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a88e6c196d62d573ba95bf4f62d8cb15d">  176</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_faster2_root.html#a88e6c196d62d573ba95bf4f62d8cb15d">m_ok</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a07ce8dd1383dcf7b466ab99604516cd1">  177</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_faster2_root.html#a07ce8dd1383dcf7b466ab99604516cd1">m_use_RF</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a29bd04235f0c5c32d1f96695135daba5">  178</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_faster2_root.html#a29bd04235f0c5c32d1f96695135daba5">m_use_trigger</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="class_faster2_root.html#ae3fce7a9419f8ed5044f8a8cc7302a6b">  179</a></span>&#160;  std::string <a class="code" href="class_faster2_root.html#ae3fce7a9419f8ed5044f8a8cc7302a6b">m_trigger_file</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a9b7e63609b4123f6f798f70c2de1128b">  180</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_faster2_root.html#a9b7e63609b4123f6f798f70c2de1128b">m_loaded_trigger</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="class_faster2_root.html#adb999cc71caadb30a61f64659ba88a2c">  182</a></span>&#160;  <a class="code" href="class_m_t_counter.html">MTCounter</a> <a class="code" href="class_faster2_root.html#adb999cc71caadb30a61f64659ba88a2c">m_total_hits</a>;</div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="class_faster2_root.html#aecbddf92ed9e6e9f518627e024e43e3e">  183</a></span>&#160;  <a class="code" href="class_m_t_counter.html">MTCounter</a> <a class="code" href="class_faster2_root.html#aecbddf92ed9e6e9f518627e024e43e3e">m_total_events</a>;</div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a1589ca0222d305ef05b8d622e79fbb8b">  184</a></span>&#160;  <a class="code" href="class_m_t_counter.html">MTCounter</a> <a class="code" href="class_faster2_root.html#a1589ca0222d305ef05b8d622e79fbb8b">m_trigg_events</a>;</div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="class_faster2_root.html#ae62d8cbcbd702ac3691ebdc54677be47">  185</a></span>&#160;  <a class="code" href="class_timer.html">Timer</a> <a class="code" href="class_faster2_root.html#ae62d8cbcbd702ac3691ebdc54677be47">m_total_timer</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a5807435c6403ac0a7fba6da6b43fefce">  186</a></span>&#160;  std::function&lt;bool(<span class="keyword">const</span> <a class="code" href="class_event.html">Event</a>&amp;)&gt; <a class="code" href="class_faster2_root.html#a5807435c6403ac0a7fba6da6b43fefce">m_trigger</a> = [](<span class="keyword">const</span> <a class="code" href="class_event.html">Event</a>&amp;) { <span class="keywordflow">return</span> <span class="keyword">true</span>; };</div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="class_faster2_root.html#acf62aae9afb7e5e49508c4a018039fc3">  187</a></span>&#160;  std::vector&lt;Label&gt; <a class="code" href="class_faster2_root.html#acf62aae9afb7e5e49508c4a018039fc3">m_triggering_labels</a>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;};</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a6cc6f4731958e8c74ad0e07f4d97f4a0">  190</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_faster2_root.html#a6cc6f4731958e8c74ad0e07f4d97f4a0">Faster2Root::printParameters</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;Usage of Faster2Root : /path/to/data /path/to/output [[parameters]]&quot;</span>);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;parameters :&quot;</span>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;-c [calibration_file]  : Loads the calibration file&quot;</span>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;-e [time_window_ns]    : Perform event building with time_window_ns = 1500 ns by default&quot;</span>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;-f [files_number]      : Choose the total number of files to treat inside a data folder&quot;</span>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;-i [ID_file]           : Load ID file (necessary if trigger is used)&quot;</span>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;-n [hits_number]       : Choose the number of hits to read inside a file&quot;</span>);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;-m [threads_number]    : Choose the number of files to treat in parallel&quot;</span>);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;-t [time_window_ns]    : Loads timeshift data&quot;</span>);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;--throw-singles        : If you are not interested in single hits&quot;</span>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;--trigger [filename]   : Load a trigger file (look at documentation)&quot;</span>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  exit(1);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="class_faster2_root.html#ad30ccf937150bbd3504ec3a354b76c8f">  209</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_faster2_root.html#ad30ccf937150bbd3504ec3a354b76c8f">Faster2Root::load</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;{</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="comment">// Handle the case of not enough parameters (0 or 1) and print the parameters :</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordflow">if</span> (argc&lt;3) </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;Not enough parameters !!!&quot;</span>);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="class_faster2_root.html#a6cc6f4731958e8c74ad0e07f4d97f4a0">printParameters</a>();</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="comment">// Path of the input data :</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <a class="code" href="class_path.html">Path</a> dataPath = argv [1];</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="comment">// Path of the output data :</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <a class="code" href="class_path.html">Path</a> outPath = argv [2];</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="comment">// Other parameters :</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 3; i&lt;argc; i++)</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    std::string command = argv[i];</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;         <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;-c&quot;</span>) <a class="code" href="class_faster2_root.html#afaec1876151390b71c475885157670a3">loadCalibration</a>(argv[++i]);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;-e&quot;</span>) <a class="code" href="class_faster2_root.html#a5eadd66ea26d632b75a92aa9c2878bf3">buildEvents</a>(std::stoi(argv[++i]));</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;-f&quot;</span>) <a class="code" href="class_faster2_root.html#a943441baaa37c600a49913339a63e89d">setNbFiles</a>(std::stoi(argv[++i]));</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;-i&quot;</span>) <a class="code" href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a>.<a class="code" href="class_detectors.html#a03f6e9974f958b86ddbbc4670d0209a2">load</a>(argv[++i]);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;-m&quot;</span>) <a class="code" href="class_faster2_root.html#a0717c962ce832333110607b30f8370fc">setNbThreads</a>(std::stoi(argv[++i]));</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;-n&quot;</span>) <a class="code" href="class_faster_reader.html#aa1fcb8d6721212bc982cac0ae4e597eb">FasterReader::setMaxHits</a>(std::stoi(argv[++i]));</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;-o&quot;</span>) <a class="code" href="class_faster2_root.html#a19537e5417a0537a0327b91b78982ca2">overwrite</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;-rf&quot;</span>) <a class="code" href="class_faster2_root.html#a07ce8dd1383dcf7b466ab99604516cd1">m_use_RF</a> = <span class="keyword">true</span>; <span class="comment">// TBD</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;-t&quot;</span>) <a class="code" href="class_faster2_root.html#a3953ee6d843802ca12997e146fd7046d">loadTimeshifts</a>(argv[++i]);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;--throw-singles&quot;</span>) <a class="code" href="class_faster2_root.html#a76455ed5fcb82744bb34e0de2f524a0c">m_throw_single</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;--trigger&quot;</span>) <a class="code" href="class_faster2_root.html#a5b8a78ef8c54117807c770d21fa4acf0">loadTriggerFile</a>(argv[++i]);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">else</span> {<a class="code" href="lib_co_8hpp.html#a6df2dcd4b1f61c75dc292942bc5ca74d">throw_error</a>(<span class="stringliteral">&quot;Unkown command&quot;</span> + command);}</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">// Checking consistency of parameters :</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_faster2_root.html#a1d145e66d56ef7a8f11cd58185b5666c">m_timeshifts</a> &amp;&amp; !<a class="code" href="class_faster2_root.html#a50b697e84534b9326fcf678b28b5609a">m_eventbuilding</a>) </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;This combination of time alignement without event building is not handled&quot;</span>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="lib_co_8hpp.html#a6df2dcd4b1f61c75dc292942bc5ca74d">throw_error</a>(<a class="code" href="lib_co_8hpp.html#af522b6efd63a7f871a8307755b1297bf">error_message</a>[<span class="stringliteral">&quot;DEV&quot;</span>]);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_faster2_root.html#a29bd04235f0c5c32d1f96695135daba5">m_use_trigger</a> &amp;&amp; !<a class="code" href="class_faster2_root.html#a50b697e84534b9326fcf678b28b5609a">m_eventbuilding</a>)</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="lib_co_8hpp.html#a6df2dcd4b1f61c75dc292942bc5ca74d">throw_error</a>(<span class="stringliteral">&quot;Can&#39;t use a trigger without event building ! Use parameter -e [time_window_ns] or method Faster2Root::buildEvents(time_window_ns).&quot;</span>);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="comment">// Perform initialisations :</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_faster2_root.html#aacad03770af4357e587c8138da57a203">m_nb_threads</a> &gt; 1) <a class="code" href="class_m_t_object.html#aaa3623d88deae3a9311aad39bfff49dc">MTObject::Initialize</a>(<a class="code" href="class_faster2_root.html#aacad03770af4357e587c8138da57a203">m_nb_threads</a>);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  std::cout &lt;&lt; std::setprecision(4);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="comment">// Run the conversion :</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keyword">this</span> -&gt; <a class="code" href="class_faster2_root.html#a7d6d5249c6ced2548a58406eca085cdb">convert</a>(dataPath, outPath);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">// Print some additionnal informations at the end of the conversion :</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<a class="code" href="class_faster2_root.html#adb999cc71caadb30a61f64659ba88a2c">m_total_hits</a>/<a class="code" href="class_faster2_root.html#ae62d8cbcbd702ac3691ebdc54677be47">m_total_timer</a>.<a class="code" href="class_timer.html#a4b85f2f938d7261db769607fc50fcaef">TimeSec</a>()*1.E-6, <span class="stringliteral">&quot;Mhits/s&quot;</span>);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_faster2_root.html#a50b697e84534b9326fcf678b28b5609a">m_eventbuilding</a>) <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<a class="code" href="class_faster2_root.html#aecbddf92ed9e6e9f518627e024e43e3e">m_total_events</a>/<a class="code" href="class_faster2_root.html#ae62d8cbcbd702ac3691ebdc54677be47">m_total_timer</a>.<a class="code" href="class_timer.html#a4b85f2f938d7261db769607fc50fcaef">TimeSec</a>()*1.E-6, <span class="stringliteral">&quot;Mevts/s&quot;</span>);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;}</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a5b8a78ef8c54117807c770d21fa4acf0">  265</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_faster2_root.html#a5b8a78ef8c54117807c770d21fa4acf0">Faster2Root::loadTriggerFile</a>(std::string <span class="keyword">const</span> &amp; filename)</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;{</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  std::ifstream file((<a class="code" href="class_faster2_root.html#ae3fce7a9419f8ed5044f8a8cc7302a6b">m_trigger_file</a> = filename), std::ios::in);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  std::string line;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keywordflow">while</span>(getline(file, line)) <a class="code" href="class_faster2_root.html#acf62aae9afb7e5e49508c4a018039fc3">m_triggering_labels</a>.push_back(std::stoi(line));</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <a class="code" href="class_faster2_root.html#aaa5d89a939efb05b6408e65b5f0117c2">setTrigger</a>([<span class="keyword">this</span>](<a class="code" href="class_event.html">Event</a> <span class="keyword">const</span> &amp; event)</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="comment">// print(&quot;coucou&quot;, m_triggering_labels);</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> hit_i = 0; hit_i&lt;<span class="keyword">event</span>.mult; hit_i++)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="string__functions_8hpp.html#a03fb03d95885354ac3c329693588097b">found</a>(<a class="code" href="class_faster2_root.html#acf62aae9afb7e5e49508c4a018039fc3">m_triggering_labels</a>, event.<a class="code" href="class_event.html#ad016b65deeaef393a94793ef140e1bb8">labels</a>[hit_i])) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  });</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <a class="code" href="class_faster2_root.html#a9b7e63609b4123f6f798f70c2de1128b">m_loaded_trigger</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;}</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a7d6d5249c6ced2548a58406eca085cdb">  282</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_faster2_root.html#a7d6d5249c6ced2548a58406eca085cdb">Faster2Root::convert</a>(std::string <span class="keyword">const</span> &amp; dataFolder, std::string <span class="keyword">const</span> &amp; outputFolder, <span class="keywordtype">int</span> <span class="keyword">const</span> &amp; nb_files)</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;{</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <a class="code" href="class_path.html">Path</a> dataPath(dataFolder);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">if</span> (!dataPath) {<a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(dataFolder, <span class="stringliteral">&quot;NOT FOUND&quot;</span>); <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;DATA&quot;</span>);}</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <a class="code" href="class_path.html">Path</a> outPath(outputFolder, 1);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <a class="code" href="class_m_t_faster_reader.html">MTFasterReader</a> readerMT(dataPath, (nb_files&gt;0) ? nb_files : <a class="code" href="class_faster2_root.html#a0eb51359b6d1390a15d2113950bb4bf2">m_nb_files</a>);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  readerMT.<a class="code" href="class_m_t_faster_reader.html#ae316d31ebcb18ae8689522509d1ba513">readRaw</a>(<a class="code" href="class_faster2_root.html#a50fd46a075ae0a1a1f52b5bb6405047b">s_convertFile</a>, *<span class="keyword">this</span>, outputFolder);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;}</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="class_faster2_root.html#a2ba93a4814723b6103dc25a701f3dc89">  298</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_faster2_root.html#a2ba93a4814723b6103dc25a701f3dc89">Faster2Root::convertFile</a>(<a class="code" href="class_hit.html">Hit</a> &amp; hit, <a class="code" href="class_faster_reader.html">FasterReader</a> &amp; reader, <a class="code" href="class_path.html">Path</a> <span class="keyword">const</span> &amp; outPath)</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;{</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <a class="code" href="class_timer.html">Timer</a> timer;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="comment">//Filename manipulations :</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <a class="code" href="class_file.html">File</a> inputFile = reader.<a class="code" href="class_faster_reader.html#add1cd47aee08955e9a1fb11782129714">filename</a>();</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <a class="code" href="class_file.html">File</a> outputFile = outPath+inputFile.<a class="code" href="class_file.html#a4162125761930208891770416c498828">shortName</a>()+<span class="stringliteral">&quot;.root&quot;</span>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_faster2_root.html#a987fb5d9ee8469817296265b1232bb63">m_overwrite</a> &amp;&amp; outputFile.<a class="code" href="class_file.html#a53118ce36851cb1c6845a82f915fd8ba">exists</a>()) {<a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(outputFile, <span class="stringliteral">&quot;already exists ! Use option -o or method Faster2Root::overwrite(true)&quot;</span>); <span class="keywordflow">return</span>;}</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <a class="code" href="lib_root_8hpp.html#a50631b7ee8274cbc1161d2a668fdbdf3">unique_tree</a> tree(<span class="keyword">new</span> TTree(<span class="stringliteral">&quot;Nuball2&quot;</span>,<span class="stringliteral">&quot;Nuball2&quot;</span>));</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  tree -&gt; SetDirectory(<span class="keyword">nullptr</span>); <span class="comment">// Set the tree RAM resident : increases memory usage but speeds the process</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <a class="code" href="class_event.html">Event</a> event;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <a class="code" href="lib_root_8hpp.html#a50631b7ee8274cbc1161d2a668fdbdf3">unique_tree</a> tempTree;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_faster2_root.html#a50b697e84534b9326fcf678b28b5609a">m_eventbuilding</a>)</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  {<span class="comment">// Event building is done in two times : first filling a temporary tree, then reorder it after timeshift and finally create events</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    tempTree.reset(<span class="keyword">new</span> TTree(<span class="stringliteral">&quot;temp&quot;</span>,<span class="stringliteral">&quot;temp&quot;</span>));</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    tempTree -&gt; SetDirectory(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    hit.<a class="code" href="class_hit.html#ab60637cf6f374e4394139c3594e4464e">writting</a>(tempTree.get(), (<a class="code" href="class_faster2_root.html#a58af91c50f99bd37c48380988292af03">m_calibration</a>) ? <span class="stringliteral">&quot;lsEQp&quot;</span> : <span class="stringliteral">&quot;lseqp&quot;</span>);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keyword">event</span>.writting(tree.get(), (<a class="code" href="class_faster2_root.html#a58af91c50f99bd37c48380988292af03">m_calibration</a>) ? <span class="stringliteral">&quot;lstEQp&quot;</span> : <span class="stringliteral">&quot;lsteqp&quot;</span>);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    tree-&gt;SetTitle(<span class="stringliteral">&quot;Nuball2 without event building&quot;</span>);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keyword">event</span>.writting(tree.get(), (<a class="code" href="class_faster2_root.html#a58af91c50f99bd37c48380988292af03">m_calibration</a>) ? <span class="stringliteral">&quot;lsEQp&quot;</span> : <span class="stringliteral">&quot;lseqp&quot;</span>);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_faster2_root.html#a58af91c50f99bd37c48380988292af03">m_calibration</a>) tree -&gt; SetTitle((tree-&gt;GetTitle()+std::string(<span class="stringliteral">&quot; with calibration&quot;</span>)).c_str());</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_faster2_root.html#a1d145e66d56ef7a8f11cd58185b5666c">m_timeshifts</a>)  tree -&gt; SetTitle((tree-&gt;GetTitle()+std::string(<span class="stringliteral">&quot; with timeshifts&quot;</span> )).c_str());</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_faster2_root.html#a9b7e63609b4123f6f798f70c2de1128b">m_loaded_trigger</a>)  tree -&gt; SetTitle((tree-&gt;GetTitle()+std::string(<span class="stringliteral">&quot; with trigger loaded from &quot;</span>) + <a class="code" href="class_faster2_root.html#ae3fce7a9419f8ed5044f8a8cc7302a6b">m_trigger_file</a>).c_str());</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_faster2_root.html#a29bd04235f0c5c32d1f96695135daba5">m_use_trigger</a>) tree -&gt; SetTitle((tree-&gt;GetTitle()+std::string(<span class="stringliteral">&quot; with user defined trigger&quot;</span>)).c_str());</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">// Read faster data to fill the memory resident tree :</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordflow">while</span>(reader.<a class="code" href="class_faster_reader.html#a2d05907241b80ed637b2ae5a01503756">Read</a>())</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_faster2_root.html#a1d145e66d56ef7a8f11cd58185b5666c">m_timeshifts</a>) hit.<a class="code" href="class_hit.html#ad98aea75b451b3246f45b25f1ccb9221">stamp</a> += <a class="code" href="class_faster2_root.html#a1d145e66d56ef7a8f11cd58185b5666c">m_timeshifts</a>[hit.<a class="code" href="class_hit.html#a7742ff02158f94fd0ccd163fc34ee9d1">label</a>];</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_faster2_root.html#a58af91c50f99bd37c48380988292af03">m_calibration</a>)</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      hit.<a class="code" href="class_hit.html#abda4857e925c3a6315a6fb41fad59189">nrj</a>  = <a class="code" href="class_faster2_root.html#a58af91c50f99bd37c48380988292af03">m_calibration</a>(hit.<a class="code" href="class_hit.html#a3d999e7bbbb470d1d3aa55ee772a98d6">adc</a>, hit.<a class="code" href="class_hit.html#a7742ff02158f94fd0ccd163fc34ee9d1">label</a>);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      hit.<a class="code" href="class_hit.html#ab4b93fbbb58d5bf2fd3480238d93065a">nrj2</a> = (hit.<a class="code" href="class_hit.html#a07541ef2177c95ba3de7df1fed1c986f">qdc2</a>==0) ? <a class="code" href="class_faster2_root.html#a58af91c50f99bd37c48380988292af03">m_calibration</a>(hit.<a class="code" href="class_hit.html#a07541ef2177c95ba3de7df1fed1c986f">qdc2</a>, hit.<a class="code" href="class_hit.html#a7742ff02158f94fd0ccd163fc34ee9d1">label</a>) : 0.0;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_faster2_root.html#a50b697e84534b9326fcf678b28b5609a">m_eventbuilding</a>) tempTree -&gt; Fill();</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    {<span class="comment">// If no event building, directly writes the hits in the output tree</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <span class="keyword">event</span> = hit;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      tree -&gt; Fill();</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordflow">if</span> (reader.<a class="code" href="class_faster_reader.html#a0e799cf6b890a3ca281819efeb2df29e">getCounter</a>()&lt;1) {<a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(<span class="stringliteral">&quot;NO DATA IN FILE&quot;</span>, reader.<a class="code" href="class_faster_reader.html#aab416287bd95c5dad74fff1ebb45d3c8">getFilename</a>()); <a class="code" href="lib_co_8hpp.html#a6df2dcd4b1f61c75dc292942bc5ca74d">throw_error</a>(<span class="stringliteral">&quot;DATA&quot;</span>);}</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <a class="code" href="class_faster2_root.html#adb999cc71caadb30a61f64659ba88a2c">m_total_hits</a>+=reader.<a class="code" href="class_faster_reader.html#a0e799cf6b890a3ca281819efeb2df29e">getCounter</a>();</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <a class="code" href="lib_co_8hpp.html#a38d84fea74b6f31e86b2e282bb232729">longlong</a> evts = 0;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <a class="code" href="lib_co_8hpp.html#a38d84fea74b6f31e86b2e282bb232729">longlong</a> evts_trigg = 0;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>();</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_faster2_root.html#a50b697e84534b9326fcf678b28b5609a">m_eventbuilding</a>)</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  {<span class="comment">// Read the temporary tree and perform event building :</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> &amp; nb_data = tempTree-&gt;GetEntries();</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="class_alignator.html">Alignator</a> <a class="code" href="lib_root_8hpp.html#ad91e4154d55b03aec78fc49348f35db1">alignator</a>(tempTree.get());</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    hit.<a class="code" href="class_hit.html#ad809be4a75a5c588504fa77d442e393d">reading</a>(tempTree.get(), (<a class="code" href="class_faster2_root.html#a58af91c50f99bd37c48380988292af03">m_calibration</a>) ? <span class="stringliteral">&quot;lsEQp&quot;</span> : <span class="stringliteral">&quot;lseqp&quot;</span>);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="class_coinc_builder.html">CoincBuilder</a> builder(&amp;event, <a class="code" href="class_faster2_root.html#a4b32ed9d91512912420c58bab5d4897a">m_time_window</a>);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    builder.<a class="code" href="class_builder.html#a4d557d96189a42cbc0a4a0d32db45d6c">keepSingles</a>(!<a class="code" href="class_faster2_root.html#a76455ed5fcb82744bb34e0de2f524a0c">m_throw_single</a>);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="lib_co_8hpp.html#a38d84fea74b6f31e86b2e282bb232729">longlong</a> loop = 0;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">while</span> (loop&lt;nb_data)</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      tempTree -&gt; GetEntry(<a class="code" href="lib_root_8hpp.html#ad91e4154d55b03aec78fc49348f35db1">alignator</a>[loop++]);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="keywordflow">if</span> (builder.<a class="code" href="class_coinc_builder.html#a6fbd7caa8ab6ac6bbf4d14eb094b6417">build</a>(hit)) </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        ++evts;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(event);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <a class="code" href="lib_co_8hpp.html#a6cca31a5d1658456b486e6fa135c690b">pauseCo</a>();</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="class_faster2_root.html#a5807435c6403ac0a7fba6da6b43fefce">m_trigger</a>(event)) </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;          ++evts_trigg;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;          tree-&gt;Fill();</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <a class="code" href="class_faster2_root.html#aecbddf92ed9e6e9f518627e024e43e3e">m_total_events</a>+=evts;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <a class="code" href="class_faster2_root.html#a1589ca0222d305ef05b8d622e79fbb8b">m_trigg_events</a>+=evts_trigg;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordtype">float</span> trigger_rate = 100.*evts_trigg/evts;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="comment">// Write down the tree : </span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <a class="code" href="lib_root_8hpp.html#a3b73f11bc69f125e12c1d48c9ed79a6e">unique_TFile</a> file(<span class="keyword">new</span> TFile(outputFile.<a class="code" href="class_file.html#adcc058679f1c4e1b9561aa7043720ade">c_str</a>(), <span class="stringliteral">&quot;RECREATE&quot;</span>));</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  file -&gt; cd();</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  tree -&gt; Write();</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  file -&gt; Write();</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  file -&gt; Close();</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  std::string m_eventbuilding_output = <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_faster2_root.html#a50b697e84534b9326fcf678b28b5609a">m_eventbuilding</a>) m_eventbuilding_output = <span class="stringliteral">&quot;( &quot;</span>+std::to_string(evts*1.E-6)+<span class="stringliteral">&quot; Mevts ( trigger in &quot;</span>+std::to_string(trigger_rate)+<span class="stringliteral">&quot; % ))&quot;</span>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <a class="code" href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a>(outputFile, <span class="stringliteral">&quot;written (&quot;</span>, reader.<a class="code" href="class_faster_reader.html#a0e799cf6b890a3ca281819efeb2df29e">getCounter</a>()*1.E-6, <span class="stringliteral">&quot;Mhits in&quot;</span>, timer(), timer.<a class="code" href="class_timer.html#a3614503158effc6668bc10001d75d20c">unit</a>(), m_eventbuilding_output);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">// USER DEFINED CONVERTOR //</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">// Example of user-defined convertor :</span></div>
<div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="class_my_simple_convertor.html">  401</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_my_simple_convertor.html">MySimpleConvertor</a> : <span class="keyword">public</span> <a class="code" href="class_faster2_root.html">Faster2Root</a></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;{</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="comment">// With this constructor, myConvertor becomes a simple wrapper around Faster2Root class</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span>... ARGS&gt;</div>
<div class="line"><a name="l00406"></a><span class="lineno"><a class="line" href="class_my_simple_convertor.html#a98cb80e651f072598ac0eb58264c3fee">  406</a></span>&#160;  <a class="code" href="class_my_simple_convertor.html#a98cb80e651f072598ac0eb58264c3fee">MySimpleConvertor</a>(ARGS &amp;&amp;... args) : <a class="code" href="class_faster2_root.html">Faster2Root</a>(std::forward&lt;ARGS&gt;(args)...) {}</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="comment">// You can write down your own convertor :</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_my_simple_convertor.html#a81d6aadfcbadae6e83dbacc86735a0c5">convertFile</a>(<a class="code" href="class_hit.html">Hit</a> &amp; hit, <a class="code" href="class_faster_reader.html">FasterReader</a> &amp; reader, <a class="code" href="class_path.html">Path</a> <span class="keyword">const</span> &amp; outPath) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="comment">// Define here the classes and parameters you would like to share bewteen threads.</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="comment">// You already share all the protected members of Faster2Root</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="comment">// Be careful not to write in them !!</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;};</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="class_my_simple_convertor.html#a81d6aadfcbadae6e83dbacc86735a0c5">  416</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_my_simple_convertor.html#a81d6aadfcbadae6e83dbacc86735a0c5">MySimpleConvertor::convertFile</a>(<a class="code" href="class_hit.html">Hit</a> &amp; hit, <a class="code" href="class_faster_reader.html">FasterReader</a> &amp; reader, <a class="code" href="class_path.html">Path</a> <span class="keyword">const</span> &amp; outPath)</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;{</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="comment">// First, declare a tree :</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <a class="code" href="lib_root_8hpp.html#a50631b7ee8274cbc1161d2a668fdbdf3">unique_tree</a> tree(<span class="keyword">new</span> TTree(<span class="stringliteral">&quot;simple&quot;</span>,<span class="stringliteral">&quot;simple&quot;</span>));</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  tree -&gt; SetDirectory(<span class="keyword">nullptr</span>); <span class="comment">// To make it memory resident</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="comment">// Next, connect the hit to the tree (Hit::writting() is a shortcut for the many TTree::Branch method to be called, </span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">// see Hit class for more information). You can do it manually of course !</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  hit.<a class="code" href="class_hit.html#ab60637cf6f374e4394139c3594e4464e">writting</a>(tree.get(), <span class="stringliteral">&quot;lseqp&quot;</span>);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="comment">// Now, we can read the faster file :</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="keywordflow">while</span>(reader.<a class="code" href="class_faster_reader.html#a2d05907241b80ed637b2ae5a01503756">Read</a>())</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="comment">// The hit is loaded with FasterReader::Read(), so all we have to do is fill the tree :</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    tree -&gt; Fill(); </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="comment">// Write down this tree : </span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <a class="code" href="lib_root_8hpp.html#a3b73f11bc69f125e12c1d48c9ed79a6e">unique_TFile</a> file(<span class="keyword">new</span> TFile(outPath+<span class="stringliteral">&quot;simple.root&quot;</span>));</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  file -&gt; cd();</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  tree -&gt; Write();</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  file -&gt; Write();</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  file -&gt; Close();</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="comment">// Notes : In case the multi-threading is activated for the convertor, this function is split between each thread</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="comment">// If you want instead to treat many folders in parallel (instead of many files from the same folder), simply</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="comment">// set </span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;}</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="preprocessor">#endif </span><span class="comment">//FASTER2ROOT_HPP</span></div>
<div class="ttc" id="a_calibration_8hpp_html"><div class="ttname"><a href="_calibration_8hpp.html">Calibration.hpp</a></div></div>
<div class="ttc" id="a_detectors_8hpp_html_a06939d30171afd1f13893e05454ed813"><div class="ttname"><a href="_detectors_8hpp.html#a06939d30171afd1f13893e05454ed813">detectors</a></div><div class="ttdeci">class Detectors detectors</div></div>
<div class="ttc" id="a_faster2_root_8hpp_html_a75162947cdf43694952e4c0a53735199"><div class="ttname"><a href="_faster2_root_8hpp.html#a75162947cdf43694952e4c0a53735199">Trigger</a></div><div class="ttdeci">std::function&lt; bool(const Event &amp;)&gt; Trigger</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:17</div></div>
<div class="ttc" id="a_histogramor_8hpp_html_ab48a2fa7184e6354788989602c8c8c29"><div class="ttname"><a href="_histogramor_8hpp.html#ab48a2fa7184e6354788989602c8c8c29">print</a></div><div class="ttdeci">print(&quot;-i [ID_file]      : Load ID file&quot;)</div></div>
<div class="ttc" id="a_timeshifts_8hpp_html"><div class="ttname"><a href="_timeshifts_8hpp.html">Timeshifts.hpp</a></div></div>
<div class="ttc" id="aclass_alignator_html"><div class="ttname"><a href="class_alignator.html">Alignator</a></div><div class="ttdef"><b>Definition:</b> Alignator.hpp:8</div></div>
<div class="ttc" id="aclass_builder_html_a4d557d96189a42cbc0a4a0d32db45d6c"><div class="ttname"><a href="class_builder.html#a4d557d96189a42cbc0a4a0d32db45d6c">Builder::keepSingles</a></div><div class="ttdeci">static void keepSingles(bool const &amp;b=true)</div><div class="ttdef"><b>Definition:</b> Builder.hpp:86</div></div>
<div class="ttc" id="aclass_calibration_html"><div class="ttname"><a href="class_calibration.html">Calibration</a></div><div class="ttdef"><b>Definition:</b> Calibration.hpp:151</div></div>
<div class="ttc" id="aclass_calibration_html_a2d2a0d6276fc2c8a4b60c3801ccc16a9"><div class="ttname"><a href="class_calibration.html#a2d2a0d6276fc2c8a4b60c3801ccc16a9">Calibration::load</a></div><div class="ttdeci">bool load(std::string const &amp;calibFileName)</div><div class="ttdef"><b>Definition:</b> Calibration.hpp:1016</div></div>
<div class="ttc" id="aclass_coinc_builder_html"><div class="ttname"><a href="class_coinc_builder.html">CoincBuilder</a></div><div class="ttdoc">Coincidence builder.</div><div class="ttdef"><b>Definition:</b> CoincBuilder.hpp:22</div></div>
<div class="ttc" id="aclass_coinc_builder_html_a6fbd7caa8ab6ac6bbf4d14eb094b6417"><div class="ttname"><a href="class_coinc_builder.html#a6fbd7caa8ab6ac6bbf4d14eb094b6417">CoincBuilder::build</a></div><div class="ttdeci">bool build(Hit const &amp;_hit)</div><div class="ttdoc">Add Hits to the event. Return true when an event is complete, i.e. current hit is outside of time win...</div><div class="ttdef"><b>Definition:</b> CoincBuilder.hpp:49</div></div>
<div class="ttc" id="aclass_detectors_html_a03f6e9974f958b86ddbbc4670d0209a2"><div class="ttname"><a href="class_detectors.html#a03f6e9974f958b86ddbbc4670d0209a2">Detectors::load</a></div><div class="ttdeci">void load(std::string const &amp;filename)</div><div class="ttdoc">Reads the file and extracts the list of detectors, then fills the lookup tables.</div><div class="ttdef"><b>Definition:</b> Detectors.hpp:214</div></div>
<div class="ttc" id="aclass_event_html"><div class="ttname"><a href="class_event.html">Event</a></div><div class="ttdoc">Event used for reading and writting event, event building and trigger.</div><div class="ttdef"><b>Definition:</b> Event.hpp:80</div></div>
<div class="ttc" id="aclass_event_html_ad016b65deeaef393a94793ef140e1bb8"><div class="ttname"><a href="class_event.html#ad016b65deeaef393a94793ef140e1bb8">Event::labels</a></div><div class="ttdeci">Label labels[255]</div><div class="ttdef"><b>Definition:</b> Event.hpp:178</div></div>
<div class="ttc" id="aclass_faster2_root_html"><div class="ttname"><a href="class_faster2_root.html">Faster2Root</a></div><div class="ttdoc">Basic class to perform faster to root tree data conversion.</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:113</div></div>
<div class="ttc" id="aclass_faster2_root_html_a01cccc30e85ee668bbff3827c838173e"><div class="ttname"><a href="class_faster2_root.html#a01cccc30e85ee668bbff3827c838173e">Faster2Root::throwSingles</a></div><div class="ttdeci">void throwSingles(bool const &amp;_throw_single=true)</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:155</div></div>
<div class="ttc" id="aclass_faster2_root_html_a0717c962ce832333110607b30f8370fc"><div class="ttname"><a href="class_faster2_root.html#a0717c962ce832333110607b30f8370fc">Faster2Root::setNbThreads</a></div><div class="ttdeci">void setNbThreads(int const &amp;nb_threads=-1)</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:142</div></div>
<div class="ttc" id="aclass_faster2_root_html_a07ce8dd1383dcf7b466ab99604516cd1"><div class="ttname"><a href="class_faster2_root.html#a07ce8dd1383dcf7b466ab99604516cd1">Faster2Root::m_use_RF</a></div><div class="ttdeci">bool m_use_RF</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:177</div></div>
<div class="ttc" id="aclass_faster2_root_html_a0eb51359b6d1390a15d2113950bb4bf2"><div class="ttname"><a href="class_faster2_root.html#a0eb51359b6d1390a15d2113950bb4bf2">Faster2Root::m_nb_files</a></div><div class="ttdeci">int m_nb_files</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:170</div></div>
<div class="ttc" id="aclass_faster2_root_html_a1589ca0222d305ef05b8d622e79fbb8b"><div class="ttname"><a href="class_faster2_root.html#a1589ca0222d305ef05b8d622e79fbb8b">Faster2Root::m_trigg_events</a></div><div class="ttdeci">MTCounter m_trigg_events</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:184</div></div>
<div class="ttc" id="aclass_faster2_root_html_a19537e5417a0537a0327b91b78982ca2"><div class="ttname"><a href="class_faster2_root.html#a19537e5417a0537a0327b91b78982ca2">Faster2Root::overwrite</a></div><div class="ttdeci">void overwrite(bool const &amp;_overwrite)</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:149</div></div>
<div class="ttc" id="aclass_faster2_root_html_a1d145e66d56ef7a8f11cd58185b5666c"><div class="ttname"><a href="class_faster2_root.html#a1d145e66d56ef7a8f11cd58185b5666c">Faster2Root::m_timeshifts</a></div><div class="ttdeci">Timeshifts m_timeshifts</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:166</div></div>
<div class="ttc" id="aclass_faster2_root_html_a29bd04235f0c5c32d1f96695135daba5"><div class="ttname"><a href="class_faster2_root.html#a29bd04235f0c5c32d1f96695135daba5">Faster2Root::m_use_trigger</a></div><div class="ttdeci">bool m_use_trigger</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:178</div></div>
<div class="ttc" id="aclass_faster2_root_html_a2ba93a4814723b6103dc25a701f3dc89"><div class="ttname"><a href="class_faster2_root.html#a2ba93a4814723b6103dc25a701f3dc89">Faster2Root::convertFile</a></div><div class="ttdeci">virtual void convertFile(Hit &amp;hit, FasterReader &amp;reader, Path const &amp;outPath)</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:298</div></div>
<div class="ttc" id="aclass_faster2_root_html_a3953ee6d843802ca12997e146fd7046d"><div class="ttname"><a href="class_faster2_root.html#a3953ee6d843802ca12997e146fd7046d">Faster2Root::loadTimeshifts</a></div><div class="ttdeci">void loadTimeshifts(std::string const &amp;dTfile)</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:138</div></div>
<div class="ttc" id="aclass_faster2_root_html_a3c9782dbe54c5b10f21487d2189f4c16"><div class="ttname"><a href="class_faster2_root.html#a3c9782dbe54c5b10f21487d2189f4c16">Faster2Root::m_calibrate</a></div><div class="ttdeci">bool m_calibrate</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:173</div></div>
<div class="ttc" id="aclass_faster2_root_html_a4b32ed9d91512912420c58bab5d4897a"><div class="ttname"><a href="class_faster2_root.html#a4b32ed9d91512912420c58bab5d4897a">Faster2Root::m_time_window</a></div><div class="ttdeci">Long64_t m_time_window</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:171</div></div>
<div class="ttc" id="aclass_faster2_root_html_a50b697e84534b9326fcf678b28b5609a"><div class="ttname"><a href="class_faster2_root.html#a50b697e84534b9326fcf678b28b5609a">Faster2Root::m_eventbuilding</a></div><div class="ttdeci">bool m_eventbuilding</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:172</div></div>
<div class="ttc" id="aclass_faster2_root_html_a50fd46a075ae0a1a1f52b5bb6405047b"><div class="ttname"><a href="class_faster2_root.html#a50fd46a075ae0a1a1f52b5bb6405047b">Faster2Root::s_convertFile</a></div><div class="ttdeci">static void s_convertFile(Hit &amp;hit, FasterReader &amp;reader, Faster2Root &amp;convertor, Path const &amp;outPath)</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:159</div></div>
<div class="ttc" id="aclass_faster2_root_html_a5807435c6403ac0a7fba6da6b43fefce"><div class="ttname"><a href="class_faster2_root.html#a5807435c6403ac0a7fba6da6b43fefce">Faster2Root::m_trigger</a></div><div class="ttdeci">std::function&lt; bool(const Event &amp;)&gt; m_trigger</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:186</div></div>
<div class="ttc" id="aclass_faster2_root_html_a58af91c50f99bd37c48380988292af03"><div class="ttname"><a href="class_faster2_root.html#a58af91c50f99bd37c48380988292af03">Faster2Root::m_calibration</a></div><div class="ttdeci">Calibration m_calibration</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:167</div></div>
<div class="ttc" id="aclass_faster2_root_html_a5b8a78ef8c54117807c770d21fa4acf0"><div class="ttname"><a href="class_faster2_root.html#a5b8a78ef8c54117807c770d21fa4acf0">Faster2Root::loadTriggerFile</a></div><div class="ttdeci">void loadTriggerFile(std::string const &amp;file)</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:265</div></div>
<div class="ttc" id="aclass_faster2_root_html_a5eadd66ea26d632b75a92aa9c2878bf3"><div class="ttname"><a href="class_faster2_root.html#a5eadd66ea26d632b75a92aa9c2878bf3">Faster2Root::buildEvents</a></div><div class="ttdeci">void buildEvents(int time_window_ns)</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:143</div></div>
<div class="ttc" id="aclass_faster2_root_html_a61a5cc14735e615b6a6389a1ece4f694"><div class="ttname"><a href="class_faster2_root.html#a61a5cc14735e615b6a6389a1ece4f694">Faster2Root::Faster2Root</a></div><div class="ttdeci">Faster2Root(int argc, char **argv, Trigger trigger)</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:119</div></div>
<div class="ttc" id="aclass_faster2_root_html_a6cc6f4731958e8c74ad0e07f4d97f4a0"><div class="ttname"><a href="class_faster2_root.html#a6cc6f4731958e8c74ad0e07f4d97f4a0">Faster2Root::printParameters</a></div><div class="ttdeci">virtual void printParameters() const</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:190</div></div>
<div class="ttc" id="aclass_faster2_root_html_a76455ed5fcb82744bb34e0de2f524a0c"><div class="ttname"><a href="class_faster2_root.html#a76455ed5fcb82744bb34e0de2f524a0c">Faster2Root::m_throw_single</a></div><div class="ttdeci">bool m_throw_single</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:174</div></div>
<div class="ttc" id="aclass_faster2_root_html_a7d6d5249c6ced2548a58406eca085cdb"><div class="ttname"><a href="class_faster2_root.html#a7d6d5249c6ced2548a58406eca085cdb">Faster2Root::convert</a></div><div class="ttdeci">void convert(std::string const &amp;dataFolder, std::string const &amp;outputFolder, int const &amp;nb_files=-1)</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:282</div></div>
<div class="ttc" id="aclass_faster2_root_html_a8306673fb7007ca6c7c586ba2df764b9"><div class="ttname"><a href="class_faster2_root.html#a8306673fb7007ca6c7c586ba2df764b9">Faster2Root::Faster2Root</a></div><div class="ttdeci">Faster2Root()</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:116</div></div>
<div class="ttc" id="aclass_faster2_root_html_a88e6c196d62d573ba95bf4f62d8cb15d"><div class="ttname"><a href="class_faster2_root.html#a88e6c196d62d573ba95bf4f62d8cb15d">Faster2Root::m_ok</a></div><div class="ttdeci">bool m_ok</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:176</div></div>
<div class="ttc" id="aclass_faster2_root_html_a943441baaa37c600a49913339a63e89d"><div class="ttname"><a href="class_faster2_root.html#a943441baaa37c600a49913339a63e89d">Faster2Root::setNbFiles</a></div><div class="ttdeci">void setNbFiles(int const &amp;nb_files=-1)</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:141</div></div>
<div class="ttc" id="aclass_faster2_root_html_a957a45ae197b565da07521a27ee73f53"><div class="ttname"><a href="class_faster2_root.html#a957a45ae197b565da07521a27ee73f53">Faster2Root::setCalibration</a></div><div class="ttdeci">void setCalibration(Calibration const &amp;calibration)</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:139</div></div>
<div class="ttc" id="aclass_faster2_root_html_a987fb5d9ee8469817296265b1232bb63"><div class="ttname"><a href="class_faster2_root.html#a987fb5d9ee8469817296265b1232bb63">Faster2Root::m_overwrite</a></div><div class="ttdeci">bool m_overwrite</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:175</div></div>
<div class="ttc" id="aclass_faster2_root_html_a9b7e63609b4123f6f798f70c2de1128b"><div class="ttname"><a href="class_faster2_root.html#a9b7e63609b4123f6f798f70c2de1128b">Faster2Root::m_loaded_trigger</a></div><div class="ttdeci">bool m_loaded_trigger</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:180</div></div>
<div class="ttc" id="aclass_faster2_root_html_aaa5d89a939efb05b6408e65b5f0117c2"><div class="ttname"><a href="class_faster2_root.html#aaa5d89a939efb05b6408e65b5f0117c2">Faster2Root::setTrigger</a></div><div class="ttdeci">void setTrigger(std::function&lt; bool(const Event &amp;)&gt; other)</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:153</div></div>
<div class="ttc" id="aclass_faster2_root_html_aacad03770af4357e587c8138da57a203"><div class="ttname"><a href="class_faster2_root.html#aacad03770af4357e587c8138da57a203">Faster2Root::m_nb_threads</a></div><div class="ttdeci">int m_nb_threads</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:169</div></div>
<div class="ttc" id="aclass_faster2_root_html_aacd4d3fa480eba9bc86b49f4b2040c60"><div class="ttname"><a href="class_faster2_root.html#aacd4d3fa480eba9bc86b49f4b2040c60">Faster2Root::Faster2Root</a></div><div class="ttdeci">Faster2Root(int argc, char **argv)</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:118</div></div>
<div class="ttc" id="aclass_faster2_root_html_ace1cc6bfc486195e5808e946770d5954"><div class="ttname"><a href="class_faster2_root.html#ace1cc6bfc486195e5808e946770d5954">Faster2Root::setTimeshifts</a></div><div class="ttdeci">void setTimeshifts(Timeshifts const &amp;timeshifts)</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:137</div></div>
<div class="ttc" id="aclass_faster2_root_html_acf62aae9afb7e5e49508c4a018039fc3"><div class="ttname"><a href="class_faster2_root.html#acf62aae9afb7e5e49508c4a018039fc3">Faster2Root::m_triggering_labels</a></div><div class="ttdeci">std::vector&lt; Label &gt; m_triggering_labels</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:187</div></div>
<div class="ttc" id="aclass_faster2_root_html_ad07b97d280479aabc26e04d920726ddb"><div class="ttname"><a href="class_faster2_root.html#ad07b97d280479aabc26e04d920726ddb">Faster2Root::Faster2Root</a></div><div class="ttdeci">Faster2Root(Path const &amp;inputFolder, Path const &amp;outputFolder, int const &amp;nb_files=-1, bool const &amp;buildEvents=false)</div><div class="ttdoc">Raw conversion :</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:126</div></div>
<div class="ttc" id="aclass_faster2_root_html_ad30ccf937150bbd3504ec3a354b76c8f"><div class="ttname"><a href="class_faster2_root.html#ad30ccf937150bbd3504ec3a354b76c8f">Faster2Root::load</a></div><div class="ttdeci">void load(int argc, char **argv)</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:209</div></div>
<div class="ttc" id="aclass_faster2_root_html_adb999cc71caadb30a61f64659ba88a2c"><div class="ttname"><a href="class_faster2_root.html#adb999cc71caadb30a61f64659ba88a2c">Faster2Root::m_total_hits</a></div><div class="ttdeci">MTCounter m_total_hits</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:182</div></div>
<div class="ttc" id="aclass_faster2_root_html_ae3fce7a9419f8ed5044f8a8cc7302a6b"><div class="ttname"><a href="class_faster2_root.html#ae3fce7a9419f8ed5044f8a8cc7302a6b">Faster2Root::m_trigger_file</a></div><div class="ttdeci">std::string m_trigger_file</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:179</div></div>
<div class="ttc" id="aclass_faster2_root_html_ae62d8cbcbd702ac3691ebdc54677be47"><div class="ttname"><a href="class_faster2_root.html#ae62d8cbcbd702ac3691ebdc54677be47">Faster2Root::m_total_timer</a></div><div class="ttdeci">Timer m_total_timer</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:185</div></div>
<div class="ttc" id="aclass_faster2_root_html_aecbddf92ed9e6e9f518627e024e43e3e"><div class="ttname"><a href="class_faster2_root.html#aecbddf92ed9e6e9f518627e024e43e3e">Faster2Root::m_total_events</a></div><div class="ttdeci">MTCounter m_total_events</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:183</div></div>
<div class="ttc" id="aclass_faster2_root_html_afaec1876151390b71c475885157670a3"><div class="ttname"><a href="class_faster2_root.html#afaec1876151390b71c475885157670a3">Faster2Root::loadCalibration</a></div><div class="ttdeci">void loadCalibration(std::string const &amp;calibFile)</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:140</div></div>
<div class="ttc" id="aclass_faster_reader_html"><div class="ttname"><a href="class_faster_reader.html">FasterReader</a></div><div class="ttdoc">Class used to read .fast files.</div><div class="ttdef"><b>Definition:</b> FasterReader.hpp:82</div></div>
<div class="ttc" id="aclass_faster_reader_html_a0e799cf6b890a3ca281819efeb2df29e"><div class="ttname"><a href="class_faster_reader.html#a0e799cf6b890a3ca281819efeb2df29e">FasterReader::getCounter</a></div><div class="ttdeci">auto const  &amp; getCounter() const</div><div class="ttdoc">Returns the hits counter.</div><div class="ttdef"><b>Definition:</b> FasterReader.hpp:140</div></div>
<div class="ttc" id="aclass_faster_reader_html_a2d05907241b80ed637b2ae5a01503756"><div class="ttname"><a href="class_faster_reader.html#a2d05907241b80ed637b2ae5a01503756">FasterReader::Read</a></div><div class="ttdeci">bool Read()</div><div class="ttdoc">Main method. Extract the next hit from the data file and fills the Hit *m_hit object.</div><div class="ttdef"><b>Definition:</b> FasterReader.hpp:259</div></div>
<div class="ttc" id="aclass_faster_reader_html_aa1fcb8d6721212bc982cac0ae4e597eb"><div class="ttname"><a href="class_faster_reader.html#aa1fcb8d6721212bc982cac0ae4e597eb">FasterReader::setMaxHits</a></div><div class="ttdeci">static void setMaxHits(ulonglong maxHits)</div><div class="ttdoc">Set the number of hits to read inside each file.</div><div class="ttdef"><b>Definition:</b> FasterReader.hpp:120</div></div>
<div class="ttc" id="aclass_faster_reader_html_aab416287bd95c5dad74fff1ebb45d3c8"><div class="ttname"><a href="class_faster_reader.html#aab416287bd95c5dad74fff1ebb45d3c8">FasterReader::getFilename</a></div><div class="ttdeci">auto const  &amp; getFilename() const</div><div class="ttdoc">Get the name of the file being read.</div><div class="ttdef"><b>Definition:</b> FasterReader.hpp:137</div></div>
<div class="ttc" id="aclass_faster_reader_html_add1cd47aee08955e9a1fb11782129714"><div class="ttname"><a href="class_faster_reader.html#add1cd47aee08955e9a1fb11782129714">FasterReader::filename</a></div><div class="ttdeci">auto const  &amp; filename() const</div><div class="ttdoc">Get the name of the file being read.</div><div class="ttdef"><b>Definition:</b> FasterReader.hpp:134</div></div>
<div class="ttc" id="aclass_file_html"><div class="ttname"><a href="class_file.html">File</a></div><div class="ttdoc">EXPERIMENTAL Composed of a Path and a Filename.</div><div class="ttdef"><b>Definition:</b> files_functions.hpp:681</div></div>
<div class="ttc" id="aclass_file_html_a4162125761930208891770416c498828"><div class="ttname"><a href="class_file.html#a4162125761930208891770416c498828">File::shortName</a></div><div class="ttdeci">std::string const  &amp; shortName() const</div><div class="ttdef"><b>Definition:</b> files_functions.hpp:751</div></div>
<div class="ttc" id="aclass_file_html_a53118ce36851cb1c6845a82f915fd8ba"><div class="ttname"><a href="class_file.html#a53118ce36851cb1c6845a82f915fd8ba">File::exists</a></div><div class="ttdeci">bool exists() const</div><div class="ttdef"><b>Definition:</b> files_functions.hpp:759</div></div>
<div class="ttc" id="aclass_file_html_adcc058679f1c4e1b9561aa7043720ade"><div class="ttname"><a href="class_file.html#adcc058679f1c4e1b9561aa7043720ade">File::c_str</a></div><div class="ttdeci">auto c_str()</div><div class="ttdef"><b>Definition:</b> files_functions.hpp:719</div></div>
<div class="ttc" id="aclass_hit_html"><div class="ttname"><a href="class_hit.html">Hit</a></div><div class="ttdoc">Hit class ///.</div><div class="ttdef"><b>Definition:</b> Hit.hpp:157</div></div>
<div class="ttc" id="aclass_hit_html_a07541ef2177c95ba3de7df1fed1c986f"><div class="ttname"><a href="class_hit.html#a07541ef2177c95ba3de7df1fed1c986f">Hit::qdc2</a></div><div class="ttdeci">ADC qdc2</div><div class="ttdef"><b>Definition:</b> Hit.hpp:201</div></div>
<div class="ttc" id="aclass_hit_html_a3d999e7bbbb470d1d3aa55ee772a98d6"><div class="ttname"><a href="class_hit.html#a3d999e7bbbb470d1d3aa55ee772a98d6">Hit::adc</a></div><div class="ttdeci">ADC adc</div><div class="ttdef"><b>Definition:</b> Hit.hpp:198</div></div>
<div class="ttc" id="aclass_hit_html_a7742ff02158f94fd0ccd163fc34ee9d1"><div class="ttname"><a href="class_hit.html#a7742ff02158f94fd0ccd163fc34ee9d1">Hit::label</a></div><div class="ttdeci">Label label</div><div class="ttdef"><b>Definition:</b> Hit.hpp:196</div></div>
<div class="ttc" id="aclass_hit_html_ab4b93fbbb58d5bf2fd3480238d93065a"><div class="ttname"><a href="class_hit.html#ab4b93fbbb58d5bf2fd3480238d93065a">Hit::nrj2</a></div><div class="ttdeci">NRJ nrj2</div><div class="ttdef"><b>Definition:</b> Hit.hpp:202</div></div>
<div class="ttc" id="aclass_hit_html_ab60637cf6f374e4394139c3594e4464e"><div class="ttname"><a href="class_hit.html#ab60637cf6f374e4394139c3594e4464e">Hit::writting</a></div><div class="ttdeci">void writting(TTree *tree, std::string const &amp;options=&quot;lseqp&quot;)</div><div class="ttdef"><b>Definition:</b> Hit.hpp:287</div></div>
<div class="ttc" id="aclass_hit_html_abda4857e925c3a6315a6fb41fad59189"><div class="ttname"><a href="class_hit.html#abda4857e925c3a6315a6fb41fad59189">Hit::nrj</a></div><div class="ttdeci">NRJ nrj</div><div class="ttdef"><b>Definition:</b> Hit.hpp:199</div></div>
<div class="ttc" id="aclass_hit_html_ad809be4a75a5c588504fa77d442e393d"><div class="ttname"><a href="class_hit.html#ad809be4a75a5c588504fa77d442e393d">Hit::reading</a></div><div class="ttdeci">void reading(TTree *tree)</div><div class="ttdef"><b>Definition:</b> Hit.hpp:239</div></div>
<div class="ttc" id="aclass_hit_html_ad98aea75b451b3246f45b25f1ccb9221"><div class="ttname"><a href="class_hit.html#ad98aea75b451b3246f45b25f1ccb9221">Hit::stamp</a></div><div class="ttdeci">Timestamp stamp</div><div class="ttdef"><b>Definition:</b> Hit.hpp:197</div></div>
<div class="ttc" id="aclass_m_t_counter_html"><div class="ttname"><a href="class_m_t_counter.html">MTCounter</a></div><div class="ttdoc">Atomic counter with convenient overloaded operators.</div><div class="ttdef"><b>Definition:</b> MTCounter.hpp:13</div></div>
<div class="ttc" id="aclass_m_t_faster_reader_html"><div class="ttname"><a href="class_m_t_faster_reader.html">MTFasterReader</a></div><div class="ttdoc">Class used to read in parallel .fast files of the same run.</div><div class="ttdef"><b>Definition:</b> MTFasterReader.hpp:97</div></div>
<div class="ttc" id="aclass_m_t_faster_reader_html_ae316d31ebcb18ae8689522509d1ba513"><div class="ttname"><a href="class_m_t_faster_reader.html#ae316d31ebcb18ae8689522509d1ba513">MTFasterReader::readRaw</a></div><div class="ttdeci">void readRaw(Func &amp;&amp;func, ARGS &amp;&amp;... args)</div><div class="ttdoc">Reads many faster files in parallel.</div><div class="ttdef"><b>Definition:</b> MTFasterReader.hpp:184</div></div>
<div class="ttc" id="aclass_m_t_object_html_aaa3623d88deae3a9311aad39bfff49dc"><div class="ttname"><a href="class_m_t_object.html#aaa3623d88deae3a9311aad39bfff49dc">MTObject::Initialize</a></div><div class="ttdeci">static void Initialize()</div><div class="ttdef"><b>Definition:</b> MTObject.hpp:62</div></div>
<div class="ttc" id="aclass_my_simple_convertor_html"><div class="ttname"><a href="class_my_simple_convertor.html">MySimpleConvertor</a></div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:402</div></div>
<div class="ttc" id="aclass_my_simple_convertor_html_a81d6aadfcbadae6e83dbacc86735a0c5"><div class="ttname"><a href="class_my_simple_convertor.html#a81d6aadfcbadae6e83dbacc86735a0c5">MySimpleConvertor::convertFile</a></div><div class="ttdeci">void convertFile(Hit &amp;hit, FasterReader &amp;reader, Path const &amp;outPath) override</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:416</div></div>
<div class="ttc" id="aclass_my_simple_convertor_html_a98cb80e651f072598ac0eb58264c3fee"><div class="ttname"><a href="class_my_simple_convertor.html#a98cb80e651f072598ac0eb58264c3fee">MySimpleConvertor::MySimpleConvertor</a></div><div class="ttdeci">MySimpleConvertor(ARGS &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> Faster2Root.hpp:406</div></div>
<div class="ttc" id="aclass_path_html"><div class="ttname"><a href="class_path.html">Path</a></div><div class="ttdoc">EXPERIMENTAL Object used to hold the complete path of a giver folder.</div><div class="ttdef"><b>Definition:</b> files_functions.hpp:446</div></div>
<div class="ttc" id="aclass_timer_html"><div class="ttname"><a href="class_timer.html">Timer</a></div><div class="ttdef"><b>Definition:</b> Timer.hpp:11</div></div>
<div class="ttc" id="aclass_timer_html_a3614503158effc6668bc10001d75d20c"><div class="ttname"><a href="class_timer.html#a3614503158effc6668bc10001d75d20c">Timer::unit</a></div><div class="ttdeci">std::string unit()</div><div class="ttdef"><b>Definition:</b> Timer.hpp:68</div></div>
<div class="ttc" id="aclass_timer_html_a4b85f2f938d7261db769607fc50fcaef"><div class="ttname"><a href="class_timer.html#a4b85f2f938d7261db769607fc50fcaef">Timer::TimeSec</a></div><div class="ttdeci">auto TimeSec()</div><div class="ttdef"><b>Definition:</b> Timer.hpp:37</div></div>
<div class="ttc" id="aclass_timeshifts_html"><div class="ttname"><a href="class_timeshifts.html">Timeshifts</a></div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:42</div></div>
<div class="ttc" id="aclass_timeshifts_html_a28163efe8d487669cf50d5f6e1060d71"><div class="ttname"><a href="class_timeshifts.html#a28163efe8d487669cf50d5f6e1060d71">Timeshifts::load</a></div><div class="ttdeci">bool load(std::string const &amp;filename)</div><div class="ttdoc">Use this method to load timeshifts from a .dT file.</div><div class="ttdef"><b>Definition:</b> Timeshifts.hpp:348</div></div>
<div class="ttc" id="alib_co_8hpp_html_a38d84fea74b6f31e86b2e282bb232729"><div class="ttname"><a href="lib_co_8hpp.html#a38d84fea74b6f31e86b2e282bb232729">longlong</a></div><div class="ttdeci">long long int longlong</div><div class="ttdef"><b>Definition:</b> libCo.hpp:94</div></div>
<div class="ttc" id="alib_co_8hpp_html_a6cca31a5d1658456b486e6fa135c690b"><div class="ttname"><a href="lib_co_8hpp.html#a6cca31a5d1658456b486e6fa135c690b">pauseCo</a></div><div class="ttdeci">auto pauseCo()</div><div class="ttdef"><b>Definition:</b> libCo.hpp:47</div></div>
<div class="ttc" id="alib_co_8hpp_html_a6df2dcd4b1f61c75dc292942bc5ca74d"><div class="ttname"><a href="lib_co_8hpp.html#a6df2dcd4b1f61c75dc292942bc5ca74d">throw_error</a></div><div class="ttdeci">void throw_error(std::string const &amp;message)</div><div class="ttdef"><b>Definition:</b> libCo.hpp:234</div></div>
<div class="ttc" id="alib_co_8hpp_html_af522b6efd63a7f871a8307755b1297bf"><div class="ttname"><a href="lib_co_8hpp.html#af522b6efd63a7f871a8307755b1297bf">error_message</a></div><div class="ttdeci">std::map&lt; std::string, std::string &gt; error_message</div><div class="ttdef"><b>Definition:</b> libCo.hpp:236</div></div>
<div class="ttc" id="alib_root_8hpp_html_a3b73f11bc69f125e12c1d48c9ed79a6e"><div class="ttname"><a href="lib_root_8hpp.html#a3b73f11bc69f125e12c1d48c9ed79a6e">unique_TFile</a></div><div class="ttdeci">std::unique_ptr&lt; TFile &gt; unique_TFile</div><div class="ttdef"><b>Definition:</b> libRoot.hpp:45</div></div>
<div class="ttc" id="alib_root_8hpp_html_a50631b7ee8274cbc1161d2a668fdbdf3"><div class="ttname"><a href="lib_root_8hpp.html#a50631b7ee8274cbc1161d2a668fdbdf3">unique_tree</a></div><div class="ttdeci">std::unique_ptr&lt; TTree &gt; unique_tree</div><div class="ttdef"><b>Definition:</b> libRoot.hpp:46</div></div>
<div class="ttc" id="alib_root_8hpp_html_ad91e4154d55b03aec78fc49348f35db1"><div class="ttname"><a href="lib_root_8hpp.html#ad91e4154d55b03aec78fc49348f35db1">alignator</a></div><div class="ttdeci">void alignator(TTree *tree, int *NewIndex)</div><div class="ttdef"><b>Definition:</b> libRoot.hpp:175</div></div>
<div class="ttc" id="astring__functions_8hpp_html_a03fb03d95885354ac3c329693588097b"><div class="ttname"><a href="string__functions_8hpp.html#a03fb03d95885354ac3c329693588097b">found</a></div><div class="ttdeci">bool found(std::string const &amp;string, std::string const &amp;substr)</div><div class="ttdef"><b>Definition:</b> string_functions.hpp:113</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1676326358ffef63bd5695c4f3c09907.html">Modules</a></li><li class="navelem"><a class="el" href="_faster2_root_8hpp.html">Faster2Root.hpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
